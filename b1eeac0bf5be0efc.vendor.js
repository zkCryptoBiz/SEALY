/*! For license information please see b1eeac0bf5be0efc.vendor.js.LICENSE.txt */
(self.webpackChunk_canva_web=self.webpackChunk_canva_web||[]).push([[5436],{322752:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});class n extends Error{}class r extends n{}class i extends n{}class o extends n{}class a extends n{}class s extends n{}class u extends n{}class c extends n{constructor(e){super(`unhandled case: ${JSON.stringify(e)}`)}}let l=0;function f(){return l++}function h(e){return null!=e}function d(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Float32Array}const p={i8:5120,i16:5122,u8:5121,u16:5123,f32:5126,i32:5124},g={i16:2,i8:1,u8:1,u16:2,f32:4,i32:4},m={FLOAT:{type:"float",name:"float",length:1},VEC2:{type:"float",name:"vec2",length:2},VEC3:{type:"float",name:"vec3",length:3},VEC4:{type:"float",name:"vec4",length:4}},y={MAT2:{type:"matrix",name:"mat2",length:4},MAT3:{type:"matrix",name:"mat3",length:9},MAT4:{type:"matrix",name:"mat4",length:16}},v={INT:{type:"int",name:"int",length:1},IVEC2:{type:"int",name:"ivec2",length:2},IVEC3:{type:"int",name:"ivec3",length:3},IVEC4:{type:"int",name:"ivec4",length:4},SAMPLER2D:{type:"int",name:"sampler2D",length:1}},b=new Map([[5126,m.FLOAT],[35664,m.VEC2],[35665,m.VEC3],[35666,m.VEC4],[35674,y.MAT2],[35675,y.MAT3],[35676,y.MAT4],[5124,v.INT],[35667,v.IVEC2],[35668,v.IVEC3],[35669,v.IVEC4],[35678,v.SAMPLER2D]]);class w{constructor(e){var t;this.id=f(),this.source=e,e instanceof ArrayBuffer?this.dataType="f32":(t=e,"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer?this.dataType="f32":this.dataType=function(e){if(e instanceof Float32Array)return"f32";if(e instanceof Uint8Array)return"u8";if(e instanceof Int32Array)return"i32";if(e instanceof Uint8ClampedArray)return"u8";if(e instanceof Int8Array)return"i8";if(e instanceof Int16Array)return"i16";if(e instanceof Uint16Array)return"u16";throw new c(e)}(e)),this.length=e.byteLength/g[this.dataType]}}class E extends w{constructor(){super(...arguments),this.resourceType="buffer"}}class T extends w{constructor(){super(...arguments),this.resourceType="elements"}}const x={points:0,lines:1,"line loop":2,"line strip":3,triangles:4,"triangle strip":5,"triangle fan":6},A={zero:0,one:1,"src color":768,"one minus src color":769,"dst color":774,"one minus dst color":775,"src alpha":770,"one minus src alpha":771,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},S={front:1028,back:1029,"front and back":1032},_={add:32774,subtract:32778,"reverse subtract":32779},O={source:"one",destination:"zero",equation:"add"};const R={never:512,less:513,equal:514,lequal:515,greater:516,notequal:517,gequal:518,always:519};class k{constructor({primitive:e="triangles",shader:t,attributes:n,indices:r,count:i=0,instances:o,uniforms:a={},textures:s={},blend:u,depthTest:c,cullFace:l,renderTarget:f}){var h;this.primitive=x[e],this.shader=t,this.attributes=function(e){const t=Object.create(null);for(const[n,r]of Object.entries(e)){let e;e="buffer"in r&&!d(r)?{...r,buffer:C(r.buffer)}:{buffer:C(r)},t[n]=e}return t}(n),this.indices=r?(h=r,Array.isArray(h)&&(h=new Uint16Array(h)),d(h)&&(h=new T(h)),h):void 0,this.count=i,this.instances=o,this.uniforms=a,this.textures=s,this.cullFace=l?S[l]:void 0,this.blend=u?function(e){var t,n;const r={...O,...null!=(t=e.rgb)?t:e},i={...O,...null!=(n=e.alpha)?n:e};return{rgb:{source:A[r.source],destination:A[r.destination],equation:_[r.equation]},alpha:{source:A[i.source],destination:A[i.destination],equation:_[i.equation]}}}(u):void 0,this.depthTest=c?function(e){var t,n;return{mask:null==(t=e.mask)||t,func:R[null!=(n=e.func)?n:"less"],range:{near:0,far:1,...e.range}}}(c):void 0,this.renderTarget=f}get resources(){return[this.shader,...Object.values(this.attributes).map((e=>e.buffer)),...Object.values(this.textures),this.indices,this.renderTarget].filter(h)}}function C(e){return Array.isArray(e)&&(e=new Float32Array(e)),d(e)&&(e=new E(e)),e}class N{constructor({vertexSource:e,fragmentSource:t}){this.id=f(),this.resourceType="shader",this.vertexSource=e,this.fragmentSource=t,this.programSource=e+t}}const I="preserve",P="fixed";class L{constructor(e){this.id=f(),this.resourceType="texture",this.textureType="render",this.source=null,this.name=e.name,this.alpha=e.alpha||I,this.size=e.size||P,this.width=e.width||("fixed"===this.size?0:1),this.height=e.height||("fixed"===this.size?0:1),this.colorFormat=e.colorFormat,this.numberFormat=e.numberFormat}}function M(e,t){return{width:"fixed"===e.size?e.width||t.width:(e.width||1)*t.width,height:"fixed"===e.size?e.height||t.height:(e.height||1)*t.height}}class j{constructor(e){this.deallocator=e,this.providedResources=new Map}provide(e,t,n){let r=this.providedResources.get(e);return r||(r={resource:n(),owners:new Set}),r.owners.add(t),this.providedResources.set(e,r),r.resource}revoke({owner:e,key:t}){if(void 0===t){const t=[...this.providedResources.values()].filter((t=>t.owners.has(e)));for(const n of t)this.maybeRevokeAndDeallocate(n,e)}else{const n=this.providedResources.get(t);n&&this.maybeRevokeAndDeallocate(n,e)}}get(e){var t;return null==(t=this.providedResources.get(e))?void 0:t.resource}clear(){for(const e of this.providedResources.values())this.deallocator(e.resource);this.providedResources.clear()}count(e){const t=this.providedResources.get(e);return t?t.owners.size:0}maybeRevokeAndDeallocate(e,t){if(e.owners.delete(t),0===e.owners.size){this.deallocator(e.resource);for(const[t,n]of this.providedResources)n===e&&this.providedResources.delete(t)}}}class D{constructor(e,t,n){this.name=e.name,this.length=e.size,this.location=t;const r=b.get(e.type);if(!r)throw new s(`Type of uniform '${e.name}' is not supported.`);this.meta=r,this._data=this.parseData(n)}parseData(e){if(!e)return new Array(this.meta.length).fill(0);const t=this.meta.length*this.length;if(e.flat().length!==t)throw new s(`Could not set uniform '${this.meta.type} ${this.name}'. Expected data with a length of ${t} but your data has a length of ${e.length}.`);return e}equals(e){const t=this._data,n=e;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}get data(){return this._data}set data(e){this._data=this.parseData(e)}}function B(e,t){const{meta:n,name:r,location:i,data:o}=t,a=o.flat();if("int"===n.type)switch(n.length){case 1:e.uniform1iv(i,a);break;case 2:e.uniform2iv(i,a);break;case 3:e.uniform3iv(i,a);break;case 4:e.uniform4iv(i,a);break;default:throw new s(`Could not set the value for uniform '${r}'. Make sure its length is between 1 and 4 (inclusive).`)}else if("float"===n.type)switch(n.length){case 1:e.uniform1fv(i,a);break;case 2:e.uniform2fv(i,a);break;case 3:e.uniform3fv(i,a);break;case 4:e.uniform4fv(i,a);break;default:throw new s(`Could not set the value for uniform '${r}'. Make sure its length is between 1 and 4 (inclusive).`)}else switch(n.length){case 4:e.uniformMatrix2fv(i,!1,a);break;case 9:e.uniformMatrix3fv(i,!1,a);break;case 16:e.uniformMatrix4fv(i,!1,a);break;default:throw new s(`Could not set the value for uniform '${r}'. Make sure its length is between 2 and 4 (inclusive).`)}}function U(e,t,n){(function(e){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);return!!t&&t.precision>10})(e)&&(n=function(e){return e.replace("precision mediump float;","precision highp float;")}(n));const o=e.createShader(t);if(!o)throw new i("Could not create shader");if(e.shaderSource(o,n),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))return o;{const n=e.getShaderInfoLog(o);e.deleteShader(o);const i=t===e.VERTEX_SHADER?"vertex":"fragment";throw new r(`Could not compile ${i} shader. Details: ${n}`)}}function F(e,t){return M(t,{width:e.drawingBufferWidth,height:e.drawingBufferHeight})}function H(e,t,n){if("undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext&&"f32"===t.numberFormat&&!e.getExtension("OES_texture_float"))throw new a("No support for floating point textures");const r=n||e.createTexture();if(!r)throw new i(`Could not create WebGLTexture for texture with ID: '${t.id}'.`);e.bindTexture(e.TEXTURE_2D,r),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,"premultiply"===t.alpha);const o="rgb"===t.colorFormat?e.RGB:e.RGBA,s="f32"===t.numberFormat?e.FLOAT:e.UNSIGNED_BYTE,u="f32"===t.numberFormat?e.NEAREST:e.LINEAR;if("image"!==t.textureType){let n;n="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?o===e.RGB?s===e.FLOAT?e.RGB32F:e.RGB:s===e.FLOAT?e.RGBA32F:e.RGBA:o;const{width:r,height:i}=F(e,t);e.texImage2D(e.TEXTURE_2D,0,n,r,i,0,o,s,t.source)}else(function(e){return"tagName"in e&&"IMG"===e.tagName})(t.source)&&function(e){const t=document.createElement("a");return t.href=e,!("data:"===t.protocol||"blob:"===t.protocol)}(t.source.src)&&!t.source.crossOrigin&&console.warn(`Fragl warning: ${t.source.src} image may come from a different origin but you did not set the crossOrigin attribute.`),e.texImage2D(e.TEXTURE_2D,0,o,o,s,t.source);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),r}class V{constructor(e,t){this.gl=e,this.handleContextLost=()=>{this.onContextLost&&this.onContextLost(new o("Error: WebGL context lost"))},this.env=(null==t?void 0:t.env)||window||{devicePixelRatio:1};const n=e.canvas;if(!n)throw new o("Unexpected canvas type: "+typeof n);this.onDispose=null==t?void 0:t.onDispose,this.canvas=n;const[r,i]=this.canvasSize;this.canvas.width=((null==t?void 0:t.width)||r)*this.env.devicePixelRatio,this.canvas.height=((null==t?void 0:t.height)||i)*this.env.devicePixelRatio,this.canvas.addEventListener("webglcontextlost",this.handleContextLost,{once:!0}),this.fbo=e.createFramebuffer(),this.bufferProvider=new j((t=>e.deleteBuffer(t))),this.programProvider=new j((t=>e.deleteProgram(null==t?void 0:t.program))),this.textureProvider=new j((t=>e.deleteTexture(t))),this.vertexShaderProvider=new j((t=>e.deleteShader(t))),this.fragmentShaderProvider=new j((t=>e.deleteShader(t)))}flush(){this.gl.flush()}resize(...e){let t,n;"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?[t=this.canvas.clientWidth,n=this.canvas.clientHeight]=e:[t,n]=e,this.canvas.width=t*this.env.devicePixelRatio,this.canvas.height=n*this.env.devicePixelRatio}load(e){const t=Array.isArray(e)?e:e.resources;for(const n of t){const t=Array.isArray(e)?n:e;switch(n.resourceType){case"buffer":case"elements":this.getOrCreateBuffer(n,t);break;case"shader":this.getOrCreateShader(n,t);break;case"texture":this.getOrCreateTexture(n,t);break;default:throw new c(n)}}}getOrCreateBuffer(e,t){return this.bufferProvider.provide(e,t,(()=>function(e,t){const n=e.createBuffer(),r="buffer"===t.resourceType?e.ARRAY_BUFFER:e.ELEMENT_ARRAY_BUFFER;return e.bindBuffer(r,n),e.bufferData(r,t.source,e.STATIC_DRAW),e.bindBuffer(r,null),n}(this.gl,e)))}getOrCreateShader(e,t){const{vertexSource:n,fragmentSource:o,programSource:a}=e,{gl:c,programProvider:l,vertexShaderProvider:f,fragmentShaderProvider:h}=this,d=f.provide(n,t,(()=>U(c,c.VERTEX_SHADER,n))),p=h.provide(o,t,(()=>U(c,c.FRAGMENT_SHADER,o)));return l.provide(a,t,(()=>function(e,t,n){const o=e.createProgram();if(!o)throw new i("Could not create program");if(e.attachShader(o,t),e.attachShader(o,n),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new r(`Could not link program. Details: ${e.getProgramInfoLog(o)}`);e.useProgram(o);const a=e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES),c=new Map;for(let r=0;r<a;r++){const t=e.getActiveAttrib(o,r),n=t?e.getAttribLocation(o,t.name):-1;if(!t||-1===n)throw new u(`Could not cache attribute. Could not find attribute or location at index ${r}. This is likely a bug with the renderer.`);const i=b.get(t.type);if(!i)throw new s(`Type of attribute '${t.name}' is not supported.`);e.enableVertexAttribArray(n),c.set(t.name,{location:n,meta:i})}const l=e.getProgramParameter(o,e.ACTIVE_UNIFORMS),f=new Map,h=new Map;let d=0;for(let r=0;r<l;r++){const t=e.getActiveUniform(o,r),n=t?e.getUniformLocation(o,t.name):null;if(!t||!n)throw new u(`Could not cache uniform. Could not find uniform or location at index ${r}. This is likely a bug with the renderer.`);const i=t.name.endsWith("[0]")?t.name.slice(0,-3):t.name;if(t.type===e.SAMPLER_2D||t.type===e.SAMPLER_CUBE){const r=new D(t,n,[d]);f.set(i,r),B(e,r),d++}else{const r=new D(t,n);h.set(i,r),B(e,r)}}return e.useProgram(null),{program:o,attributes:c,textures:f,uniforms:h}}(c,d,p)))}getOrCreateTexture(e,t){return this.textureProvider.provide(e,t,(()=>H(this.gl,e)))}update(e){const t=this.gl,n=Array.isArray(e)?e:e.resources;for(const r of n)if("texture"===r.resourceType){const n=Array.isArray(e)?r:e;H(t,r,this.getOrCreateTexture(r,n))}}clear(e,t){const n=this.gl;if(t){const e=this.getOrCreateTexture(t,t);n.bindFramebuffer(n.FRAMEBUFFER,this.fbo),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null);n.clearColor(...e),n.clear(n.COLOR_BUFFER_BIT)}render(e){var t,n,r,i,u;const c=this.gl,l=Array.isArray(e)?e:e.renderables;for(const f of l){const e=this.getOrCreateShader(f.shader,f);if(f.blend){const{rgb:e,alpha:t}=f.blend;c.enable(c.BLEND),c.blendFuncSeparate(e.source,e.destination,t.source,t.destination),c.blendEquationSeparate(e.equation,t.equation)}else c.disable(c.BLEND);if(f.depthTest){const{depthTest:e}=f;c.enable(c.DEPTH_TEST),c.depthMask(e.mask),c.depthFunc(e.func),c.depthRange(e.range.near,e.range.far)}else c.disable(c.DEPTH_TEST);if(f.cullFace?(c.enable(c.CULL_FACE),c.cullFace(f.cullFace)):c.disable(c.CULL_FACE),c.useProgram(e.program),f.indices){const e=this.getOrCreateBuffer(f.indices,f);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e)}else c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);const l=f.instances?c.getExtension("ANGLE_instanced_arrays"):null;if(f.instances&&!l)throw new a("Instancing is required but not supported on this device");for(const[a,{location:s,meta:u}]of e.attributes.entries()){const e=f.attributes[a];if(!e)throw new o(`Could not locate shader attribute ${a} within Renderable's attributes.`);const h=p[null!=(t=e.type)?t:e.buffer.dataType],d=this.getOrCreateBuffer(e.buffer,f);c.bindBuffer(c.ARRAY_BUFFER,d),c.vertexAttribPointer(s,u.length,h,null!=(n=e.normalized)&&n,null!=(r=e.stride)?r:0,null!=(i=e.offset)?i:0),f.instances&&e.divisor&&l.vertexAttribDivisorANGLE(s,e.divisor)}const h={...f.uniforms,...this.commonUniforms};for(const[t,n]of e.uniforms.entries()){const e=h[t];if(!e)throw new s(`Could not find a value for uniform '${t}'. Make sure you provide a value.`);n.equals(e)||(n.data=e,B(c,n))}for(const[t,n]of e.textures.entries()){c.activeTexture(c.TEXTURE0+n.data.flat()[0]),c.bindTexture(c.TEXTURE_2D,null);const e=f.textures[t];if(!e)throw new s(`Could not find a texture associated with uniform '${t}'. Make sure you provide a value.`);const r=this.getOrCreateTexture(e,f);c.bindTexture(c.TEXTURE_2D,r)}if(f.renderTarget){const e=this.getOrCreateTexture(f.renderTarget,f);if(!e)throw new o(`Could not find render target with ID: ${f.renderTarget.id}. Did you remember to use load()?`);const{width:t,height:n}=F(c,f.renderTarget);c.bindFramebuffer(c.FRAMEBUFFER,this.fbo),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,e,0),c.viewport(0,0,t,n)}else c.bindFramebuffer(c.FRAMEBUFFER,null),c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight);f.instances?f.indices?l.drawElementsInstancedANGLE(f.primitive,f.indices.length,p[f.indices.dataType],0,f.instances):l.drawArraysInstancedANGLE(f.primitive,0,f.count,f.instances):f.indices?c.drawElements(f.primitive,f.indices.length,c.UNSIGNED_SHORT,0):c.drawArrays(f.primitive,0,null!=(u=f.count)?u:0)}}release(e){const t=Array.isArray(e)?e:e.resources;for(const n of t){const t=Array.isArray(e)?n:e;this.deleteResource(n,t)}}readPixels(e){const t=this.gl;let n;if(e){const r=this.getOrCreateTexture(e,e);if(!r)throw new o(`Could not find render target with ID: ${e.id}. Did you remember to use load()?`);n=F(t,e),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),n={width:t.drawingBufferWidth,height:t.drawingBufferHeight};const r=new Uint8Array(n.width*n.height*4);return t.readPixels(0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,r),new ImageData(new Uint8ClampedArray(r.buffer),n.width,n.height)}dispose(){var e;const t=this.gl;this.bufferProvider.clear(),this.textureProvider.clear(),this.programProvider.clear(),this.vertexShaderProvider.clear(),this.fragmentShaderProvider.clear(),t.deleteFramebuffer(this.fbo),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null);const n=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);for(let r=0;r<n;r++)t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,null),t.bindTexture(t.TEXTURE_CUBE_MAP,null);this.canvas.width=this.canvas.height=0,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost),null==(e=this.onDispose)||e.call(this)}deleteResource(e,t){switch(e.resourceType){case"buffer":case"elements":this.bufferProvider.revoke({owner:t,key:e});break;case"texture":this.textureProvider.revoke({owner:t,key:e});break;case"shader":this.vertexShaderProvider.revoke({owner:t,key:e.vertexSource}),this.fragmentShaderProvider.revoke({owner:t,key:e.fragmentSource}),this.programProvider.revoke({owner:t,key:e.programSource});break;default:throw new c(e)}}get commonUniforms(){return{uResolution:[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight],uViewSize:this.canvasSize,uDevicePixelRatio:[this.env.devicePixelRatio]}}get canvasSize(){return"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?[this.canvas.clientWidth,this.canvas.clientHeight]:[this.canvas.width,this.canvas.height]}}const G="uPrevResult",q={attributes:{aPosition:new E(new Float32Array([-1,-1,3,-1,-1,3]))},count:3},z={attributes:{aPosition:new E(new Float32Array([-1,-1,1,1,-1,1,1,1,-1,-1,1,-1]))},count:6};function K(e){return`\nattribute vec2 aPosition;\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTexCoord = aPosition * 0.5 + 0.5;\n    ${e?"vTexCoord.y = 1.0 - vTexCoord.y;":""}\n}\n  `}function W(e){return function(e){return Array.isArray(e)}(e)?e:[e]}function X(e,t,n,r){return new L({name:e,width:t,height:n,size:r||"relative",colorFormat:"rgba",numberFormat:"u8"})}class Y{constructor(e){this.index=0,this.buffers=null!=e?e:[new L({colorFormat:"rgba",numberFormat:"u8"}),new L({colorFormat:"rgba",numberFormat:"u8"})]}currentBuffer(){return this.buffers[this.index]}nextBuffer(){return this.index=(this.index+1)%this.buffers.length,this.buffers[this.index]}}const Z=class e{constructor(t){var n,r,i,o,a,u,c,l,f,h,d,p,g;if(this.allRenderables=[],this.renderablePassMap=new Map,this.uniforms={},this.renderTarget=null==(n=t.options)?void 0:n.renderTarget,this.skipFinalPass=null!=(i=null==(r=t.options)?void 0:r.skipFinalPass)&&i,this.enableOneTriangleOptimisation=null!=(a=null==(o=t.options)?void 0:o.enableOneTriangleOptimisation)?a:e.enableOneTriangleOptimisation,t.uniforms)for(const[e,s]of Object.entries(t.uniforms))this.uniforms[e]=W(s);const m=[];for(let e=0;e<t.passes.length;e++){const n=t.passes[e];"string"==typeof n?m.push({fragment:n}):m.push(n)}this.buffers=(null==(u=t.options)?void 0:u.buffers)||e.createPingpongBuffers(null==(c=t.options)?void 0:c.renderTarget);const y=new Set;for(const e of m)if(e.inputs){for(const t of e.inputs){if(t===G)throw new s(`Your render pass should not define ${G}. This will be automatically added.`);y.add(t)}e.output&&y.add(e.output)}const v=new Map;for(const e of y)v.set(e,X(e,null==(f=null==(l=t.options)?void 0:l.renderTarget)?void 0:f.width,null==(d=null==(h=t.options)?void 0:h.renderTarget)?void 0:d.height,null==(g=null==(p=t.options)?void 0:p.renderTarget)?void 0:g.size));this.createRenderables(m,t,v)}static createPingpongBuffers({width:e,height:t,size:n}={}){return new Y([X("bufferA",e,t,n),X("bufferB",e,t,n)])}createRenderables(e,t,n){e.forEach((e=>{const r=this.createRenderable(e,t,n);this.renderablePassMap.set(r,e),this.allRenderables.push(r)})),this.updateFinalPassRenderable(),this.rewireRenderables(this.allRenderables)}createFinalPassRenderable(){const e=new k({...this.enableOneTriangleOptimisation?q:z,shader:new N({vertexSource:K(!0),fragmentSource:`precision mediump float;\n\nuniform sampler2D ${G};\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n    gl_FragColor = texture2D(${G}, vTexCoord);\n    gl_FragColor.rgb *= gl_FragColor.a;\n}\n  `}),textures:{[G]:this.buffers.currentBuffer()},uniforms:this.uniforms});return this.finalPassRenderable=e,e}updateFinalPassRenderable(){var e;const t=this.renderTarget,n=null==this?void 0:this.skipFinalPass;t||n?this.allRenderables[this.allRenderables.length-1]===this.finalPassRenderable&&this.allRenderables.pop():this.allRenderables[this.allRenderables.length-1]!==this.finalPassRenderable&&this.allRenderables.push(null!=(e=this.finalPassRenderable)?e:this.createFinalPassRenderable())}createRenderable(e,t,n){const r={...t.textures},i=new k({...this.enableOneTriangleOptimisation?q:z,shader:new N({vertexSource:K(),fragmentSource:e.fragment}),uniforms:this.uniforms,textures:r});if(e.inputs)for(const o of e.inputs){const e=n.get(o);if(!e)throw new s(`Unable to assign texture input. Could not find texture '${o}'.`);r[o]=e}if(e.output){const t=n.get(e.output);if(!t)throw new s(`Unable to assign texture output. Could not find texture '${e.output}'.`);i.renderTarget=t}return i}update(e){var t;if(e.textures)for(const[n,r]of Object.entries(e.textures))if(r)for(const e of this.allRenderables)e.textures[n]=r;if(e.uniforms)for(const[n,r]of Object.entries(e.uniforms))this.uniforms[n]&&(this.uniforms[n]=W(r));if(void 0!==e.renderTarget){const n=this.renderTarget;this.renderTarget=null!=(t=e.renderTarget)?t:void 0,(!n&&this.renderTarget||n&&!this.renderTarget)&&(this.updateFinalPassRenderable(),this.rewireRenderables(this.allRenderables))}}get resources(){return this.allRenderables.flatMap((e=>e.resources))}get renderables(){const e=Object.fromEntries(Object.entries(this.uniforms).map((([e,t])=>[e,1===t.length?t[0]:t]))),t=this.allRenderables.filter((t=>{var n;const r=null==(n=this.renderablePassMap.get(t))?void 0:n.shouldRender;return!r||r(e)}));return this.rewireRenderables(t),t}rewireRenderables(e){const t=e=>{var t;e.textures[G]=this.buffers.currentBuffer(),(null==(t=this.renderablePassMap.get(e))?void 0:t.output)||(e.renderTarget=this.buffers.nextBuffer())},n=e=>{e.textures[G]=this.buffers.currentBuffer(),e.renderTarget=this.renderTarget};e.forEach(((r,i)=>{i===e.length-1?n(r):t(r)}))}};Z.enableOneTriangleOptimisation=!1;let $=Z;t.AdditiveBlending={source:"src alpha",destination:"one",equation:"add"},t.BinaryTexture=class{constructor(e){this.id=f(),this.resourceType="texture",this.textureType="binary",this.size=P,this.source=e.source,this.name=e.name,this.alpha=e.alpha||I,this.width=e.width,this.height=e.height}get colorFormat(){const e=this.source.length/(this.width*this.height);if(3===e)return"rgb";if(4===e)return"rgba";throw new s(`Invalid number of color channels for binary texture with ID: ${this.id}. Number of channels must be 3 (RGB) or 4 (RGBA) but the provided data has ${e} channels.`)}get numberFormat(){return this.source instanceof Uint8Array?"u8":"f32"}},t.Buffer=E,t.Effect=$,t.ElementsBuffer=T,t.FraglAllocationError=i,t.FraglCompilationError=r,t.FraglError=n,t.FraglInternalError=u,t.FraglPlatformError=a,t.FraglRuntimeError=o,t.FraglValidationError=s,t.ImageTexture=class{constructor(e){this.id=f(),this.resourceType="texture",this.textureType="image",this.size=P,this.colorFormat="rgba",this.numberFormat="u8",this.source=e.source,this.name=e.name,this.alpha=e.alpha||I}get width(){return this.source.width}get height(){return this.source.height}},t.MockWebGLRenderingContext=class{constructor(e){this.canvas=e,this.DEPTH_BUFFER_BIT=256,this.STENCIL_BUFFER_BIT=1024,this.COLOR_BUFFER_BIT=16384,this.POINTS=0,this.LINES=1,this.LINE_LOOP=2,this.LINE_STRIP=3,this.TRIANGLES=4,this.TRIANGLE_STRIP=5,this.TRIANGLE_FAN=6,this.ZERO=0,this.ONE=1,this.SRC_COLOR=768,this.ONE_MINUS_SRC_COLOR=769,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_ALPHA=771,this.DST_ALPHA=772,this.ONE_MINUS_DST_ALPHA=773,this.DST_COLOR=774,this.ONE_MINUS_DST_COLOR=775,this.SRC_ALPHA_SATURATE=776,this.FUNC_ADD=32774,this.BLEND_EQUATION=32777,this.BLEND_EQUATION_RGB=32777,this.BLEND_EQUATION_ALPHA=34877,this.FUNC_SUBTRACT=32778,this.FUNC_REVERSE_SUBTRACT=32779,this.BLEND_DST_RGB=32968,this.BLEND_SRC_RGB=32969,this.BLEND_DST_ALPHA=32970,this.BLEND_SRC_ALPHA=32971,this.CONSTANT_COLOR=32769,this.ONE_MINUS_CONSTANT_COLOR=32770,this.CONSTANT_ALPHA=32771,this.ONE_MINUS_CONSTANT_ALPHA=32772,this.BLEND_COLOR=32773,this.ARRAY_BUFFER=34962,this.ELEMENT_ARRAY_BUFFER=34963,this.ARRAY_BUFFER_BINDING=34964,this.ELEMENT_ARRAY_BUFFER_BINDING=34965,this.STREAM_DRAW=35040,this.STATIC_DRAW=35044,this.DYNAMIC_DRAW=35048,this.BUFFER_SIZE=34660,this.BUFFER_USAGE=34661,this.CURRENT_VERTEX_ATTRIB=34342,this.FRONT=1028,this.BACK=1029,this.FRONT_AND_BACK=1032,this.TEXTURE_2D=3553,this.CULL_FACE=2884,this.BLEND=3042,this.DITHER=3024,this.STENCIL_TEST=2960,this.DEPTH_TEST=2929,this.SCISSOR_TEST=3089,this.POLYGON_OFFSET_FILL=32823,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.SAMPLE_COVERAGE=32928,this.NO_ERROR=0,this.INVALID_ENUM=1280,this.INVALID_VALUE=1281,this.INVALID_OPERATION=1282,this.OUT_OF_MEMORY=1285,this.CW=2304,this.CCW=2305,this.LINE_WIDTH=2849,this.ALIASED_POINT_SIZE_RANGE=33901,this.ALIASED_LINE_WIDTH_RANGE=33902,this.CULL_FACE_MODE=2885,this.FRONT_FACE=2886,this.DEPTH_RANGE=2928,this.DEPTH_WRITEMASK=2930,this.DEPTH_CLEAR_VALUE=2931,this.DEPTH_FUNC=2932,this.STENCIL_CLEAR_VALUE=2961,this.STENCIL_FUNC=2962,this.STENCIL_FAIL=2964,this.STENCIL_PASS_DEPTH_FAIL=2965,this.STENCIL_PASS_DEPTH_PASS=2966,this.STENCIL_REF=2967,this.STENCIL_VALUE_MASK=2963,this.STENCIL_WRITEMASK=2968,this.STENCIL_BACK_FUNC=34816,this.STENCIL_BACK_FAIL=34817,this.STENCIL_BACK_PASS_DEPTH_FAIL=34818,this.STENCIL_BACK_PASS_DEPTH_PASS=34819,this.STENCIL_BACK_REF=36003,this.STENCIL_BACK_VALUE_MASK=36004,this.STENCIL_BACK_WRITEMASK=36005,this.VIEWPORT=2978,this.SCISSOR_BOX=3088,this.COLOR_CLEAR_VALUE=3106,this.COLOR_WRITEMASK=3107,this.UNPACK_ALIGNMENT=3317,this.PACK_ALIGNMENT=3333,this.MAX_TEXTURE_SIZE=3379,this.MAX_VIEWPORT_DIMS=3386,this.SUBPIXEL_BITS=3408,this.RED_BITS=3410,this.GREEN_BITS=3411,this.BLUE_BITS=3412,this.ALPHA_BITS=3413,this.DEPTH_BITS=3414,this.STENCIL_BITS=3415,this.POLYGON_OFFSET_UNITS=10752,this.POLYGON_OFFSET_FACTOR=32824,this.TEXTURE_BINDING_2D=32873,this.SAMPLE_BUFFERS=32936,this.SAMPLES=32937,this.SAMPLE_COVERAGE_VALUE=32938,this.SAMPLE_COVERAGE_INVERT=32939,this.COMPRESSED_TEXTURE_FORMATS=34467,this.DONT_CARE=4352,this.FASTEST=4353,this.NICEST=4354,this.GENERATE_MIPMAP_HINT=33170,this.BYTE=5120,this.UNSIGNED_BYTE=5121,this.SHORT=5122,this.UNSIGNED_SHORT=5123,this.INT=5124,this.UNSIGNED_INT=5125,this.FLOAT=5126,this.DEPTH_COMPONENT=6402,this.ALPHA=6406,this.RGB=6407,this.RGBA=6408,this.LUMINANCE=6409,this.LUMINANCE_ALPHA=6410,this.UNSIGNED_SHORT_4_4_4_4=32819,this.UNSIGNED_SHORT_5_5_5_1=32820,this.UNSIGNED_SHORT_5_6_5=33635,this.FRAGMENT_SHADER=35632,this.VERTEX_SHADER=35633,this.MAX_VERTEX_ATTRIBS=34921,this.MAX_VERTEX_UNIFORM_VECTORS=36347,this.MAX_VARYING_VECTORS=36348,this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,this.MAX_TEXTURE_IMAGE_UNITS=34930,this.MAX_FRAGMENT_UNIFORM_VECTORS=36349,this.SHADER_TYPE=35663,this.DELETE_STATUS=35712,this.LINK_STATUS=35714,this.VALIDATE_STATUS=35715,this.ATTACHED_SHADERS=35717,this.ACTIVE_UNIFORMS=35718,this.ACTIVE_ATTRIBUTES=35721,this.SHADING_LANGUAGE_VERSION=35724,this.CURRENT_PROGRAM=35725,this.NEVER=512,this.LESS=513,this.EQUAL=514,this.LEQUAL=515,this.GREATER=516,this.NOTEQUAL=517,this.GEQUAL=518,this.ALWAYS=519,this.KEEP=7680,this.REPLACE=7681,this.INCR=7682,this.DECR=7683,this.INVERT=5386,this.INCR_WRAP=34055,this.DECR_WRAP=34056,this.VENDOR=7936,this.RENDERER=7937,this.VERSION=7938,this.NEAREST=9728,this.LINEAR=9729,this.NEAREST_MIPMAP_NEAREST=9984,this.LINEAR_MIPMAP_NEAREST=9985,this.NEAREST_MIPMAP_LINEAR=9986,this.LINEAR_MIPMAP_LINEAR=9987,this.TEXTURE_MAG_FILTER=10240,this.TEXTURE_MIN_FILTER=10241,this.TEXTURE_WRAP_S=10242,this.TEXTURE_WRAP_T=10243,this.TEXTURE=5890,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE_BINDING_CUBE_MAP=34068,this.TEXTURE_CUBE_MAP_POSITIVE_X=34069,this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,this.MAX_CUBE_MAP_TEXTURE_SIZE=34076,this.TEXTURE0=33984,this.TEXTURE1=33985,this.TEXTURE2=33986,this.TEXTURE3=33987,this.TEXTURE4=33988,this.TEXTURE5=33989,this.TEXTURE6=33990,this.TEXTURE7=33991,this.TEXTURE8=33992,this.TEXTURE9=33993,this.TEXTURE10=33994,this.TEXTURE11=33995,this.TEXTURE12=33996,this.TEXTURE13=33997,this.TEXTURE14=33998,this.TEXTURE15=33999,this.TEXTURE16=34e3,this.TEXTURE17=34001,this.TEXTURE18=34002,this.TEXTURE19=34003,this.TEXTURE20=34004,this.TEXTURE21=34005,this.TEXTURE22=34006,this.TEXTURE23=34007,this.TEXTURE24=34008,this.TEXTURE25=34009,this.TEXTURE26=34010,this.TEXTURE27=34011,this.TEXTURE28=34012,this.TEXTURE29=34013,this.TEXTURE30=34014,this.TEXTURE31=34015,this.ACTIVE_TEXTURE=34016,this.REPEAT=10497,this.CLAMP_TO_EDGE=33071,this.MIRRORED_REPEAT=33648,this.FLOAT_VEC2=35664,this.FLOAT_VEC3=35665,this.FLOAT_VEC4=35666,this.INT_VEC2=35667,this.INT_VEC3=35668,this.INT_VEC4=35669,this.BOOL=35670,this.BOOL_VEC2=35671,this.BOOL_VEC3=35672,this.BOOL_VEC4=35673,this.FLOAT_MAT2=35674,this.FLOAT_MAT3=35675,this.FLOAT_MAT4=35676,this.SAMPLER_2D=35678,this.SAMPLER_CUBE=35680,this.VERTEX_ATTRIB_ARRAY_ENABLED=34338,this.VERTEX_ATTRIB_ARRAY_SIZE=34339,this.VERTEX_ATTRIB_ARRAY_STRIDE=34340,this.VERTEX_ATTRIB_ARRAY_TYPE=34341,this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,this.VERTEX_ATTRIB_ARRAY_POINTER=34373,this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,this.IMPLEMENTATION_COLOR_READ_TYPE=35738,this.IMPLEMENTATION_COLOR_READ_FORMAT=35739,this.COMPILE_STATUS=35713,this.LOW_FLOAT=36336,this.MEDIUM_FLOAT=36337,this.HIGH_FLOAT=36338,this.LOW_INT=36339,this.MEDIUM_INT=36340,this.HIGH_INT=36341,this.FRAMEBUFFER=36160,this.RENDERBUFFER=36161,this.RGBA4=32854,this.RGB5_A1=32855,this.RGB565=36194,this.DEPTH_COMPONENT16=33189,this.STENCIL_INDEX=6401,this.STENCIL_INDEX8=36168,this.DEPTH_STENCIL=34041,this.RENDERBUFFER_WIDTH=36162,this.RENDERBUFFER_HEIGHT=36163,this.RENDERBUFFER_INTERNAL_FORMAT=36164,this.RENDERBUFFER_RED_SIZE=36176,this.RENDERBUFFER_GREEN_SIZE=36177,this.RENDERBUFFER_BLUE_SIZE=36178,this.RENDERBUFFER_ALPHA_SIZE=36179,this.RENDERBUFFER_DEPTH_SIZE=36180,this.RENDERBUFFER_STENCIL_SIZE=36181,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,this.COLOR_ATTACHMENT0=36064,this.DEPTH_ATTACHMENT=36096,this.STENCIL_ATTACHMENT=36128,this.DEPTH_STENCIL_ATTACHMENT=33306,this.NONE=0,this.FRAMEBUFFER_COMPLETE=36053,this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,this.FRAMEBUFFER_UNSUPPORTED=36061,this.FRAMEBUFFER_BINDING=36006,this.RENDERBUFFER_BINDING=36007,this.MAX_RENDERBUFFER_SIZE=34024,this.INVALID_FRAMEBUFFER_OPERATION=1286,this.UNPACK_FLIP_Y_WEBGL=37440,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.CONTEXT_LOST_WEBGL=37442,this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,this.BROWSER_DEFAULT_WEBGL=37444}activeTexture(){return{}}attachShader(){return{}}bindAttribLocation(){return{}}bindBuffer(){return{}}bindFramebuffer(){return{}}bindRenderbuffer(){return{}}bindTexture(){return{}}blendColor(){return{}}blendEquation(){return{}}blendEquationSeparate(){return{}}blendFunc(){return{}}blendFuncSeparate(){return{}}bufferData(){return{}}bufferSubData(){return{}}checkFramebufferStatus(){return{}}clear(){return{}}clearColor(){return{}}clearDepth(){return{}}clearStencil(){return{}}colorMask(){return{}}compileShader(){return{}}compressedTexImage2D(){return{}}compressedTexSubImage2D(){return{}}copyTexImage2D(){return{}}copyTexSubImage2D(){return{}}createBuffer(){return{}}createFramebuffer(){return{}}createProgram(){return{}}createRenderbuffer(){return{}}createShader(){return{}}createTexture(){return{}}cullFace(){return{}}deleteBuffer(){return{}}deleteFramebuffer(){return{}}deleteProgram(){return{}}deleteRenderbuffer(){return{}}deleteShader(){return{}}deleteTexture(){return{}}depthFunc(){return{}}depthMask(){return{}}depthRange(){return{}}detachShader(){return{}}disable(){return{}}disableVertexAttribArray(){return{}}drawArrays(){return{}}drawElements(){return{}}enable(){return{}}enableVertexAttribArray(){return{}}finish(){return{}}flush(){return{}}framebufferRenderbuffer(){return{}}framebufferTexture2D(){return{}}frontFace(){return{}}generateMipmap(){return{}}getActiveAttrib(){return{}}getActiveUniform(){return{}}getAttachedShaders(){return{}}getAttribLocation(){return{}}getBufferParameter(){return{}}getContextAttributes(){return{}}getError(){return{}}getExtension(){return null}getFramebufferAttachmentParameter(){return{}}getParameter(){return{}}getProgramParameter(){return{}}getProgramInfoLog(){return{}}getRenderbufferParameter(){return{}}getShaderParameter(){return{}}getShaderInfoLog(){return{}}getShaderPrecisionFormat(){return{}}getShaderSource(){return{}}getSupportedExtensions(){return{}}getTexParameter(){return{}}getUniform(){return{}}getUniformLocation(){return{}}getVertexAttrib(){return{}}getVertexAttribOffset(){return{}}hint(){return{}}isBuffer(){return{}}isContextLost(){return{}}isEnabled(){return{}}isFramebuffer(){return{}}isProgram(){return{}}isRenderbuffer(){return{}}isShader(){return{}}isTexture(){return{}}lineWidth(){return{}}linkProgram(){return{}}pixelStorei(){return{}}polygonOffset(){return{}}readPixels(){return{}}renderbufferStorage(){return{}}sampleCoverage(){return{}}scissor(){return{}}shaderSource(){return{}}stencilFunc(){return{}}stencilFuncSeparate(){return{}}stencilMask(){return{}}stencilMaskSeparate(){return{}}stencilOp(){return{}}stencilOpSeparate(){return{}}texParameterf(){return{}}texParameteri(){return{}}texImage2D(){return{}}texSubImage2D(){return{}}uniform1f(){return{}}uniform1fv(){return{}}uniform1i(){return{}}uniform1iv(){return{}}uniform2f(){return{}}uniform2fv(){return{}}uniform2i(){return{}}uniform2iv(){return{}}uniform3f(){return{}}uniform3fv(){return{}}uniform3i(){return{}}uniform3iv(){return{}}uniform4f(){return{}}uniform4fv(){return{}}uniform4i(){return{}}uniform4iv(){return{}}uniformMatrix2fv(){return{}}uniformMatrix3fv(){return{}}uniformMatrix4fv(){return{}}useProgram(){return{}}validateProgram(){return{}}vertexAttrib1f(){return{}}vertexAttrib1fv(){return{}}vertexAttrib2f(){return{}}vertexAttrib2fv(){return{}}vertexAttrib3f(){return{}}vertexAttrib3fv(){return{}}vertexAttrib4f(){return{}}vertexAttrib4fv(){return{}}vertexAttribPointer(){return{}}viewport(){return{}}},t.PingpongBuffers=Y,t.PremultipliedNormalBlending={source:"one",destination:"one minus src alpha",equation:"add"},t.RenderTexture=L,t.Renderable=k,t.Renderer=class{constructor(e){this.resources=new Map,this.create=e,this.backend=this.createBackend()}createBackend(){const e=this.create();return e.onContextLost=e=>{var t;null==(t=this.onContextLost)||t.call(this,e)},e}load(e){this.backend.load(e);const t=Array.isArray(e)?e:e.resources;for(const n of t)this.resources.set(n.id,n)}update(e){this.backend.update(e)}clear(e,t){this.backend.clear(e,t)}render(e){this.backend.render(e)}readPixels(e){return this.backend.readPixels(e)}flush(){this.backend.flush()}release(e){this.backend.release(e);const t=Array.isArray(e)?e:e.resources;for(const n of t)this.resources.delete(n.id)}dispose(){this.backend.dispose(),this.resources.clear()}restore(){this.backend.dispose(),this.backend=this.createBackend(),this.backend.load(Array.from(this.resources.values()))}resize(...e){const[t,n]=e;if(t===this.canvas.width&&n===this.canvas.height)return;this.backend.resize(...e);const r=Array.from(this.resources.values()).filter((e=>"texture"===e.resourceType&&!e.source&&"relative"===e.size));this.backend.update(r)}get canvas(){return this.backend.canvas}},t.Shader=N,t.WebGlRenderer=V,t.createWebGlRenderer=function(e,t){var n,r;const o=document.createElement("canvas");e.append(o),o.style.width="100%",o.style.height="100%";let a="Unknown";const s=e=>{e.statusMessage&&(a=e.statusMessage)};o.addEventListener("webglcontextcreationerror",s);const u={alpha:null==(n=null==t?void 0:t.alpha)||n,antialias:null==(r=null==t?void 0:t.antialias)||r,depth:!1,stencil:!1,preserveDrawingBuffer:!(null==t||!t.preserveDrawingBuffer),powerPreference:"high-performance",failIfMajorPerformanceCaveat:!(null==t||!t.failIfMajorPerformanceCaveat)},c=null!=t&&t.useWebGl2?o.getContext("webgl2",u):o.getContext("webgl",u);if(o.removeEventListener("webglcontextcreationerror",s),!c)throw new i(`A WebGL context could not be created. Reason: ${a}`);return new V(c,{...t,onDispose:()=>{o.remove()}})},t.getAbsoluteTextureSize=M,t.paddedTuple=function(e,t,n){if(e.length>n)return e.slice(0,n);const r=[...e];for(;r.length<n;)r.push(t);return r}},114461:(e,t,n)=>{"use strict";e.exports=n(322752)},968:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=85)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return A}));var r=n(1),i=n.n(r),o=n(10),a=n.n(o),s=n(17),u=n.n(s),c=n(2),l=n(5),f=n(3),h=n(9),d=n(6),p=n(25),g=n(11),m=n(20);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=Object(g.a)("quill"),x=new c.Registry;c.ParentBlot.uiClass="ql-ui";var A=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=S(t,r),this.container=this.options.container,null==this.container)return T.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",p.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.a;var o=this.options.registry.query(c.ScrollBlot.blotName);this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new l.a(this.scroll),this.selection=new d.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(f.a.events.EDITOR_CHANGE,(function(e){e===f.a.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(f.a.events.SCROLL_UPDATE,(function(e,t,r){var i=n.selection.lastRange,o=b(n.selection.getRange(),1)[0],a=i&&o?{oldRange:i,newRange:o}:void 0;_.call(n,(function(){return n.editor.update(null,t,a)}),e),null!=r&&Object.entries(r).forEach((function(e){var t=b(e,2),r=t[0],i=t[1];return n.selection.format(r,i)}))}));var a=this.clipboard.convert({html:"".concat(i,"<p><br></p>"),text:"\n"});this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}var t,n,r;return t=e,n=[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,i=b(O(e,t,n),4);return e=i[0],t=i[1],n=i[3],_.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(e){this.allowReadOnlyEdits=!0;var t=e();return this.allowReadOnlyEdits=!1,t}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a.sources.API;return _.call(this,(function(){var r=n.getSelection(!0),o=new i.a;if(null==r)return o;if(n.scroll.query(e,c.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,v({},e,t));else{if(0===r.length)return n.selection.format(e,t),o;o=n.editor.formatText(r.index,r.length,v({},e,t))}return n.setSelection(r,f.a.sources.SILENT),o}),r)}},{key:"formatLine",value:function(e,t,n,r,i){var o,a=this,s=b(O(e,t,n,r,i),4);return e=s[0],t=s[1],o=s[2],i=s[3],_.call(this,(function(){return a.editor.formatLine(e,t,o)}),i,e,0)}},{key:"formatText",value:function(e,t,n,r,i){var o,a=this,s=b(O(e,t,n,r,i),4);return e=s[0],t=s[1],o=s[2],i=s[3],_.call(this,(function(){return a.editor.formatText(e,t,o)}),i,e,0)}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t="number"==typeof e?this.selection.getBounds(e,n):this.selection.getBounds(e.index,e.length)))return null;var r=this.container.getBoundingClientRect();return{bottom:t.bottom-r.top,height:t.height,left:t.left-r.left,right:t.right-r.left,top:t.top-r.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=b(O(e,t),2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=b(O(e,t),2);return e=n[0],t=n[1],this.editor.getHTML(e,t)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=b(O(e,t),2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return _.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),o,t)}},{key:"insertText",value:function(e,t,n,r,i){var o,a=this,s=b(O(e,0,n,r,i),4);return e=s[0],o=s[2],i=s[3],_.call(this,(function(){return a.editor.insertText(e,t,o)}),i,e,t.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var e;return(e=this.emitter).off.apply(e,arguments)}},{key:"on",value:function(){var e;return(e=this.emitter).on.apply(e,arguments)}},{key:"once",value:function(){var e;return(e=this.emitter).once.apply(e,arguments)}},{key:"removeFormat",value:function(e,t,n){var r=this,i=b(O(e,t,n),4);return e=i[0],t=i[1],n=i[3],_.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API;return _.call(this,(function(){e=new i.a(e);var n=t.getLength(),r=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),a=t.editor.deleteText(t.getLength()-1,1);return r.compose(o).compose(a)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=b(O(t,n,r),4);t=i[0],n=i[1],r=i[3],this.selection.setRange(new d.a(Math.max(0,t),n),r),r!==f.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API,n=(new i.a).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API;return _.call(this,(function(){return e=new i.a(e),t.editor.applyDelta(e,n)}),n,!0)}}],r=[{key:"debug",value:function(e){!0===e&&(e="log"),g.a.level(e)}},{key:"find",value:function(e){return p.a.get(e)||x.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&T.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/".concat(i),e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||T.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName&&x.register(t),"function"==typeof t.register&&t.register(x)}}],n&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){if((t=u()({container:e,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},t)).theme&&t.theme!==A.DEFAULTS.theme){if(t.theme=A.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=m.a;var n=a()(t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=A.import("modules/".concat(t));return null==n?T.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=u()({},A.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function _(e,t,n,r){if(!this.isEnabled()&&t===f.a.sources.USER&&!this.allowReadOnlyEdits)return new i.a;var o=null==n?null:this.getSelection(),a=this.editor.delta,s=e();if(null!=o&&(!0===n&&(n=o.index),null==r?o=R(o,s,t):0!==r&&(o=R(o,n,r,t)),this.setSelection(o,f.a.sources.SILENT)),s.length()>0){var u,c,l=[f.a.events.TEXT_CHANGE,s,a,t];(u=this.emitter).emit.apply(u,[f.a.events.EDITOR_CHANGE].concat(l)),t!==f.a.sources.SILENT&&(c=this.emitter).emit.apply(c,l)}return s}function O(e,t,n,r,i){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=n,n=t,t=0),"object"===y(n)?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[e,t,o,i=i||f.a.sources.API]}function R(e,t,n,r){if(null==e)return null;var o,a;if(t instanceof i.a){var s=b([e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==f.a.sources.USER)})),2);o=s[0],a=s[1]}else{var u=b([e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===f.a.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),2);o=u[0],a=u[1]}return new d.a(o,a-o)}A.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:x,scrollingContainer:null,theme:"default"},A.events=f.a.events,A.sources=f.a.sources,A.version="2.0.0-dev.46",A.imports={delta:i.a,parchment:c,"core/module":h.a,"core/theme":m.a}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=r(n(50)),o=r(n(10)),a=r(n(18)),s=r(n(51)),u=r(n(42)),c=String.fromCharCode(0),l=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o.default(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(a.default(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+u.default.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+u.default.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],i=u.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<t?a=i.next(t-o):(a=i.next(n-o),r.push(a)),o+=u.default.length(a)}return new e(r)},e.prototype.compose=function(t){var n=u.default.iterator(this.ops),r=u.default.iterator(t.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var c=o.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),i.push(n.next());o.retain-c>0&&r.next(o.retain-c)}for(var l=new e(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())l.push(r.next());else if("delete"===n.peekType())l.push(n.next());else{var f=Math.min(n.peekLength(),r.peekLength()),h=n.next(f),d=r.next(f);if("number"==typeof d.retain){var p={};"number"==typeof h.retain?p.retain=f:p.insert=h.insert;var g=s.default.compose(h.attributes,d.attributes,"number"==typeof h.retain);if(g&&(p.attributes=g),l.push(p),!r.hasNext()&&a.default(l.ops[l.ops.length-1],p)){var m=new e(n.rest());return l.concat(m).chop()}}else"number"==typeof d.delete&&"number"==typeof h.retain&&l.push(d)}return l.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),o=new e,l=i.default(r[0],r[1],n),f=u.default.iterator(this.ops),h=u.default.iterator(t.ops);return l.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.default.INSERT:n=Math.min(h.peekLength(),t),o.push(h.next(n));break;case i.default.DELETE:n=Math.min(t,f.peekLength()),f.next(n),o.delete(n);break;case i.default.EQUAL:n=Math.min(f.peekLength(),h.peekLength(),t);var r=f.next(n),u=h.next(n);a.default(r.insert,u.insert)?o.retain(n,s.default.diff(r.attributes,u.attributes)):o.push(u).delete(n)}t-=n}})),o.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=u.default.iterator(this.ops),i=new e,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=u.default.length(a)-r.peekLength(),c="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(c<0)i.push(r.next());else if(c>0)i.push(r.next(c));else{if(!1===t(i,r.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(r.insert)n.delete(u.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return t.slice(e,e+i).forEach((function(e){r.delete?n.push(e):r.retain&&r.attributes&&n.retain(u.default.length(e),s.default.invert(r.attributes,e.attributes))})),e+i}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,i=u.default.iterator(this.ops),o=u.default.iterator(r.ops),a=new e;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var c=Math.min(i.peekLength(),o.peekLength()),l=i.next(c),f=o.next(c);if(l.delete)continue;f.delete?a.push(f):a.retain(c,s.default.transform(l.attributes,f.attributes,n))}else a.retain(u.default.length(i.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=u.default.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.Op=u.default,e.AttributeMap=s.default,e}();e.exports=l},function(e,t,n){"use strict";n.r(t),n.d(t,"Blot",(function(){return i.Blot})),n.d(t,"ParentBlot",(function(){return m})),n.d(t,"ContainerBlot",(function(){return b})),n.d(t,"LeafBlot",(function(){return T})),n.d(t,"EmbedBlot",(function(){return B})),n.d(t,"ScrollBlot",(function(){return V})),n.d(t,"BlockBlot",(function(){return M})),n.d(t,"InlineBlot",(function(){return P})),n.d(t,"TextBlot",(function(){return q})),n.d(t,"Formattable",(function(){return i.Formattable})),n.d(t,"Attributor",(function(){return x})),n.d(t,"ClassAttributor",(function(){return O})),n.d(t,"StyleAttributor",(function(){return C})),n.d(t,"AttributorStore",(function(){return N})),n.d(t,"Registry",(function(){return h})),n.d(t,"Scope",(function(){return a}));var r,i=n(41);!function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(r||(r={}));var o,a=r,s=function(){function e(){this.head=null,this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.insertBefore(e[0],null),e.length>1){var n=e.slice(1);this.append.apply(this,n)}},e.prototype.at=function(e){for(var t=this.iterator(),n=t();n&&e>0;)e-=1,n=t();return n},e.prototype.contains=function(e){for(var t=this.iterator(),n=t();n;){if(n===e)return!0;n=t()}return!1},e.prototype.indexOf=function(e){for(var t=this.iterator(),n=t(),r=0;n;){if(n===e)return r;r+=1,n=t()}return-1},e.prototype.insertBefore=function(e,t){null!=e&&e!==t&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n=this.iterator(),r=n();r;){var i=r.length();if(e<i||t&&e===i&&(null==r.next||0!==r.next.length()))return[r,e];e-=i,r=n()}return[null,0]},e.prototype.forEach=function(e){for(var t=this.iterator(),n=t();n;)e(n),n=t()},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r=this.find(e),i=r[0],o=e-r[1],a=this.iterator(i),s=a();s&&o<e+t;){var u=s.length();e>o?n(s,e-o,Math.min(t,o+u-e)):n(s,0,Math.min(u,e+t-o)),o+=u,s=a()}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n=this.iterator(),r=n();r;)t=e(t,r),r=n();return t},e}(),u=s,c=(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return c(t,e),t}(Error),f=function(){function e(){this.attributes={},this.classes={},this.tags={},this.types={}}return e.find=function(e,t){return void 0===t&&(t=!1),null==e?null:this.blots.has(e)?this.blots.get(e)||null:t?this.find(e.parentNode,t):null},e.prototype.create=function(t,n,r){var i=this.query(n);if(null==i)throw new l("Unable to create "+n+" blot");var o=i,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(r),s=new o(t,a,r);return e.blots.set(s.domNode,s),s},e.prototype.find=function(t,n){return void 0===n&&(n=!1),e.find(t,n)},e.prototype.query=function(e,t){var n,r=this;return void 0===t&&(t=a.ANY),"string"==typeof e?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof e?e&a.LEVEL&a.BLOCK?n=this.types.block:e&a.LEVEL&a.INLINE&&(n=this.types.inline):e instanceof HTMLElement&&((e.getAttribute("class")||"").split(/\s+/).some((function(e){return!!(n=r.classes[e])})),n=n||this.tags[e.tagName]),null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null},e.prototype.register=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e.register(t)}));var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new l("Invalid definition");if("abstract"===r.blotName)throw new l("Cannot register abstract class");return this.types[r.blotName||r.attrName]=r,"string"==typeof r.keyName?this.attributes[r.keyName]=r:(null!=r.className&&(this.classes[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(t){null!=e.tags[t]&&null!=r.className||(e.tags[t]=r)})))),r},e.blots=new WeakMap,e}(),h=f,d=function(){function e(e,t){this.scroll=e,this.domNode=t,h.blots.set(t,this),this.prev=null,this.next=null}return e.create=function(e){if(null==this.tagName)throw new l("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e,10).toString()===e&&(e=parseInt(e,10))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),e.prototype.attach=function(){},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return this.scroll.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),h.blots.delete(this.domNode)},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var i=this.isolate(e,t);if(null!=this.scroll.query(n,a.BLOT)&&r)i.wrap(n,r);else if(null!=this.scroll.query(n,a.ATTRIBUTE)){var o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?this.scroll.create("text",t):this.scroll.create(t,n),i=this.split(e);this.parent.insertBefore(r,i||void 0)},e.prototype.isolate=function(e,t){var n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new l("Cannot wrap "+e);return n.appendChild(this),n},e.blotName="abstract",e}(),p=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function g(e,t){var n=t.find(e);if(null==n)try{n=t.create(e)}catch(r){n=t.create(a.INLINE),Array.from(e.childNodes).forEach((function(e){n.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach()}return n}var m=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.uiNode=null,r.build(),r}return p(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.attachUI=function(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},t.prototype.build=function(){var e=this;this.children=new u,Array.from(this.domNode.childNodes).filter((function(t){return t!==e.uiNode})).reverse().forEach((function(t){try{var n=g(t,e.scroll);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof l)return;throw r}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){void 0===n&&(n=0);var r=this.children.find(n),i=r[0],o=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,o]:i instanceof t?i.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,o))),o-=a})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.enforceAllowedChildren=function(){var e=this,n=!1;this.children.forEach((function(r){n||e.statics.allowedChildren.some((function(e){return r instanceof e}))||(r.statics.scope===a.BLOCK_BLOT?(null!=r.next&&e.splitAfter(r),null!=r.prev&&e.splitAfter(r.prev),r.parent.unwrap(),n=!0):r instanceof t?r.unwrap():r.remove())}))},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],o=r[1];if(i)i.insertAt(o,t,n);else{var a=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(e!==t){null!=e.parent&&e.parent.children.remove(e);var n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),e.domNode.parentNode===this.domNode&&e.domNode.nextSibling===n||this.domNode.insertBefore(e.domNode,n),e.attach()}},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],o=r[1],a=[[this,e]];return i instanceof t?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replaceWith=function(n,r){var i="string"==typeof n?this.scroll.create(n,r):n;return i instanceof t&&this.moveChildren(i),e.prototype.replaceWith.call(this,i)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(function(e,r,i){var o=e.split(r,t);null!=o&&n.appendChild(o)})),n},t.prototype.splitAfter=function(e){for(var t=this.clone();null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t},t.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(null==e.parentNode||e instanceof Element&&("IFRAME"===e.tagName||null!=e.querySelector("iframe"))||!(document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=n.scroll.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode===n.domNode||e===n.uiNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=n.scroll.find(e.nextSibling));var r=g(e,n.scroll);r.next===t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})),this.enforceAllowedChildren()},t.uiClass="",t}(d),y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},t.prototype.deleteAt=function(t,n){e.prototype.deleteAt.call(this,t,n),this.enforceAllowedChildren()},t.prototype.formatAt=function(t,n,r,i){e.prototype.formatAt.call(this,t,n,r,i),this.enforceAllowedChildren()},t.prototype.insertAt=function(t,n,r){e.prototype.insertAt.call(this,t,n,r),this.enforceAllowedChildren()},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},t.blotName="container",t.scope=a.BLOCK_BLOT,t}(m),b=v,w=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.INLINE_BLOT,t}(d),T=E,x=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=a.TYPE&a.ATTRIBUTE;this.scope=null!=n.scope?n.scope&a.LEVEL|r:a.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return Array.from(e.attributes).map((function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}(),A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function S(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){S(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(S(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(x),O=_,R=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style.setProperty(this.keyName,t),!0)},t.prototype.remove=function(e){e.style.removeProperty(this.keyName),e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style.getPropertyValue(this.keyName).trim();return this.canAdd(e,t)?t:""},t}(x),C=k,N=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=h.find(this.domNode);if(null!=t){var n=x.keys(this.domNode),r=O.keys(this.domNode),i=C.keys(this.domNode);n.concat(r).concat(i).forEach((function(n){var r=t.scroll.query(n,a.ATTRIBUTE);r instanceof x&&(e.attributes[r.attrName]=r)}))}},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}(),I=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.attributes=new N(r.domNode),r}return I(t,e),t.formats=function(e,n){var r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,n){var r=this;if(e!==this.statics.blotName||n){var i=this.scroll.query(e,a.INLINE);if(null==i)return;i instanceof x?this.attributes.attribute(i,n):!n||e===this.statics.blotName&&this.formats()[e]===n||this.replaceWith(e,n)}else this.children.forEach((function(e){e instanceof t||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap()},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||this.scroll.query(r,a.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&this.attributes.move(i),i},t.allowedChildren=[t,T],t.blotName="inline",t.scope=a.INLINE_BLOT,t.tagName="SPAN",t}(m),L=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.attributes=new N(r.domNode),r}return L(t,e),t.formats=function(e,n){var r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,n){var r=this.scroll.query(e,a.BLOCK);null!=r&&(r instanceof x?this.attributes.attribute(r,n):e!==this.statics.blotName||n?!n||e===this.statics.blotName&&this.formats()[e]===n||this.replaceWith(e,n):this.replaceWith(t.blotName))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.formatAt=function(t,n,r,i){null!=this.scroll.query(r,a.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=this.scroll.query(n,a.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t);if(null==i)throw new Error("Attempt to insertAt after block boundaries");var o=this.scroll.create(n,r);i.parent.insertBefore(o,i)}},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.blotName="block",t.scope=a.BLOCK_BLOT,t.tagName="P",t.allowedChildren=[P,t,T],t}(m),j=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.formats=function(e,t){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},t}(T),B=D,U=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},H=function(e){function t(t,n){var r=e.call(this,null,n)||this;return r.registry=t,r.scroll=r,r.build(),r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,F),r.attach(),r}return U(t,e),t.prototype.create=function(e,t){return this.registry.create(this,e,t)},t.prototype.find=function(e,t){void 0===t&&(t=!1);var n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null},t.prototype.query=function(e,t){return void 0===t&&(t=a.ANY),this.registry.query(e,t)},t.prototype.register=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.registry).register.apply(e,t)},t.prototype.build=function(){null!=this.scroll&&e.prototype.build.call(this)},t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var i=n.mutationsMap||new WeakMap,o=Array.from(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var a=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(i.has(e.domNode)||i.set(e.domNode,[]),t&&a(e.parent))},s=function(e){i.has(e.domNode)&&(e instanceof m&&e.children.forEach(s),i.delete(e.domNode),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=r.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(a(r.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((function(e){var t=r.find(e,!1);a(t,!1),t instanceof m&&t.children.forEach((function(e){a(e,!1)}))}))):"attributes"===e.type&&a(t.prev)),a(t))})),this.children.forEach(s),o=(u=Array.from(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),t=t||this.observer.takeRecords();var i=new WeakMap;t.map((function(e){var t=r.find(e.target,!0);return null==t?null:i.has(t.domNode)?(i.get(t.domNode).push(e),null):(i.set(t.domNode,[e]),t)})).forEach((function(e){null!=e&&e!==r&&i.has(e.domNode)&&e.update(i.get(e.domNode)||[],n)})),n.mutationsMap=i,i.has(this.domNode)&&e.prototype.update.call(this,i.get(this.domNode),n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild=M,t.allowedChildren=[M,b],t.scope=a.BLOCK_BLOT,t.tagName="DIV",t}(m),V=H,G=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.text=r.statics.value(r.domNode),r}return G(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){return e.data},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.INLINE_BLOT,t}(T)},function(e,t,n){"use strict";var r=n(43),i=n.n(r),o=n(25),a=n(11);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=Object(a.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((function(e){var n,r=o.a.get(e);r&&r.emitter&&(n=r.emitter).handleDOM.apply(n,t)}))}))}));var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,i=f(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).listeners={},e.on("error",d.error),e}return t=o,n=[{key:"emit",value:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=d.log).call.apply(e,[d].concat(r)),(t=c(h(o.prototype),"emit",this)).call.apply(t,[this].concat(r))}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.a);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},t.a=p},function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return E}));var r=n(1),i=n.n(r),o=n(2),a=n(8),s=n(12),u=n(7);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},m.apply(this,arguments)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).cache={},i}return g(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=x(this)),this.cache.delta}},{key:"deleteAt",value:function(e,t){m(w(n.prototype),"deleteAt",this).call(this,e,t),this.cache={}}},{key:"formatAt",value:function(e,t,r,i){t<=0||(this.scroll.query(r,o.Scope.BLOCK)?e+t===this.length()&&this.format(r,i):m(w(n.prototype),"formatAt",this).call(this,e,Math.min(t,this.length()-e-1),r,i),this.cache={})}},{key:"insertAt",value:function(e,t,r){if(null!=r)return m(w(n.prototype),"insertAt",this).call(this,e,t,r),void(this.cache={});if(0!==t.length){var i=t.split("\n"),o=i.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?m(w(n.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var a=this;i.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,t){var r=this.children.head;m(w(n.prototype),"insertBefore",this).call(this,e,t),r instanceof a.a&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=m(w(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,t){m(w(n.prototype),"moveChildren",this).call(this,e,t),this.cache={}}},{key:"optimize",value:function(e){m(w(n.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return m(w(n.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){m(w(n.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=m(w(n.prototype),"split",this).call(this,e,t);return this.cache={},i}}]),n}(o.BlockBlot);E.blotName="block",E.tagName="P",E.defaultChild=a.a,E.allowedChildren=[a.a,s.a,o.EmbedBlot,u.a];var T=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"attach",value:function(){m(w(n.prototype),"attach",this).call(this),this.attributes=new o.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new i.a).insert(this.value(),f(f({},this.formats()),this.attributes.values()))}},{key:"format",value:function(e,t){var n=this.scroll.query(e,o.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,t,r){if("string"==typeof t&&t.endsWith("\n")){var i=this.scroll.create(E.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,t.slice(0,-1))}else m(w(n.prototype),"insertAt",this).call(this,e,t,r)}}]),n}(o.EmbedBlot);function x(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(o.LeafBlot).reduce((function(e,n){return 0===n.length()?e:e.insert(n.value(),A(n,{},t))}),new i.a).insert("\n",A(e))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("function"==typeof e.formats&&(t=f(f({},t),e.formats()),n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:A(e.parent,t,n))}T.scope=o.Scope.BLOCK_BLOT},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(18),a=n.n(o),s=n(17),u=n.n(s),c=n(1),l=n.n(c),f=n(2),h=n(6),d=n(16),p=n(4),g=n(8),m=n(7);function y(e){return _(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||x()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){return _(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||A(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){if(Array.isArray(e))return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=/^[ -~]*$/,k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}var t,n,r;return t=e,n=[{key:"applyDelta",value:function(e){var t=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var r=function(e){return e.reduce((function(e,t){if("string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new l.a)}(e),i=new l.a;return r.reduce((function(e,r){var o=c.Op.length(r),a=r.attributes||{},s=!1;if(null!=r.insert){if(i.retain(o),"string"==typeof r.insert){var l=r.insert;s=!l.endsWith("\n")&&(n<=e||t.scroll.descendant(p.a,e)[0]),t.scroll.insertAt(e,l);var h=T(t.scroll.line(e),2),d=h[0],g=h[1],m=u()({},Object(p.c)(d));if(d instanceof p.d){var y=T(d.descendant(f.LeafBlot,g),1)[0];m=u()(m,Object(p.c)(y))}a=c.AttributeMap.diff(m,a)||{}}else if("object"===E(r.insert)){var v=Object.keys(r.insert)[0];if(null==v)return e;s=null!=t.scroll.query(v,f.Scope.INLINE)&&(n<=e||t.scroll.descendant(p.a,e)[0]),t.scroll.insertAt(e,v,r.insert[v])}n+=o}else i.push(r);Object.keys(a).forEach((function(n){t.scroll.formatAt(e,o,n,a[n])}));var b=s?1:0;return n+=b,i.delete(b),e+o+b}),0),i.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+c.Op.length(n)}),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new l.a).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((function(i){n.scroll.lines(e,Math.max(t,1)).forEach((function(e){e.format(i,r[i])}))})),this.scroll.optimize();var o=(new l.a).retain(e).retain(t,i()(r));return this.update(o)}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])}));var o=(new l.a).retain(e).retain(t,i()(r));return this.update(o)}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new l.a)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=T(e,1)[0];t instanceof p.d?n.push(t):t instanceof f.LeafBlot&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(f.LeafBlot,e,t));var i=T([n,r].map((function(e){if(0===e.length)return{};for(var t=Object(p.c)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=I(Object(p.c)(n),t)}return t})),2);return n=i[0],r=i[1],b(b({},n),r)}},{key:"getHTML",value:function(e,t){var n=T(this.scroll.line(e),2),r=n[0],i=n[1];return r.length()>=i+t?N(r,i,t,!0):N(this.scroll,e,t,!0)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new l.a).retain(e).insert(w({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new l.a).retain(e).insert(t,i()(r)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.d.blotName&&!(e.children.length>1)&&e.children.head instanceof g.a}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=T(this.scroll.line(e+t),2),i=r[0],o=r[1],a=0,s=new l.a;null!=i&&(a=i.length()-o,s=i.delta().slice(o,o+a-1).insert("\n"));var u=this.getContents(e,t+a).diff((new l.a).insert(n).concat(s)),c=(new l.a).retain(e).concat(u);return this.applyDelta(c)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(R)&&this.scroll.find(t[0].target)){var i=this.scroll.find(t[0].target),o=Object(p.c)(i),s=i.offset(this.scroll),u=t[0].oldValue.replace(d.a.CONTENTS,""),c=(new l.a).insert(u),f=(new l.a).insert(i.value()),h=n&&{oldRange:L(n.oldRange,-s),newRange:L(n.newRange,-s)};e=(new l.a).retain(s).concat(c.diff(f,h)).reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new l.a),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&a()(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}],n&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t,n){if(0===e.length){var r=T(P(n.pop()),1)[0];return t<=0?"</li></".concat(r,">"):"</li></".concat(r,">").concat(C([],t-1,n))}var i=y(e),o=i[0],a=o.child,s=o.offset,u=o.length,c=o.indent,l=o.type,f=i.slice(1),h=T(P(l),2),d=h[0],p=h[1];if(c>t)return n.push(l),c===t+1?"<".concat(d,"><li").concat(p,">").concat(N(a,s,u)).concat(C(f,c,n)):"<".concat(d,"><li>").concat(C(e,t+1,n));var g=n[n.length-1];if(c===t&&l===g)return"</li><li".concat(p,">").concat(N(a,s,u)).concat(C(f,c,n));var m=T(P(n.pop()),1)[0];return"</li></".concat(m,">").concat(C(e,t-1,n))}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof e.html)return e.html(t,n);if(e instanceof m.a)return Object(m.b)(e.value().slice(t,t+n));if(e.children){if("list-container"===e.statics.blotName){var i=[];return e.children.forEachAt(t,n,(function(e,t,n){var r=e.formats();i.push({child:e,offset:t,length:n,indent:r.indent||(r["list-level"]?r["list-level"]-1:0),type:r.list})})),C(i,-1,[])}var o=[];if(e.children.forEachAt(t,n,(function(e,t,n){o.push(N(e,t,n))})),r||"list"===e.statics.blotName)return o.join("");var a=e.domNode,s=a.outerHTML,u=a.innerHTML,c=T(s.split(">".concat(u,"<")),2),l=c[0],f=c[1];return"<table"===l?'<table style="border: 1px solid #000;">'.concat(o.join(""),"<").concat(f):"".concat(l,">").concat(o.join(""),"<").concat(f)}return e.domNode.outerHTML}function I(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}function P(e){var t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function L(e,t){var n=e.index,r=e.length;return new h.a(n+t,r)}t.a=k},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var r=n(2),i=n(10),o=n.n(i),a=n(18),s=n.n(a),u=n(3),c=n(11);function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=Object(c.a)("quill:selection"),v=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,e),this.index=t,this.length=n})),b=function(){function e(t,n){var r=this;m(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new v(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,u.a.sources.USER),1)})),this.emitter.on(u.a.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(u.a.events.SCROLL_UPDATE,(function(){try{r.root.contains(e.start.node)&&r.root.contains(e.end.node)&&r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset),r.update(u.a.sources.SILENT)}catch(t){}}))}})),this.emitter.on(u.a.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s),r.update(u.a.sources.SILENT)}})),this.update(u.a.sources.SILENT)}return g(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(u.a.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,r.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=this.scroll.find(n.start.node,!1);if(null==i)return;if(i instanceof r.LeafBlot){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;var i=f(this.scroll.leaf(e),2),o=i[0],a=i[1];if(null==o)return null;var s=f(o.position(a,!0),2);t=s[0],a=s[1];var u=document.createRange();if(n>0){u.setStart(t,a);var c=f(this.scroll.leaf(e+n),2);if(o=c[0],a=c[1],null==o)return null;var l=f(o.position(a,!0),2);return t=l[0],a=l[1],u.setEnd(t,a),u.getBoundingClientRect()}var h,d="left";if(t instanceof Text){if(!t.data.length)return null;a<t.data.length?(u.setStart(t,a),u.setEnd(t,a+1)):(u.setStart(t,a-1),u.setEnd(t,a),d="right"),h=u.getBoundingClientRect()}else h=o.domNode.getBoundingClientRect(),a>0&&(d="right");return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}},{key:"getNativeRange",value:function(){var e,t=document.getSelection();if(null==t||t.rangeCount<=0)return null;try{e=t.getRangeAt(0)}catch(r){return null}if(null==e)return null;var n=this.normalizeNative(e);return y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||w(this.scroll,document.activeElement)}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=f(e,2),i=n[0],o=n[1],a=t.scroll.find(i,!0),s=a.offset(t.scroll);return 0===o?s:a instanceof r.ContainerBlot?s+a.length():s+a.index(i,o)})),o=Math.min(Math.max.apply(Math,l(i)),this.scroll.length()-1),a=Math.min.apply(Math,[o].concat(l(i)));return new v(a,o-a)}},{key:"normalizeNative",value:function(e){if(!w(this.scroll,e.startContainer)||!e.collapsed&&!w(this.scroll,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],i=this.scroll.length();return n.forEach((function(e,n){e=Math.min(i-1,e);var o=f(t.scroll.leaf(e),2),a=o[0],s=o[1],u=f(a.position(s,0!==n),2),c=u[0],l=u[1];r.push(c,l)})),r.length<2?r.concat(r):r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,i=f(this.scroll.line(Math.min(t.index,r)),1)[0],o=i;if(t.length>0&&(o=f(this.scroll.line(Math.min(t.index+t.length,r)),1)[0]),null!=i&&null!=o){var a=e.getBoundingClientRect();n.top<a.top?e.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(e.scrollTop+=n.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.sources.API;if("string"==typeof t&&(n=t,t=!1),y.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,l(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.sources.USER,t=this.lastRange,n=f(this.getRange(),2),r=n[0],i=n[1];if(this.lastRange=r,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!s()(t,this.lastRange)){var a;if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){var c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}var l,h=[u.a.events.SELECTION_CHANGE,o()(this.lastRange),o()(t),e];(a=this.emitter).emit.apply(a,[u.a.events.EDITOR_CHANGE].concat(h)),e!==u.a.sources.SILENT&&(l=this.emitter).emit.apply(l,h)}}}]),e}();function w(e,t){try{t.parentNode}catch(r){return!1}if(!e.domNode.contains(t))return!1;var n=e.registry.find(t,!0);return n&&n.scroll===e}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.apply(this,arguments)}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(2).TextBlot);function c(e){return e.replace(/[&<>"']/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]}))}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.apply(this,arguments)}return t=u,r=[{key:"value",value:function(){}}],(n=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(2).EmbedBlot);u.blotName="break",u.tagName="BR",t.a=u},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var o=i((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n}));o.DEFAULTS={},t.a=o},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",k="[object Uint32Array]",C=/\w*$/,N=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,P={};P[o]=P["[object Array]"]=P[b]=P[w]=P[a]=P[s]=P[E]=P[T]=P[x]=P[A]=P[S]=P[l]=P[f]=P[h]=P[p]=P[g]=P[m]=P[y]=P[_]=P[O]=P[R]=P[k]=!0,P["[object Error]"]=P[u]=P[v]=!1;var L="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,j=L||M||Function("return this")(),D=t&&!t.nodeType&&t,B=D&&"object"==typeof n&&n&&!n.nodeType&&n,U=B&&B.exports===D;function F(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function V(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function z(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,X=Array.prototype,Y=Function.prototype,Z=Object.prototype,$=j["__core-js_shared__"],J=(W=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Q=Y.toString,ee=Z.hasOwnProperty,te=Z.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=U?j.Buffer:void 0,ie=j.Symbol,oe=j.Uint8Array,ae=z(Object.getPrototypeOf,Object),se=Object.create,ue=Z.propertyIsEnumerable,ce=X.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,he=z(Object.keys,Object),de=Be(j,"DataView"),pe=Be(j,"Map"),ge=Be(j,"Promise"),me=Be(j,"Set"),ye=Be(j,"WeakMap"),ve=Be(Object,"create"),be=Ge(de),we=Ge(pe),Ee=Ge(ge),Te=Ge(me),xe=Ge(ye),Ae=ie?ie.prototype:void 0,Se=Ae?Ae.valueOf:void 0;function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){this.__data__=new Oe(e)}function Ce(e,t){var n=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!ee.call(e,a)||i&&("length"==a||He(a,r))||n.push(a);return n}function Ne(e,t,n){var r=e[t];ee.call(e,t)&&qe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ie(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1}function Pe(e,t,n,r,i,d,v){var N;if(r&&(N=d?r(e,i,d,v):r(e)),void 0!==N)return N;if(!Ye(e))return e;var I=ze(e);if(I){if(N=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,N)}else{var L=Fe(e),M=L==u||L==c;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==h||L==o||M&&!d){if(G(e))return d?e:{};if(N=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:Ye(t=ae(e))?se(t):{};var t}(M?{}:e),!t)return function(e,t){return je(e,Ue(e),t)}(e,function(e,t){return e&&je(t,Ze(t),e)}(N,e))}else{if(!P[L])return d?e:{};N=function(e,t,n,r){var i,o=e.constructor;switch(t){case b:return Me(e);case a:case s:return new o(+e);case w:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case T:case x:case A:case S:case _:case O:case R:case k:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){var r=t?n(q(e),!0):q(e);return V(r,F,new e.constructor)}(e,r,n);case f:case m:return new o(e);case p:return function(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,n){var r=t?n(K(e),!0):K(e);return V(r,H,new e.constructor)}(e,r,n);case y:return i=e,Se?Object(Se.call(i)):{}}}(e,L,Pe,t)}}v||(v=new ke);var j=v.get(e);if(j)return j;if(v.set(e,N),!I)var D=n?function(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ze,Ue)}(e):Ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(D||e,(function(i,o){D&&(i=e[o=i]),Ne(N,o,Pe(i,t,n,r,o,e,v))})),N}function Le(e){return!(!Ye(e)||(t=e,J&&J in t))&&(Xe(e)||G(e)?ne:N).test(Ge(e));var t}function Me(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function je(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Ne(n,a,void 0===s?e[a]:s)}return n}function De(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}_e.prototype.clear=function(){this.__data__=ve?ve(null):{}},_e.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_e.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},_e.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?r:t,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0||(n==t.length-1?t.pop():ce.call(t,n,1),0))},Oe.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},Oe.prototype.has=function(e){return Ie(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Re.prototype.clear=function(){this.__data__={hash:new _e,map:new(pe||Oe),string:new _e}},Re.prototype.delete=function(e){return De(this,e).delete(e)},Re.prototype.get=function(e){return De(this,e).get(e)},Re.prototype.has=function(e){return De(this,e).has(e)},Re.prototype.set=function(e,t){return De(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new Oe},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Oe){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Re(r)}return n.set(e,t),this};var Ue=le?z(le,Object):function(){return[]},Fe=function(e){return te.call(e)};function He(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Ge(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(de&&Fe(new de(new ArrayBuffer(1)))!=w||pe&&Fe(new pe)!=l||ge&&Fe(ge.resolve())!=d||me&&Fe(new me)!=g||ye&&Fe(new ye)!=v)&&(Fe=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ge(n):void 0;if(r)switch(r){case be:return w;case we:return l;case Ee:return d;case Te:return g;case xe:return v}return t});var ze=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Xe(e)}var We=fe||function(){return!1};function Xe(e){var t=Ye(e)?te.call(e):"";return t==u||t==c}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){return Ke(e)?Ce(e):function(e){if(!Ve(e))return he(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return Pe(e,!0,!0)}}).call(this,n(39),n(40)(e))},function(e,t,n){"use strict";var r=["error","warn","log","info"],i="warn";function o(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function a(e){return r.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}a.level=function(e){i=e},o.level=a.level,t.a=a},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(7);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},u.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,n,i,o=l(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,i=[{key:"compare",value:function(e,t){var n=a.order.indexOf(e),r=a.order.indexOf(t);return n>=0||r>=0?n-r:e===t?0:e<t?-1:1}}],(n=[{key:"formatAt",value:function(e,t,n,i){if(a.compare(this.statics.blotName,n)<0&&this.scroll.query(n,r.Scope.BLOT)){var o=this.isolate(e,t);i&&o.wrap(n,i)}else u(f(a.prototype),"formatAt",this).call(this,e,t,n,i)}},{key:"optimize",value:function(e){if(u(f(a.prototype),"optimize",this).call(this,e),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.InlineBlot);h.allowedChildren=[h,i.a,r.EmbedBlot,o.a],h.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return w}));var r=n(4),i=n(8),o=n(16),a=n(12),s=n(7),u=n(15),c=n(0);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},p.apply(this,arguments)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){g(n,e);var t=y(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"code",value:function(e,t){return this.children.map((function(e){return e.length()<=1?"":e.domNode.innerText})).join("\n").slice(e,e+t)}},{key:"html",value:function(e,t){return"<pre>\n".concat(Object(s.b)(this.code(e,t)),"\n</pre>")}}],[{key:"create",value:function(e){var t=p(v(n),"create",this).call(this,e);return t.setAttribute("spellcheck",!1),t}}]),n}(u.a),w=function(e){g(n,e);var t=y(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,null,[{key:"register",value:function(){c.a.register(b)}}]),n}(r.d),E=function(e){g(n,e);var t=y(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n)}(a.a);E.blotName="code",E.tagName="CODE",w.blotName="code-block",w.className="ql-code-block",w.tagName="DIV",b.blotName="code-block-container",b.className="ql-code-block-container",b.tagName="DIV",b.allowedChildren=[w],w.allowedChildren=[s.a,i.a,o.a],w.requiredContainer=b,w.TAB="  "},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(4),a=n(8),s=n(15),u=n(32);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e){return e instanceof o.d||e instanceof o.a}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,s,c=g(f);function f(e,t,n){var r,i=n.emitter;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(r=c.call(this,e,t)).defaultUpdateAttributes=void 0,r.emitter=i,r.optimize(),r.enable(),r.domNode.addEventListener("dragstart",(function(e){return r.handleDragStart(e)})),r}return t=f,n=[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"emitMount",value:function(e){this.emitter.emit(i.a.events.SCROLL_BLOT_MOUNT,e)}},{key:"emitUnmount",value:function(e){this.emitter.emit(i.a.events.SCROLL_BLOT_UNMOUNT,e)}},{key:"deleteAt",value:function(e,t){var n=l(this.line(e),2),r=n[0],i=n[1],s=l(this.line(e+t),1)[0];if(d(m(f.prototype),"deleteAt",this).call(this,e,t),null!=s&&r!==s&&i>0){if(r instanceof o.a||s instanceof o.a)return void this.optimize();var u=s.children.head instanceof a.a?null:s.children.head;r.moveChildren(s,u),r.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,t,n,r){d(m(f.prototype),"formatAt",this).call(this,e,t,n,r),this.optimize()}},{key:"handleDragStart",value:function(e){e.preventDefault()}},{key:"insertAt",value:function(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,r.Scope.BLOCK)){var i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),null==n&&t.endsWith("\n")?i.insertAt(0,t.slice(0,-1),n):i.insertAt(0,t,n)}else{var o=this.scroll.create(t,n);this.appendChild(o)}else d(m(f.prototype),"insertAt",this).call(this,e,t,n);this.optimize()}},{key:"insertBefore",value:function(e,t){if(e.statics.scope===r.Scope.INLINE_BLOT){var n=this.scroll.create(this.statics.defaultChild.blotName);if(n.appendChild(e),d(m(f.prototype),"insertBefore",this).call(this,n,t),null==this.defaultUpdateAttributes)return;var i=this.defaultUpdateAttributes,o=i.paraAttributes,a=i.charAttributes,s=e.domNode;s.nodeType===Node.TEXT_NODE&&Object.entries(a).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];return n.formatAt(0,s.length,r,i)})),Object.entries(o).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];return n.format(r,i)}))}else d(m(f.prototype),"insertBefore",this).call(this,e,t)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(e){var t=this.path(e).pop();return t&&t[0]instanceof r.LeafBlot?t:[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(y,e)}},{key:"lines",value:function(){return function e(t,n,i){var o=[],a=i;return t.children.forEachAt(n,i,(function(t,n,i){y(t)?o.push(t):t instanceof r.ContainerBlot&&(o=o.concat(e(t,n,a))),a-=i})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(d(m(f.prototype),"optimize",this).call(this,e,t),e.length>0&&this.emitter.emit(i.a.events.SCROLL_OPTIMIZE,e,t))}},{key:"path",value:function(e){return d(m(f.prototype),"path",this).call(this,e).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(e){var t=this;if(!0!==this.batch){var n=i.a.sources.USER;if("string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter((function(e){var n=e.target,r=t.find(n,!0);return r&&r.scroll===t})),1===e.length&&"childList"===e[0].type&&1===e[0].removedNodes.length&&e[0].removedNodes[0].tagName===u.b.tagName&&0===e[0].target.childElementCount){var r=e[0],a=this.registry.find(r.target);if(a instanceof u.a){var s=r.removedNodes[0].cloneNode(!1),c=this.scroll.create(s);return a.appendChild(c),void a.deleteAt(0,c.length())}}e.length>0&&this.emitter.emit(i.a.events.SCROLL_BEFORE_UPDATE,n,e);var l,h=0===this.domNode.childElementCount,p=1===this.domNode.childElementCount&&"BR"===this.domNode.firstElementChild.tagName;if((h||p)&&(l=e.find((function(e){return"childList"===e.type&&e.target===t.domNode&&e.removedNodes.length>0}))),l){var g,y=l.removedNodes[0],v=this.registry.find(y);v&&(v instanceof o.d?g=v.delta():v.children&&v.children.head instanceof o.d&&(g=v.children.head.delta()),g&&g.eachLine((function(e,n){var r=e.ops.length>0&&e.ops[0].attributes||{};return t.defaultUpdateAttributes={charAttributes:r,paraAttributes:n},!1})))}d(m(f.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(i.a.events.SCROLL_UPDATE,n,e,p&&this.defaultUpdateAttributes?this.defaultUpdateAttributes.charAttributes:null),this.defaultUpdateAttributes&&(this.defaultUpdateAttributes=void 0)}}}],n&&h(t.prototype,n),s&&h(t,s),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.ScrollBlot);v.blotName="scroll",v.className="ql-editor",v.tagName="DIV",v.defaultChild=o.d,v.allowedChildren=[o.d,o.a,s.a],t.a=v},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.apply(this,arguments)}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(2).ContainerBlot);t.a=u},function(e,t,n){"use strict";var r=n(2),i=n(7);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,o,f=c(h);function h(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(r=f.call(this,e,t)).selection=n,r.textNode=document.createTextNode(h.CONTENTS),r.domNode.appendChild(r.textNode),r.savedLength=0,r}return t=h,o=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,t){if(0===this.savedLength){for(var n=this,i=0;null!=n&&n.statics.scope!==r.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=h.CONTENTS.length,n.optimize(),n.formatAt(i,h.CONTENTS.length,e,t),this.savedLength=0)}else s(l(h.prototype),"format",this).call(this,e,t)}},{key:"index",value:function(e,t){return e===this.textNode?0:s(l(h.prototype),"index",this).call(this,e,t)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(l(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var e=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var t,n=this.prev instanceof i.a?this.prev:null,r=n?n.length():0,o=this.next instanceof i.a?this.next:null,a=o?o.text:"",s=this.textNode,u=s.data.split(h.CONTENTS).join("");s.data=h.CONTENTS;var c=!1;if(n)t=n,(u||o)&&(n.insertAt(n.length(),u+a),o&&o.remove());else if(o)t=o,o.insertAt(0,u);else{var l=document.createTextNode(u);t=this.scroll.create(l),this.parent.insertBefore(t,this),c=!0}if(this.remove(),e){var f=function(e,t){return n&&e===n.domNode?t:e===s?r+t-1:o&&e===o.domNode?r+u.length+t:null},d=f(e.start.node,e.start.offset),p=f(e.end.node,e.end.offset);if(c&&d===p&&0===d&&e.start.node===e.end.node&&e.start.node===s&&(p=d=t.domNode.data.length),null!==d&&null!==p)return{startNode:t.domNode,startOffset:d,endNode:t.domNode,endOffset:p}}return null}},{key:"update",value:function(e,t){var n=this,r=!1;if(e.forEach((function(e){e.target===n.textNode&&"characterData"===e.type?r=!0:e.target===n.domNode&&"childList"===e.type&&e.addedNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&"BR"===e.tagName&&n.domNode.removeChild(e)}))})),r){var i=this.restore();i&&(t.range=i)}}},{key:"optimize",value:function(e){s(l(h.prototype),"optimize",this).call(this,e);for(var t=this.parent;t;){if("A"===t.domNode.tagName){this.savedLength=h.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}},{key:"value",value:function(){return""}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.EmbedBlot);f.blotName="cursor",f.className="ql-cursor",f.tagName="span",f.CONTENTS="\ufeff",t.a=f},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Null]",l="[object Object]",f="[object Proxy]",h="[object Undefined]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[s]=g["[object Map]"]=g["[object Number]"]=g[l]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var m,y,v,b="object"==typeof e&&e&&e.Object===Object&&e,w="object"==typeof self&&self&&self.Object===Object&&self,E=b||w||Function("return this")(),T=t&&!t.nodeType&&t,x=T&&"object"==typeof n&&n&&!n.nodeType&&n,A=x&&x.exports===T,S=A&&b.process,_=function(){try{var e=x&&x.require&&x.require("util").types;return e||S&&S.binding&&S.binding("util")}catch(t){}}(),O=_&&_.isTypedArray,R=Array.prototype,k=Function.prototype,C=Object.prototype,N=E["__core-js_shared__"],I=k.toString,P=C.hasOwnProperty,L=(m=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",M=C.toString,j=I.call(Object),D=RegExp("^"+I.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=A?E.Buffer:void 0,U=E.Symbol,F=E.Uint8Array,H=B?B.allocUnsafe:void 0,V=(y=Object.getPrototypeOf,v=Object,function(e){return y(v(e))}),G=Object.create,q=C.propertyIsEnumerable,z=R.splice,K=U?U.toStringTag:void 0,W=function(){try{var e=be(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),X=B?B.isBuffer:void 0,Y=Math.max,Z=Date.now,$=be(E,"Map"),J=be(Object,"create"),Q=function(){function e(){}return function(t){if(!Ne(t))return{};if(G)return G(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=this.__data__=new te(e);this.size=t.size}function ie(e,t){var n=_e(e),r=!n&&Se(e),i=!n&&!r&&Re(e),o=!n&&!r&&!i&&Pe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!P.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,u))||s.push(c);return s}function oe(e,t,n){(void 0!==n&&!Ae(e[t],n)||void 0===n&&!(t in e))&&ue(e,t,n)}function ae(e,t,n){var r=e[t];P.call(e,t)&&Ae(r,n)&&(void 0!==n||t in e)||ue(e,t,n)}function se(e,t){for(var n=e.length;n--;)if(Ae(e[n][0],t))return n;return-1}function ue(e,t,n){"__proto__"==t&&W?W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ee.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return n===r?void 0:n}return P.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:P.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=J&&void 0===t?r:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():z.call(t,n,1),--this.size,0))},te.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return se(this.__data__,e)>-1},te.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new($||te),string:new ee}},ne.prototype.delete=function(e){var t=ve(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return ve(this,e).get(e)},ne.prototype.has=function(e){return ve(this,e).has(e)},ne.prototype.set=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},re.prototype.clear=function(){this.__data__=new te,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(r)}return n.set(e,t),this.size=n.size,this};var ce,le=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[ce?a:++r];if(!1===t(i[s],s,i))break}return e};function fe(e){return null==e?void 0===e?h:c:K&&K in Object(e)?function(e){var t=P.call(e,K),n=e[K];try{e[K]=void 0;var r=!0}catch(o){}var i=M.call(e);return r&&(t?e[K]=n:delete e[K]),i}(e):function(e){return M.call(e)}(e)}function he(e){return Ie(e)&&fe(e)==o}function de(e){return!(!Ne(e)||function(e){return!!L&&L in e}(e))&&(ke(e)?D:d).test(function(e){if(null!=e){try{return I.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function pe(e){if(!Ne(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ee(e),n=[];for(var r in e)("constructor"!=r||!t&&P.call(e,r))&&n.push(r);return n}function ge(e,t,n,r,i){e!==t&&le(t,(function(o,a){if(i||(i=new re),Ne(o))!function(e,t,n,r,i,o,a){var s=Te(e,n),u=Te(t,n),c=a.get(u);if(c)oe(e,n,c);else{var f,h,d,p,g,m=o?o(s,u,n+"",e,t,a):void 0,y=void 0===m;if(y){var v=_e(u),b=!v&&Re(u),w=!v&&!b&&Pe(u);m=u,v||b||w?_e(s)?m=s:Ie(g=s)&&Oe(g)?m=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):b?(y=!1,m=function(e,t){if(t)return e.slice();var n=e.length,r=H?H(n):new e.constructor(n);return e.copy(r),r}(u,!0)):w?(y=!1,d=(f=u).buffer,p=new d.constructor(d.byteLength),new F(p).set(new F(d)),h=p,m=new f.constructor(h,f.byteOffset,f.length)):m=[]:function(e){if(!Ie(e)||fe(e)!=l)return!1;var t=V(e);if(null===t)return!0;var n=P.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==j}(u)||Se(u)?(m=s,Se(s)?m=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?ue(n,s,u):ae(n,s,u)}return n}(e,Le(e))}(s):Ne(s)&&!ke(s)||(m=function(e){return"function"!=typeof e.constructor||Ee(e)?{}:Q(V(e))}(u))):y=!1}y&&(a.set(u,m),i(m,u,r,o,a),a.delete(u)),oe(e,n,m)}}(e,t,a,n,ge,r,i);else{var s=r?r(Te(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),oe(e,a,s)}}),Le)}function me(e,t){return xe(function(e,t,n){return t=Y(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Y(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,De),e+"")}var ye=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:De;function ve(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return de(n)?n:void 0}function we(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function Te(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var xe=function(e){var t=0,n=0;return function(){var r=Z(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ye);function Ae(e,t){return e===t||e!=e&&t!=t}var Se=he(function(){return arguments}())?he:function(e){return Ie(e)&&P.call(e,"callee")&&!q.call(e,"callee")},_e=Array.isArray;function Oe(e){return null!=e&&Ce(e.length)&&!ke(e)}var Re=X||function(){return!1};function ke(e){if(!Ne(e))return!1;var t=fe(e);return t==s||t==u||t==a||t==f}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ne(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==typeof e}var Pe=O?function(e){return function(t){return e(t)}}(O):function(e){return Ie(e)&&Ce(e.length)&&!!g[fe(e)]};function Le(e){return Oe(e)?ie(e,!0):pe(e)}var Me,je=(Me=function(e,t,n){ge(e,t,n)},me((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Me.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!Ne(n))return!1;var r=typeof t;return!!("number"==r?Oe(n)&&we(t,n.length):"string"==r&&t in n)&&Ae(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Me(e,a,n,i)}return e})));function De(e){return e}n.exports=je}).call(this,n(39),n(40)(e))},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",w="[object Proxy]",E="[object RegExp]",T="[object Set]",x="[object String]",A="[object Symbol]",S="[object Undefined]",_="[object WeakMap]",O="[object ArrayBuffer]",R="[object DataView]",k=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[s]=N[u]=N[O]=N[l]=N[R]=N[f]=N[h]=N[d]=N[g]=N[m]=N[v]=N[E]=N[T]=N[x]=N[_]=!1;var I="object"==typeof e&&e&&e.Object===Object&&e,P="object"==typeof self&&self&&self.Object===Object&&self,L=I||P||Function("return this")(),M=t&&!t.nodeType&&t,j=M&&"object"==typeof n&&n&&!n.nodeType&&n,D=j&&j.exports===M,B=D&&I.process,U=function(){try{return B&&B.binding&&B.binding("util")}catch(e){}}(),F=U&&U.isTypedArray;function H(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var q,z,K,W=Array.prototype,X=Function.prototype,Y=Object.prototype,Z=L["__core-js_shared__"],$=X.toString,J=Y.hasOwnProperty,Q=(q=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",ee=Y.toString,te=RegExp("^"+$.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=D?L.Buffer:void 0,re=L.Symbol,ie=L.Uint8Array,oe=Y.propertyIsEnumerable,ae=W.splice,se=re?re.toStringTag:void 0,ue=Object.getOwnPropertySymbols,ce=ne?ne.isBuffer:void 0,le=(z=Object.keys,K=Object,function(e){return z(K(e))}),fe=Ue(L,"DataView"),he=Ue(L,"Map"),de=Ue(L,"Promise"),pe=Ue(L,"Set"),ge=Ue(L,"WeakMap"),me=Ue(Object,"create"),ye=Ge(fe),ve=Ge(he),be=Ge(de),we=Ge(pe),Ee=Ge(ge),Te=re?re.prototype:void 0,xe=Te?Te.valueOf:void 0;function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _e;++t<n;)this.add(e[t])}function Re(e){var t=this.__data__=new Se(e);this.size=t.size}function ke(e,t){var n=Ke(e),r=!n&&ze(e),i=!n&&!r&&We(e),o=!n&&!r&&!i&&Je(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!J.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ve(c,u))||s.push(c);return s}function Ce(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1}function Ne(e){return null==e?void 0===e?S:y:se&&se in Object(e)?function(e){var t=J.call(e,se),n=e[se];try{e[se]=void 0;var r=!0}catch(o){}var i=ee.call(e);return r&&(t?e[se]=n:delete e[se]),i}(e):function(e){return ee.call(e)}(e)}function Ie(e){return $e(e)&&Ne(e)==s}function Pe(e,t,n,r,a){return e===t||(null==e||null==t||!$e(e)&&!$e(t)?e!=e&&t!=t:function(e,t,n,r,a,c){var d=Ke(e),p=Ke(t),y=d?u:He(e),b=p?u:He(t),w=(y=y==s?v:y)==v,S=(b=b==s?v:b)==v,_=y==b;if(_&&We(e)){if(!We(t))return!1;d=!0,w=!1}if(_&&!w)return c||(c=new Re),d||Je(e)?je(e,t,n,r,a,c):function(e,t,n,r,a,s,u){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!s(new ie(e),new ie(t)));case l:case f:case m:return qe(+e,+t);case h:return e.name==t.name&&e.message==t.message;case E:case x:return e==t+"";case g:var c=V;case T:var d=r&i;if(c||(c=G),e.size!=t.size&&!d)return!1;var p=u.get(e);if(p)return p==t;r|=o,u.set(e,t);var y=je(c(e),c(t),r,a,s,u);return u.delete(e),y;case A:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,y,n,r,a,c);if(!(n&i)){var k=w&&J.call(e,"__wrapped__"),C=S&&J.call(t,"__wrapped__");if(k||C){var N=k?e.value():e,I=C?t.value():t;return c||(c=new Re),a(N,I,n,r,c)}}return!!_&&(c||(c=new Re),function(e,t,n,r,o,a){var s=n&i,u=De(e),c=u.length,l=De(t),f=l.length;if(c!=f&&!s)return!1;for(var h=c;h--;){var d=u[h];if(!(s?d in t:J.call(t,d)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var g=!0;a.set(e,t),a.set(t,e);for(var m=s;++h<c;){var y=e[d=u[h]],v=t[d];if(r)var b=s?r(v,y,d,t,e,a):r(y,v,d,e,t,a);if(!(void 0===b?y===v||o(y,v,n,r,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,a,c))}(e,t,n,r,Pe,a))}function Le(e){return!(!Ze(e)||function(e){return!!Q&&Q in e}(e))&&(Xe(e)?te:k).test(Ge(e))}function Me(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||Y,t!==r)return le(e);var t,n,r,i=[];for(var o in Object(e))J.call(e,o)&&"constructor"!=o&&i.push(o);return i}function je(e,t,n,r,a,s){var u=n&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var h=-1,d=!0,p=n&o?new Oe:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var g=e[h],m=t[h];if(r)var y=u?r(m,g,h,t,e,s):r(g,m,h,e,t,s);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!H(t,(function(e,t){if(i=t,!p.has(i)&&(g===e||a(g,e,n,r,s)))return p.push(t);var i}))){d=!1;break}}else if(g!==m&&!a(g,m,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function De(e){return function(e,t,n){var r=t(e);return Ke(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Qe,Fe)}function Be(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return J.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:J.call(t,e)},Ae.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0||(n==t.length-1?t.pop():ae.call(t,n,1),--this.size,0))},Se.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return Ce(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},_e.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(he||Se),string:new Ae}},_e.prototype.delete=function(e){var t=Be(this,e).delete(e);return this.size-=t?1:0,t},_e.prototype.get=function(e){return Be(this,e).get(e)},_e.prototype.has=function(e){return Be(this,e).has(e)},_e.prototype.set=function(e,t){var n=Be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,r),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new Se,this.size=0},Re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _e(r)}return n.set(e,t),this.size=n.size,this};var Fe=ue?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(ue(e),(function(t){return oe.call(e,t)})))}:function(){return[]},He=Ne;function Ve(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){if(null!=e){try{return $.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(fe&&He(new fe(new ArrayBuffer(1)))!=R||he&&He(new he)!=g||de&&He(de.resolve())!=b||pe&&He(new pe)!=T||ge&&He(new ge)!=_)&&(He=function(e){var t=Ne(e),n=t==v?e.constructor:void 0,r=n?Ge(n):"";if(r)switch(r){case ye:return R;case ve:return g;case be:return b;case we:return T;case Ee:return _}return t});var ze=Ie(function(){return arguments}())?Ie:function(e){return $e(e)&&J.call(e,"callee")&&!oe.call(e,"callee")},Ke=Array.isArray,We=ce||function(){return!1};function Xe(e){if(!Ze(e))return!1;var t=Ne(e);return t==d||t==p||t==c||t==w}function Ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $e(e){return null!=e&&"object"==typeof e}var Je=F?function(e){return function(t){return e(t)}}(F):function(e){return $e(e)&&Ye(e.length)&&!!N[Ne(e)]};function Qe(e){return null!=(t=e)&&Ye(t.length)&&!Xe(t)?ke(e):Me(e);var t}n.exports=function(e,t){return Pe(e,t)}}).call(this,n(39),n(40)(e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return A})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return N}));var r=n(10),i=n.n(r),o=n(18),a=n.n(o),s=n(1),u=n.n(s),c=n(2),l=n(0),f=n(11),h=n(9);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var x=Object(f.a)("quill:keyboard"),A=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(o,e);var t,n,r,i=E(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).bindings={},Object.keys(n.options.bindings).forEach((function(e){n.options.bindings[e]&&n.addBinding(n.options.bindings[e])})),n.addBinding({key:"Enter",shiftKey:null},n.handleEnter),n.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:"Backspace"},{collapsed:!0},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0},n.handleDelete)):(n.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},n.handleDelete)),n.addBinding({key:"Backspace"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Delete"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},n.handleBackspace),n.listen(),n}return t=o,n=[{key:"addBinding",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=C(e);null!=i?("function"==typeof n&&(n={handler:n}),"function"==typeof r&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach((function(e){var o=y(y(y({},i),{},{key:e},n),r);t.bindings[o.key]=t.bindings[o.key]||[],t.bindings[o.key].push(o)}))):x.warn("Attempted to add invalid keyboard binding",i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(t){var n="Enter"===t.key&&229===t.which,r=t.isComposing||n;if(!t.defaultPrevented&&!r){var i=(e.bindings[t.key]||[]).concat(e.bindings[t.which]||[]).filter((function(e){return o.match(t,e)}));if(0!==i.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var u=p(e.quill.getLine(s.index),2),l=u[0],f=u[1],h=p(e.quill.getLeaf(s.index),2),g=h[0],m=h[1],y=p(0===s.length?[g,m]:e.quill.getLeaf(s.index+s.length),2),v=y[0],b=y[1],w=g instanceof c.TextBlot?g.value().slice(0,m):"",E=v instanceof c.TextBlot?v.value().slice(b):"",T={collapsed:0===s.length,empty:0===s.length&&l.length()<=1,format:e.quill.getFormat(s),line:l,offset:f,prefix:w,suffix:E,event:t};i.some((function(t){if(null!=t.collapsed&&t.collapsed!==T.collapsed)return!1;if(null!=t.empty&&t.empty!==T.empty)return!1;if(null!=t.offset&&t.offset!==T.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==T.format[e]})))return!1}else if("object"===d(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=T.format[e]:!1===t.format[e]?null==T.format[e]:a()(t.format[e],T.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(T.prefix)||null!=t.suffix&&!t.suffix.test(T.suffix)||!0===t.handler.call(e,s,T,t))}))&&t.preventDefault()}}}}))}},{key:"handleBackspace",value:function(e,t){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(!(0===e.index||this.quill.getLength()<=1)){var r={},i=p(this.quill.getLine(e.index),1)[0],o=(new u.a).retain(e.index-n).delete(n);if(0===t.offset){var a=p(this.quill.getLine(e.index-1),1)[0];if(a&&!("block"===a.statics.blotName&&a.length()<=1)){var c=i.formats(),f=this.quill.getFormat(e.index-1,1);if(r=s.AttributeMap.diff(c,f)||{},Object.keys(r).length>0){var h=(new u.a).retain(e.index+i.length()-2).retain(1,r);o=o.compose(h)}}}this.quill.updateContents(o,l.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},i=p(this.quill.getLine(e.index),1)[0],o=(new u.a).retain(e.index).delete(n);if(t.offset>=i.length()-1){var a=p(this.quill.getLine(e.index+1),1)[0];if(a){var c=i.formats(),f=this.quill.getFormat(e.index,1);r=s.AttributeMap.diff(c,f)||{},Object.keys(r).length>0&&(o=o.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(o,l.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(e){N({range:e,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(e,t){var n=this,r=Object.keys(t.format).reduce((function(e,r){return n.quill.scroll.query(r,c.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{}),i=(new u.a).retain(e.index).delete(e.length).insert("\n",r);this.quill.updateContents(i,l.a.sources.USER),this.quill.setSelection(e.index+1,l.a.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"code"!==e&&"link"!==e&&n.quill.format(e,t.format[e],l.a.sources.USER))}))}}],r=[{key:"match",value:function(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&(t.key===e.key||t.key===e.which)}}],n&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(h.a);function _(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=this.quill.scroll.query("code-block"),r=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t),i=t.index,o=t.length;r.forEach((function(t,r){e?(t.insertAt(0,n.TAB),0===r?i+=n.TAB.length:o+=n.TAB.length):t.domNode.textContent.startsWith(n.TAB)&&(t.deleteAt(0,n.TAB.length),0===r?i-=n.TAB.length:o-=n.TAB.length)})),this.quill.update(l.a.sources.USER),this.quill.setSelection(i,o,l.a.sources.SILENT)}}}function O(e,t){var n;return v(n={key:e,shiftKey:t,altKey:null},"ArrowLeft"===e?"prefix":"suffix",/^$/),v(n,"handler",(function(n){var r=n.index;return"ArrowRight"===e&&(r+=n.length+1),!(p(this.quill.getLeaf(r),1)[0]instanceof c.EmbedBlot&&("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,l.a.sources.USER):this.quill.setSelection(n.index-1,l.a.sources.USER):t?this.quill.setSelection(n.index,n.length+1,l.a.sources.USER):this.quill.setSelection(n.index+n.length+1,l.a.sources.USER),1))})),n}function R(e){return{key:e[0],shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],l.a.sources.USER)}}}function k(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler:function(t,n){var r=e?"prev":"next",i=n.line,o=i.parent[r];if(null!=o){if("table-row"===o.statics.blotName){for(var a=o.children.head,s=i;null!=s.prev;)s=s.prev,a=a.next;var u=a.offset(this.quill.scroll)+Math.min(n.offset,a.length()-1);this.quill.setSelection(u,0,l.a.sources.USER)}}else{var c=i.table()[r];null!=c&&(e?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,l.a.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,l.a.sources.USER))}return!1}}}function C(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!==d(e))return null;e=i()(e)}return e.shortKey&&(e[A]=e.shortKey,delete e.shortKey),e}function N(e){var t=e.quill,n=e.range,r=t.getLines(n),i={};if(r.length>1){var o=r[0].formats(),a=r[r.length-1].formats();i=s.AttributeMap.diff(a,o)||{}}t.deleteText(n,l.a.sources.USER),Object.keys(i).length>0&&t.formatLine(n.index,1,i,l.a.sources.USER),t.setSelection(n.index,l.a.sources.SILENT)}S.DEFAULTS={bindings:{bold:R("bold"),italic:R("italic"),underline:R("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",l.a.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",l.a.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",l.a.sources.USER):null!=t.format.list&&this.quill.format("list",!1,l.a.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,l.a.sources.USER)}},tab:{key:"Tab",handler:function(e,t){if(t.format.table)return!0;this.quill.history.cutoff();var n=(new u.a).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,l.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,l.a.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,l.a.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(e,t){var n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,l.a.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(e){var t=p(this.quill.getLine(e.index),2),n=t[0],r=t[1],i=y(y({},n.formats()),{},{list:"checked"}),o=(new u.a).retain(e.index).insert("\n",i).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,l.a.sources.USER),this.quill.setSelection(e.index+1,l.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=p(this.quill.getLine(e.index),2),r=n[0],i=n[1],o=(new u.a).retain(e.index).insert("\n",t.format).retain(r.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,l.a.sources.USER),this.quill.setSelection(e.index+1,l.a.sources.SILENT),this.quill.scrollIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler:function(e){var t=this.quill.getModule("table");if(t){var n=p(t.getTable(e),4),r=n[0],i=function(e,t,n,r){return null==t.prev&&null==t.next?null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1:null==t.prev?-1:null==t.next?1:null}(0,n[1],n[2],n[3]);if(null==i)return;var o=r.offset();if(i<0){var a=(new u.a).retain(o).insert("\n");this.quill.updateContents(a,l.a.sources.USER),this.quill.setSelection(e.index+1,e.length,l.a.sources.SILENT)}else if(i>0){o+=r.length();var s=(new u.a).retain(o).insert("\n");this.quill.updateContents(s,l.a.sources.USER),this.quill.setSelection(o,l.a.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler:function(e,t){var n=t.event,r=t.line,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,l.a.sources.USER):this.quill.setSelection(i+r.length(),l.a.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){if(null==this.quill.scroll.query("list"))return!0;var n,r=t.prefix.length,i=p(this.quill.getLine(e.index),2),o=i[0],a=i[1];if(a>r)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(e.index," ",l.a.sources.USER),this.quill.history.cutoff();var s=(new u.a).retain(e.index-a).delete(r+1).retain(o.length()-2-a).retain(1,{list:n});return this.quill.updateContents(s,l.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,l.a.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(e){for(var t=p(this.quill.getLine(e.index),2),n=t[0],r=t[1],i=2,o=n;null!=o&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,(i-=1)<=0){var a=(new u.a).retain(e.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,l.a.sources.USER),this.quill.setSelection(e.index-1,l.a.sources.SILENT),!1}return!0}},"embed left":O("ArrowLeft",!1),"embed left shift":O("ArrowLeft",!0),"embed right":O("ArrowRight",!1),"embed right shift":O("ArrowRight",!0),"table down":k(!1),"table up":k(!0)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(2);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,n,r,i=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"value",value:function(e){var t=a(c(l.prototype),"value",this).call(this,e);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var n=t.split(",").map((function(e){return"00".concat(parseInt(e,10).toString(16)).slice(-2)})).join("");return"#".concat(n)}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.StyleAttributor),f=new r.ClassAttributor("color","ql-color",{scope:r.Scope.INLINE}),h=new l("color","color",{scope:r.Scope.INLINE})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(2),i={scope:r.Scope.BLOCK,whitelist:["rtl"]},o=new r.Attributor("direction","dir",i),a=new r.ClassAttributor("direction","ql-direction",i),s=new r.StyleAttributor("direction","direction",i)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(2),i={scope:r.Scope.BLOCK,whitelist:["right","center","justify"]},o=new r.Attributor("align","align",i),a=new r.ClassAttributor("align","ql-align",i),s=new r.StyleAttributor("align","text-align",i)},function(e,t,n){"use strict";t.a=new WeakMap},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(2),i=n(21),o=new r.ClassAttributor("background","ql-bg",{scope:r.Scope.INLINE}),a=new i.a("background","background-color",{scope:r.Scope.INLINE})},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(2);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l={scope:r.Scope.INLINE,whitelist:["serif","monospace"]},f=new r.ClassAttributor("font","ql-font",l),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,n,r,i=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"value",value:function(e){return a(c(l.prototype),"value",this).call(this,e).replace(/["']/g,"")}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.StyleAttributor),d=new h("font","font-family",l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(2),i=new r.ClassAttributor("size","ql-size",{scope:r.Scope.INLINE,whitelist:["small","large","huge"]}),o=new r.StyleAttributor("size","font-size",{scope:r.Scope.INLINE,whitelist:["10px","18px","32px"]})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n(4),i=n(15),o=n(0);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){f(n,e);var t=d(n);function n(){return l(this,n),t.apply(this,arguments)}return c(n)}(i.a);g.blotName="list-container",g.tagName="OL";var m=function(e){f(n,e);var t=d(n);function n(e,r){var i;l(this,n),i=t.call(this,e,r);var o=r.ownerDocument.createElement("span"),a=function(t){if(e.isEnabled()){var n=i.statics.formats(r,e);"checked"===n?(i.format("list","unchecked"),t.preventDefault()):"unchecked"===n&&(i.format("list","checked"),t.preventDefault())}};return o.addEventListener("mousedown",a),o.addEventListener("touchstart",a),i.attachUI(o),i}return c(n,[{key:"format",value:function(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):s(p(n.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=s(p(n),"create",this).call(this);return t.setAttribute("data-list",e),t}},{key:"formats",value:function(e){return e.getAttribute("data-list")||void 0}},{key:"register",value:function(){o.a.register(g)}}]),n}(r.d);m.blotName="list",m.tagName="LI",g.allowedChildren=[m],m.requiredContainer=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(2),i=n(0);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,n,r,o=u(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.a.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.a.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.a.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"z",shortKey:!0},n.undo.bind(c(n))),n.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},n.redo.bind(c(n))),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"y",shortKey:!0},n.redo.bind(c(n))),n.quill.root.addEventListener("beforeinput",(function(e){"historyUndo"===e.inputType?(n.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(n.redo(),e.preventDefault())})),n}return t=l,(n=[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop(),r=this.quill.getContents(),o=n.invert(r);this.stack[t].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n,i.a.sources.USER),this.ignoreChange=!1;var a=d(this.quill.scroll,n);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=e.invert(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i)}else this.lastRecorded=r;0!==n.length()&&(this.stack.undo.push(n),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){h(this.stack.undo,e),h(this.stack.redo,e)}},{key:"undo",value:function(){this.change("undo","redo")}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(n(9).a);function h(e,t){for(var n=t,r=e.length-1;r>=0;r-=1){var i=e[r];e[r]=n.transform(i,!0),n=i.transform(n),0===e[r].length()&&e.splice(r,1)}}function d(e,t){var n=t.reduce((function(e,t){return e+(t.delete||0)}),0),i=t.length()-n;return function(e,t){var n=t.ops[t.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some((function(t){return null!=e.query(t,r.Scope.BLOCK)})))}(e,t)&&(i-=1),i}f.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(4),o=n(8),a=n(15),s=n(16),u=n(37),c=n(12),l=n(14),f=n(7),h=n(38),d=n(33),p=n(19),g=n(1),m=n.n(g),y=n(3);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(o,e);var t,n,r,i=E(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e,t),e.root.addEventListener("drop",(function(t){var r;if(t.preventDefault(),document.caretRangeFromPoint)r=document.caretRangeFromPoint(t.clientX,t.clientY);else{if(!document.caretPositionFromPoint)return;var i=document.caretPositionFromPoint(t.clientX,t.clientY);(r=document.createRange()).setStart(i.offsetNode,i.offset),r.setEnd(i.offsetNode,i.offset)}var o=e.selection.normalizeNative(r),a=e.selection.normalizedToRange(o);n.upload(a,t.dataTransfer.files)})),n}return t=o,(n=[{key:"upload",value:function(e,t){var n=this,r=[];Array.from(t).forEach((function(e){e&&n.options.mimetypes.includes(e.type)&&r.push(e)})),r.length>0&&this.options.handler.call(this,e,r)}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(n(9).a);x.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(e,t){var n=this,r=t.map((function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))}));Promise.all(r).then((function(t){var r=t.reduce((function(e,t){return e.insert({image:t})}),(new m.a).retain(e.index).delete(e.length));n.quill.updateContents(r,y.a.sources.USER),n.quill.setSelection(e.index+t.length,y.a.sources.SILENT)}))}};var A=x;r.a.register({"blots/block":i.d,"blots/block/embed":i.a,"blots/break":o.a,"blots/container":a.a,"blots/cursor":s.a,"blots/embed":u.a,"blots/inline":c.a,"blots/scroll":l.a,"blots/text":f.a,"modules/clipboard":h.a,"modules/history":d.a,"modules/keyboard":p.b,"modules/uploader":A}),t.default={Quill:r.a}},function(e,t,n){"use strict";var r=n(2),i=n(7);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f="\ufeff",h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,o=c(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(n=o.call(this,e,t)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),Array.from(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(f),n.rightGuard=document.createTextNode(f),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return t=h,(n=[{key:"index",value:function(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:s(l(h.prototype),"index",this).call(this,e,t)}},{key:"restore",value:function(e){var t,n,r=e.data.split(f).join("");if(e===this.leftGuard)if(this.prev instanceof i.a){var o=this.prev.length();this.prev.insertAt(o,r),t={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof i.a?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=f,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.EmbedBlot);t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return U}));var r=n(1),i=n.n(r),o=n(2),a=n(4),s=n(0),u=n(11),c=n(9),l=n(24),f=n(28),h=n(13),d=n(21),p=n(22),g=n(29),m=n(30),y=n(19);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,n)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var k=Object(u.a)("quill:clipboard"),C=[[Node.TEXT_NODE,function(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&n.includes("\n"))return t;if(!B(e)){var r=function(e,t){var n=t.replace(/[^\u00a0]/g,"");return n.length<1&&e?" ":n};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&j(e.parentNode)||null!=e.previousSibling&&j(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&j(e.parentNode)||null!=e.nextSibling&&j(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}],[Node.TEXT_NODE,H],["br",function(e,t){return M(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,function(e,t,n){var r=n.query(e);if(null==r)return t;if(r.prototype instanceof o.EmbedBlot){var a={},s=r.value(e);if(null!=s)return a[r.blotName]=s,(new i.a).insert(a,r.formats(e,n))}else if(r.prototype instanceof o.BlockBlot&&!M(t,"\n")&&t.insert("\n"),"function"==typeof r.formats)return L(t,r.blotName,r.formats(e,n));return t}],[Node.ELEMENT_NODE,function(e,t,n){var r=o.Attributor.keys(e),i=o.ClassAttributor.keys(e),a=o.StyleAttributor.keys(e),s={};return r.concat(i).concat(a).forEach((function(t){var r=n.query(t,o.Scope.ATTRIBUTE);null!=r&&(s[r.attrName]=r.value(e),s[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(s[r.attrName]=r.value(e)||void 0),null==(r=I[t])||r.attrName!==t&&r.keyName!==t||(r=I[t],s[r.attrName]=r.value(e)||void 0))})),Object.keys(s).length>0?L(t,s):t}],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return"italic"===r.fontStyle&&(n.italic=!0),"underline"===r.textDecoration&&(n.underline=!0),"line-through"===r.textDecoration&&(n.strike=!0),(r.fontWeight.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=L(t,n)),parseFloat(r.textIndent||0)>0?(new i.a).insert("\t").concat(t):t}],["li",function(e,t,n){var r=n.query(e);if(null==r||"list"!==r.blotName||!M(t,"\n"))return t;for(var o=-1,a=e.parentNode;null!=a;)["OL","UL"].includes(a.tagName)&&(o+=1),a=a.parentNode;return o<=0?t:t.reduce((function(e,t){return t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,b({indent:o},t.attributes||{}))}),new i.a)}],["ol, ul",function(e,t){var n="OL"===e.tagName?"ordered":"bullet";return L(t,"list",n)}],["pre",function(e,t,n){var r=n.query("code-block"),i=!r||r.formats(e,n);return L(t,"code-block",i)}],["tr",function(e,t){var n="TABLE"===e.parentNode.tagName?e.parentNode:e.parentNode.parentNode,r=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return L(t,"table",r)}],["b",F.bind(F,"bold")],["i",F.bind(F,"italic")],["strike",F.bind(F,"strike")],["style",function(){return new i.a}]],N=[l.a,p.a].reduce((function(e,t){return e[t.keyName]=t,e}),{}),I=[l.c,f.b,d.c,p.c,g.b,m.b].reduce((function(e,t){return e[t.keyName]=t,e}),{}),P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,n,r,o=_(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).quill.root.addEventListener("copy",(function(e){return n.onCaptureCopy(e,!1)})),n.quill.root.addEventListener("cut",(function(e){return n.onCaptureCopy(e,!0)})),n.quill.root.addEventListener("paste",n.onCapturePaste.bind(O(n))),n.matchers=[],C.concat(n.options.matchers).forEach((function(e){var t=T(e,2),r=t[0],i=t[1];n.addMatcher(r,i)})),n}return t=a,n=[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){var t=e.html,n=e.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[h.c.blotName])return(new i.a).insert(n,E({},h.c.blotName,r[h.c.blotName]));if(!t)return(new i.a).insert(n||"");var o=this.convertHTML(t);return M(o,"\n")&&(null==o.ops[o.ops.length-1].attributes||r.table)?o.compose((new i.a).retain(o.length()-1).delete(1)):o}},{key:"convertHTML",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html").body,n=new WeakMap,r=T(this.prepareMatching(t,n),2),i=r[0],o=r[1];return U(this.quill.scroll,t,i,o,n)}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.sources.API;if("string"==typeof e){var r=this.convert({html:e,text:""});this.quill.setContents(r,t),this.quill.setSelection(0,s.a.sources.SILENT)}else{var o=this.convert({html:t,text:""});this.quill.updateContents((new i.a).retain(e).concat(o),n),this.quill.setSelection(e+o.length(),s.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.defaultPrevented){e.preventDefault();var n=T(this.quill.selection.getRange(),1)[0];if(null!=n){var r=this.onCopy(n,t),i=r.html,o=r.text;e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",i),t&&Object(y.c)({range:n,quill:this.quill})}}}},{key:"onCapturePaste",value:function(e){if(!e.defaultPrevented&&this.quill.isEnabled()){e.preventDefault();var t=this.quill.getSelection(!0);if(null!=t){var n=e.clipboardData.getData("text/html"),r=e.clipboardData.getData("text/plain"),i=Array.from(e.clipboardData.files||[]);if(!n&&i.length>0)this.quill.uploader.upload(t,i);else{if(n&&i.length>0){var o=(new DOMParser).parseFromString(n,"text/html");if(1===o.body.childElementCount&&"IMG"===o.body.firstElementChild.tagName)return void this.quill.uploader.upload(t,i)}this.onPaste(t,{html:n,text:r})}}}}},{key:"onCopy",value:function(e){var t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}},{key:"onPaste",value:function(e,t){var n=t.text,r=t.html,o=this.quill.getFormat(e.index),a=this.convert({text:n,html:r},o);k.log("onPaste",a,{text:n,html:r});var u=(new i.a).retain(e.index).delete(e.length).concat(a);this.quill.updateContents(u,s.a.sources.USER),this.quill.setSelection(u.length()-e.length,s.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(e,t){var n=[],r=[];return this.matchers.forEach((function(i){var o=T(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:r.push(s);break;case Node.ELEMENT_NODE:n.push(s);break;default:Array.from(e.querySelectorAll(a)).forEach((function(e){t.has(e)?t.get(e).push(s):t.set(e,[s])}))}})),[n,r]}}],n&&A(t.prototype,n),r&&A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.a);function L(e,t,n){return"object"===w(t)?Object.keys(t).reduce((function(e,n){return L(e,n,t[n])}),e):e.reduce((function(e,r){if(r.attributes&&r.attributes[t])return e.push(r);var i=n?E({},t,n):{};return e.insert(r.insert,b(b({},i),r.attributes))}),new i.a)}function M(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function j(e){return 0!==e.childNodes.length&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}P.DEFAULTS={matchers:[]};var D=new WeakMap;function B(e){return null!=e&&(D.has(e)||("PRE"===e.tagName?D.set(e,!0):D.set(e,B(e.parentNode))),D.get(e))}function U(e,t,n,r,o){return t.nodeType===t.TEXT_NODE?r.reduce((function(n,r){return r(t,n,e)}),new i.a):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((function(i,a){var s=U(e,a,n,r,o);return a.nodeType===t.ELEMENT_NODE&&(s=n.reduce((function(t,n){return n(a,t,e)}),s),s=(o.get(a)||[]).reduce((function(t,n){return n(a,t,e)}),s)),i.concat(s)}),new i.a):new i.a}function F(e,t,n){return L(n,e,!0)}function H(e,t,n){if(!M(t,"\n")){if(j(e))return t.insert("\n");if(t.length()>0&&e.nextSibling)for(var r=e.nextSibling;null!=r;){if(j(r))return t.insert("\n");var i=n.query(r);if(i&&i.prototype instanceof a.a)return t.insert("\n");r=r.firstChild}}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(52));!function(e){e.iterator=function(e){return new o.default(e)},e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}}(i||(i={})),t.default=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),u.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},u.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},u.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==t||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,void 0!==e&&(e.exports=u)},,,,,,,function(e,t){var n=-1,r=1,i=0;function o(e,t,l,f){if(e===t)return e?[[i,e]]:[];if(null!=l){var h=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,a=t.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,u=e.slice(0,s),c=e.slice(s),l=i?i.index:null,f=s+a-o;if((null===l||l===f)&&!(f<0||f>a)){var h=t.slice(0,f);if((m=t.slice(f))===c){var d=Math.min(s,f);if((v=u.slice(0,d))===(w=h.slice(0,d)))return p(v,u.slice(d),h.slice(d),c)}}if(null===l||l===s){var g=s,m=(h=t.slice(0,g),t.slice(g));if(h===u){var y=Math.min(o-g,a-g);if((b=c.slice(c.length-y))===(E=m.slice(m.length-y)))return p(u,c.slice(0,c.length-y),m.slice(0,m.length-y),b)}}}if(r.length>0&&i&&0===i.length){var v=e.slice(0,r.index),b=e.slice(r.index+r.length);if(!(a<(d=v.length)+(y=b.length))){var w=t.slice(0,d),E=t.slice(a-y);if(v===w&&b===E)return p(v,e.slice(d,o-y),t.slice(d,a-y),b)}}return null}(e,t,l);if(h)return h}var d=s(e,t),g=e.substring(0,d);d=u(e=e.substring(d),t=t.substring(d));var m=e.substring(e.length-d),y=function(e,t){var c;if(!e)return[[r,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,f=e.length>t.length?t:e,h=l.indexOf(f);if(-1!==h)return c=[[r,l.substring(0,h)],[i,f],[r,l.substring(h+f.length)]],e.length>t.length&&(c[0][0]=c[2][0]=n),c;if(1===f.length)return[[n,e],[r,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,a,c=e.substring(n,n+Math.floor(e.length/4)),l=-1,f="";-1!==(l=t.indexOf(c,l+1));){var h=s(e.substring(n),t.substring(l)),d=u(e.substring(0,n),t.substring(0,l));f.length<d+h&&(f=t.substring(l-d,l)+t.substring(l,l+h),r=e.substring(0,n-d),i=e.substring(n+h),o=t.substring(0,l-d),a=t.substring(l+h))}return 2*f.length>=e.length?[r,i,o,a,f]:null}var o,a,c,l,f,h=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));if(!h&&!d)return null;o=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(a=o[0],c=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],a=o[2],c=o[3]);var p=o[4];return[a,c,l,f,p]}(e,t);if(d){var p=d[0],g=d[1],m=d[2],y=d[3],v=d[4],b=o(p,m),w=o(g,y);return b.concat([[i,v]],w)}return function(e,t){for(var i=e.length,o=t.length,s=Math.ceil((i+o)/2),u=s,c=2*s,l=new Array(c),f=new Array(c),h=0;h<c;h++)l[h]=-1,f[h]=-1;l[u+1]=0,f[u+1]=0;for(var d=i-o,p=d%2!=0,g=0,m=0,y=0,v=0,b=0;b<s;b++){for(var w=-b+g;w<=b-m;w+=2){for(var E=u+w,T=(O=w===-b||w!==b&&l[E-1]<l[E+1]?l[E+1]:l[E-1]+1)-w;O<i&&T<o&&e.charAt(O)===t.charAt(T);)O++,T++;if(l[E]=O,O>i)m+=2;else if(T>o)g+=2;else if(p&&(S=u+d-w)>=0&&S<c&&-1!==f[S]&&O>=(A=i-f[S]))return a(e,t,O,T)}for(var x=-b+y;x<=b-v;x+=2){for(var A,S=u+x,_=(A=x===-b||x!==b&&f[S-1]<f[S+1]?f[S+1]:f[S-1]+1)-x;A<i&&_<o&&e.charAt(i-A-1)===t.charAt(o-_-1);)A++,_++;if(f[S]=A,A>i)v+=2;else if(_>o)y+=2;else if(!p){var O;if((E=u+d-x)>=0&&E<c&&-1!==l[E])if(T=u+(O=l[E])-E,O>=(A=i-A))return a(e,t,O,T)}}}return[[n,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return g&&y.unshift([i,g]),m&&y.push([i,m]),c(y,f),y}function a(e,t,n,r){var i=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),c=o(i,a),l=o(s,u);return c.concat(l)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return l(e.charCodeAt(i-1))&&i--,i}function u(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return f(e.charCodeAt(e.length-i))&&i--,i}function c(e,t){e.push([i,""]);for(var o,a=0,l=0,f=0,p="",g="";a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case r:f++,g+=e[a][1],a++;break;case n:l++,p+=e[a][1],a++;break;case i:var m=a-f-l-1;if(t){if(m>=0&&d(e[m][1])){var y=e[m][1].slice(-1);if(e[m][1]=e[m][1].slice(0,-1),p=y+p,g=y+g,!e[m][1]){e.splice(m,1),a--;var v=m-1;e[v]&&e[v][0]===r&&(f++,g=e[v][1]+g,v--),e[v]&&e[v][0]===n&&(l++,p=e[v][1]+p,v--),m=v}}h(e[a][1])&&(y=e[a][1].charAt(0),e[a][1]=e[a][1].slice(1),p+=y,g+=y)}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(p.length>0||g.length>0){p.length>0&&g.length>0&&(0!==(o=s(g,p))&&(m>=0?e[m][1]+=g.substring(0,o):(e.splice(0,0,[i,g.substring(0,o)]),a++),g=g.substring(o),p=p.substring(o)),0!==(o=u(g,p))&&(e[a][1]=g.substring(g.length-o)+e[a][1],g=g.substring(0,g.length-o),p=p.substring(0,p.length-o)));var b=f+l;0===p.length&&0===g.length?(e.splice(a-b,b),a-=b):0===p.length?(e.splice(a-b,b,[r,g]),a=a-b+1):0===g.length?(e.splice(a-b,b,[n,p]),a=a-b+1):(e.splice(a-b,b,[n,p],[r,g]),a=a-b+2)}0!==a&&e[a-1][0]===i?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,f=0,l=0,p="",g=""}""===e[e.length-1][1]&&e.pop();var w=!1;for(a=1;a<e.length-1;)e[a-1][0]===i&&e[a+1][0]===i&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),w=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),w=!0)),a++;w&&c(e,t)}function l(e){return e>=55296&&e<=56319}function f(e){return e>=56320&&e<=57343}function h(e){return f(e.charCodeAt(0))}function d(e){return l(e.charCodeAt(e.length-1))}function p(e,t,o,a){return d(e)||h(a)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[i,e],[n,t],[r,o],[i,a]])}function g(e,t,n){return o(e,t,n,!0)}g.INSERT=r,g.DELETE=n,g.EQUAL=i,e.exports=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(10)),a=r(n(18));!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o.default(t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return a.default(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(i||(i={})),t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(42)),o=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=i.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(36)}]).default},e.exports=t()},907554:(e,t,n)=>{!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var i in function(e,t,n){var r;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var s=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function u(e,t){if(t)e:{var n=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&a(n,e,{configurable:!0,writable:!0,value:t})}}function c(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function l(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}function f(e){if(!(e instanceof Array)){e=l(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}u("Symbol",(function(e){function t(e,t){this.g=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=s[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&a(r.prototype,e,{configurable:!0,writable:!0,value:function(){return c(o(this))}})}return e}));var h,d="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var p;e:{var g={};try{g.__proto__={a:!0},p=g.a;break e}catch(bp){}p=!1}h=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=h;function y(e,t){if(e.prototype=d(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.zg=t.prototype}function v(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function b(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}function w(e,t){e.i={me:t,ue:!0},e.g=e.m||e.j}function E(e,t,n){return e.g=n,{value:t}}function T(e){e.g=0}function x(e,t,n){e.m=t,null!=n&&(e.j=n)}function A(e,t,n){e.g=t,e.m=n||0}function S(e,t){return e.m=t||0,t=e.i.me,e.i=null,t}function _(e){e.u=[e.i],e.m=0,e.j=0}function O(e){var t=e.u.splice(0)[0];(t=e.i=e.i||t)?t.ue?e.g=e.m||e.j:null!=t.B&&e.j<t.B?(e.g=t.B,e.i=null):e.g=e.j:e.g=0}function R(e){this.g=new v,this.h=e}function k(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var o=i.value}catch(a){return e.g.l=null,w(e.g,a),C(e)}return e.g.l=null,r.call(e.g,o),C(e)}function C(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,w(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.ue)throw t.me;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function N(e){this.next=function(t){return b(e.g),e.g.l?t=k(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=C(e)),t},this.throw=function(t){return b(e.g),e.g.l?t=k(e,e.g.l.throw,t,e.g.s):(w(e.g,t),t=C(e)),t},this.return=function(t){return function(e,t){b(e.g);var n=e.g.l;return n?k(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),C(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function I(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,i)}(e.next())}))}(new N(new R(e)))}function P(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var o=e[i];if(t.call(n,o,i,e))return{re:i,v:o}}return{re:-1,v:void 0}}function j(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function D(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}v.prototype.s=function(e){this.h=e},v.prototype.return=function(e){this.i={return:e},this.g=this.j},v.prototype.B=function(e){this.g=e},u("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(i){t.reject(i)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=s.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.I(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.m(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(i){return void this.l(i)}"function"==typeof t?this.K(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.F(),this.u()},t.prototype.F=function(){var e=this;o((function(){if(e.A()){var t=s.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.A=function(){if(this.o)return!1;var e=s.CustomEvent,t=s.Event,n=s.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=s.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.u=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.I=function(e){var t=this.j();e.zc(t.resolve,t.reject)},t.prototype.K=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.zc(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.zc=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=l(e),o=i.next();!o.done;o=i.next())r(o.value).zc(t,n)}))},t.all=function(e){var n=l(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).zc(o(a.length-1),t),i=n.next()}while(!i.done)}))},t})),u("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=l(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!L(e,s)){var t=new n;a(e,s,{value:t})}}function o(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!L(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return r(e)&&L(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return r(e)&&L(e,s)&&L(e[s],this.g)},t.prototype.delete=function(e){return!!(r(e)&&L(e,s)&&L(e[s],this.g))&&delete e[s][this.g]},t})),u("Map",(function(e){function t(){var e={};return e.Ra=e.next=e.head=e}function n(e,t){var n=e.g;return c((function(){if(n){for(;n.head!=e.g;)n=n.Ra;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?o.has(t)?n=o.get(t):(n=""+ ++a,o.set(t,n)):n="p_"+t;var r=e.h[n];if(r&&L(e.h,n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(e){if(this.h={},this.g=t(),this.size=0,e){e=l(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(o){return!1}}())return e;var o=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.g,Ra:this.g.Ra,head:this.g,key:e,value:t},n.list.push(n.entry),this.g.Ra.next=n.entry,this.g.Ra=n.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.entry.Ra.next=e.entry.next,e.entry.next.Ra=e.entry.Ra,e.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this.h={},this.g=this.g.Ra=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var a=0;return i})),u("Set",(function(e){function t(e){if(this.g=new Map,e){e=l(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(l([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(o){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)})),u("Array.prototype.findIndex",(function(e){return e||function(e,t){return M(this,e,t).re}})),u("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),u("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),u("String.prototype.includes",(function(e){return e||function(e,t){return-1!==j(this,e,"includes").indexOf(e,t||0)}})),u("Array.prototype.find",(function(e){return e||function(e,t){return M(this,e,t).v}})),u("String.prototype.startsWith",(function(e){return e||function(e,t){var n=j(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var o=0;o<i&&t<r;)if(n[t++]!=e[o++])return!1;return o>=i}})),u("Array.prototype.keys",(function(e){return e||function(){return D(this,(function(e){return e}))}}));var B="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)L(r,i)&&(e[i]=r[i])}return e};u("Object.assign",(function(e){return e||B})),u("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var o=0;!(i=e.next()).done;)r.push(t.call(n,i.value,o++))}else for(i=e.length,o=0;o<i;o++)r.push(t.call(n,e[o],o));return r}})),u("Array.prototype.values",(function(e){return e||function(){return D(this,(function(e,t){return t}))}})),u("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)L(e,t)&&n.push(e[t]);return n}})),u("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),u("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),u("Array.prototype.entries",(function(e){return e||function(){return D(this,(function(e,t){return[e,t]}))}})),u("String.prototype.repeat",(function(e){return e||function(e){var t=j(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),u("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),u("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}}));var U=this||self;function F(e,t){e=e.split(".");var n,r=U;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function H(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function V(e){return e.h/(1-Math.pow(e.g,e.i))}function G(){this.h=new H(2),this.j=new H(5),this.g=0,this.i=128e3,this.l=16e3}function q(){}function z(){}function K(){}function W(e){var t=P.apply(1,arguments);X.has(e)||(X.add(e),K.apply(q,f(t)))}H.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},G.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},G.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},G.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(V(this.h),V(this.j))};var X=new Set;function Y(e){if(Z.has(e))return Z.get(e);var t=MediaSource.isTypeSupported(e);return Z.set(e,t),t}e.console&&(K=function(){return console.warn.apply(console,f(P.apply(0,arguments)))},z=function(){console.error.apply(console,f(P.apply(0,arguments)))});var Z=new Map;function $(){}function J(){}function Q(){}function ee(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(te(e)==te(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=re(e);t=re(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function te(e){return e instanceof ArrayBuffer?e:e.buffer}function ne(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function re(e,t,n){return oe(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function ie(e,t,n){return oe(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function oe(e,t,n,r){var i=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,i)),new r(te(e),t,Math.min(t+Math.max(n,0),i)-t)}function ae(){}function se(e){this.h=new J,(e=ue[e.toLowerCase()])&&(this.h=e()),this.g=new $,(e=ce)&&(this.g=e())}$.prototype.extract=function(){},$.prototype.decode=function(){return[]},$.prototype.clear=function(){},J.prototype.init=function(){},J.prototype.parse=function(){return[]},F("shaka.util.BufferUtils",Q),Q.toDataView=ie,Q.toUint8=re,Q.toArrayBuffer=ne,Q.equal=ee,ae.prototype.init=function(){},ae.prototype.j=function(){},ae.prototype.i=function(){},F("shaka.media.IClosedCaptionParser",ae),se.prototype.init=function(e){this.h.init(e)},se.prototype.j=function(e){for(var t=(e=l(e=this.h.parse(e))).next();!t.done;t=e.next()){var n=re((t=t.value).packet);0<n.length&&this.g.extract(n,t.pts)}return this.g.decode()},se.prototype.i=function(){this.g.clear()},F("shaka.media.ClosedCaptionParser",se),se.findDecoder=function(){return ce},se.unregisterDecoder=function(){ce=null},se.registerDecoder=function(e){ce=e},se.findParser=function(e){return ue[e]},se.unregisterParser=function(e){delete ue[e]},se.registerParser=function(e,t){ue[e]=t};var ue={},ce=null;function le(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function fe(e,t){var n;if(n||(n=le),e.length!=t.length)return!1;t=t.slice();for(var r={},i=(e=l(e)).next();!i.done;r={ad:r.ad},i=e.next()){if(r.ad=i.value,-1==(i=t.findIndex(function(e){return function(t){return n(e.ad,t)}}(r))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function he(e,t,n){if(n||(n=le),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function de(e,t,n){this.startTime=e,this.endTime=t,this.S=n,this.region=new Ae,this.position=null,this.D=ge,this.size=0,this.textAlign=me,this.direction=ve,this.writingMode=be,this.u=we,this.h=null,this.L="",this.i=Ee,this.j=ye,this.A=this.backgroundColor=this.l="",this.C=Te,this.m=xe,this.K=this.I="",this.O=1,this.o=[],this.id=this.Z=this.W=this.P="",this.g=[],this.s=!1,this.F={ug:32,rows:15}}function pe(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.S!=t.S)return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!he(e.g,t.g,pe))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!he(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}de.prototype.clone=function(){var e,t=new de(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},F("shaka.text.Cue",de),de.equal=pe,de.prototype.clone=de.prototype.clone;var ge="auto";de.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:ge};var me="center";de.textAlign={LEFT:"left",RIGHT:"right",CENTER:me,START:"start",END:"end"};var ye="after";de.displayAlign={BEFORE:"before",CENTER:"center",AFTER:ye};var ve="ltr";de.direction={HORIZONTAL_LEFT_TO_RIGHT:ve,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var be="horizontal-tb";de.writingMode={HORIZONTAL_TOP_TO_BOTTOM:be,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var we=0;de.lineInterpretation={LINE_NUMBER:we,PERCENTAGE:1};var Ee="start";de.lineAlign={CENTER:"center",START:Ee,END:"end"},de.defaultTextColor={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"},de.defaultTextBackgroundColor={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};var Te=400;de.fontWeight={NORMAL:Te,BOLD:700};var xe="normal";function Ae(){this.id="",this.height=this.width=100,this.h=this.i=this.g=Se}de.fontStyle={NORMAL:xe,ITALIC:"italic",OBLIQUE:"oblique"},de.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},F("shaka.text.CueRegion",Ae);var Se=1;function _e(){}function Oe(e,t,n){ke[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,Wc:t}}function Re(e,t){for(var n=e.toLowerCase().split(";")[0],r=l([Pe,Ie,Ne,Ce]),i=r.next();!i.done;i=r.next())if(i=ke[n+"-"+i.value]){var o=i.Wc(),a=o.isSupported(e,t);if(o.destroy(),a)return i.Wc}return null}Ae.units={PX:0,PERCENTAGE:Se,LINES:2},Ae.scrollMode={NONE:"",UP:"up"},_e.prototype.destroy=function(){},F("shaka.transmuxer.TransmuxerEngine",_e),_e.findTransmuxer=Re,_e.unregisterTransmuxer=function(e,t){delete ke[e.toLowerCase().split(";")[0]+"-"+t]},_e.registerTransmuxer=Oe,_e.prototype.destroy=_e.prototype.destroy;var ke={},Ce=1,Ne=2,Ie=3,Pe=4;_e.PluginPriority={FALLBACK:Ce,PREFERRED_SECONDARY:Ne,PREFERRED:Ie,APPLICATION:Pe};var Le=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Me(e){var t;e instanceof Me?(je(this,e.za),this.sb=e.sb,this.Da=e.Da,De(this,e.Lb),this.va=e.va,Be(this,e.g.clone()),this.ib=e.ib):e&&(t=String(e).match(Le))?(je(this,t[1]||"",!0),this.sb=Ue(t[2]||""),this.Da=Ue(t[3]||"",!0),De(this,t[4]),this.va=Ue(t[5]||"",!0),Be(this,t[6]||"",!0),this.ib=Ue(t[7]||"")):this.g=new We(null)}function je(e,t,n){e.za=n?Ue(t,!0):t,e.za&&(e.za=e.za.replace(/:$/,""))}function De(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Lb=t}else e.Lb=null}function Be(e,t,n){t instanceof We?e.g=t:(n||(t=Fe(t,ze)),e.g=new We(t))}function Ue(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function Fe(e,t,n){return null!=e?(e=encodeURI(e).replace(t,He),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function He(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=Me.prototype).za="",r.sb="",r.Da="",r.Lb=null,r.va="",r.ib="",r.toString=function(){var e=[],t=this.za;if(t&&e.push(Fe(t,Ve,!0),":"),t=this.Da){e.push("//");var n=this.sb;n&&e.push(Fe(n,Ve,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Lb)&&e.push(":",String(t))}return(t=this.va)&&(this.Da&&"/"!=t.charAt(0)&&e.push("/"),e.push(Fe(t,"/"==t.charAt(0)?qe:Ge,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.ib)&&e.push("#",Fe(t,Ke)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.za&&(t=new Me);var n=!!e.za;n?je(t,e.za):n=!!e.sb,n?t.sb=e.sb:n=!!e.Da,n?t.Da=e.Da:n=null!=e.Lb;var r=e.va;if(n)De(t,e.Lb);else if(n=!!e.va){if("/"!=r.charAt(0))if(this.Da&&!this.va)r="/"+r;else{var i=t.va.lastIndexOf("/");-1!=i&&(r=t.va.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?t.va=r:n=""!==e.g.toString(),n?Be(t,e.g.clone()):n=!!e.ib,n&&(t.ib=e.ib),t},r.clone=function(){return new Me(this)};var Ve=/[#\/\?@]/g,Ge=/[#\?:]/g,qe=/[#\?]/g,ze=/[#\?@]/g,Ke=/#/g;function We(e){this.g=e||null}function Xe(e){if(!e.la&&(e.la={},e.Cc=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),i=i||"",e.add(o,decodeURIComponent(i.replace(/\+/g," ")))}}function Ye(e,t,n){var r=P.apply(3,arguments);if(this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,Ze)try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}(r=We.prototype).la=null,r.Cc=null,r.add=function(e,t){Xe(this),this.g=null;var n=this.la.hasOwnProperty(e)?this.la[e]:null;return n||(this.la[e]=n=[]),n.push(t),this.Cc++,this},r.set=function(e,t){return Xe(this),this.g=null,this.la.hasOwnProperty(e)?this.la[e]=[t]:this.add(e,t),this},r.toString=function(){if(this.g)return this.g;if(!this.la)return"";var e,t=[];for(e in this.la)for(var n=encodeURIComponent(e),r=this.la[e],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),t.push(o)}return this.g=t.join("&")},r.clone=function(){var e=new We;if(e.g=this.g,this.la){var t,n={};for(t in this.la)n[t]=this.la[t].concat();e.la=n,e.Cc=this.Cc}return e},Ye.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},F("shaka.util.Error",Ye);var Ze=!0;function $e(e,t){return e.concat(t)}function Je(){}function Qe(e){return null!=e}function et(e,t){if(0==t.length)return e;var n=t.map((function(e){return new Me(e)}));return e.map((function(e){return new Me(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce($e,[]).map((function(e){return e.toString()}))}function tt(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function nt(e,t){if(1==t.length)return t[0];if(null!=(e=rt(e,t)))return e;throw new Ye(2,4,4025,t)}function rt(e,t){for(var n=l(at[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=l(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return e==it?"":null}Ye.Severity={RECOVERABLE:1,CRITICAL:2},Ye.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Ye.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_CODEC_UNKNOWN:3021,MSS_TRANSMUXING_FAILED:3022,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var it="text",ot={Aa:"video",xb:"audio",da:it,fd:"image",ng:"application"},at={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvh/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function st(){}function ut(e,t){var n=e;return t&&!pt.includes(e)&&(n+='; codecs="'+t+'"'),n}function ct(e,t){return t&&(e+='; codecs="'+t+'"'),e}function lt(e,t,n){var r=ut(e,t);return Re(t=ct(e,t))?(e=Re(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?r.replace("video","audio"):r,n}function ft(e){var t=dt(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:return"ac-3";case"mp4a"===e&&"a6"===t:return"ec-3";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"dvh1"===e:case"dvhe"===e:return"dovi"}return e}function ht(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}function dt(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}F("shaka.util.MimeUtils",st),st.getFullTypeWithAllCodecs=ct,st.getFullType=ut,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var pt=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function gt(e){this.i=null,this.j=e,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.A="",this.o=new Map}function mt(e){return!!bt[e]||("application/cea-608"==e||"application/cea-708"==e)&&!!ce}function yt(e,t,n){if(e.A=t,t=e.o.get(t))for(var r=l(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.j.append(i)}function vt(e,t,n){t.startTime+=n,t.endTime+=n;for(var r=(t=l(t.g)).next();!r.done;r=t.next())vt(e,r.value,n)}gt.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},gt.prototype.remove=function(e,t){var n=this;return I((function(r){if(1==r.g)return E(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),T(r)}))},F("shaka.text.TextEngine",gt),gt.prototype.destroy=gt.prototype.destroy,gt.findParser=function(e){return bt[e]},gt.unregisterParser=function(e){delete bt[e]},gt.registerParser=function(e,t){bt[e]=t};var bt={};function wt(){}function Et(e,t){return e=At(e),t=At(t),e.split("-")[0]==t.split("-")[0]}function Tt(e,t){return e=At(e),t=At(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function xt(e,t){return e=At(e),t=At(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function At(e){var t=e.split("-x-"),n=t[0].split("-");return e=n[0]||"",n=n[1]||"",t=t[1]?"x-"+t[1]:"",e=e.toLowerCase(),e=kt.get(e)||e,((n=n.toUpperCase())?e+"-"+n:e)+(t?"-"+t:"")}function St(e,t){return e=At(e),(t=At(t))==e?4:Tt(t,e)?3:xt(t,e)?2:Tt(e,t)?1:0}function _t(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),kt.get(e)||e}function Ot(e){return e.language?At(e.language):e.audio&&e.audio.language?At(e.audio.language):e.video&&e.video.language?At(e.video.language):"und"}function Rt(e,t){e=At(e);var n=new Set,r=l(t);for(t=r.next();!t.done;t=r.next())n.add(At(t.value));for(t=(r=l(n)).next();!t.done;t=r.next())if((t=t.value)==e)return t;for(t=(r=l(n)).next();!t.done;t=r.next())if(Tt(t=t.value,e))return t;for(t=(r=l(n)).next();!t.done;t=r.next())if(xt(t=t.value,e))return t;for(t=(n=l(n)).next();!t.done;t=n.next())if(Tt(e,t=t.value))return t;return null}F("shaka.util.LanguageUtils",wt),wt.findClosestLocale=Rt,wt.getLocaleForVariant=Ot,wt.getLocaleForText=function(e){return At(e.language||"und")},wt.getBase=_t,wt.relatedness=St,wt.areSiblings=function(e,t){var n=_t(e),r=_t(t);return e!=n&&t!=r&&n==r},wt.normalize=At,wt.isSiblingOf=xt,wt.isParentOf=Tt,wt.areLanguageCompatible=Et,wt.areLocaleCompatible=function(e,t){return(e=At(e))==(t=At(t))};var kt=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Ct(){this.g={}}function Nt(e){this.h=e,this.g=null}function It(e){this.h=e,this.g=null}function Pt(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Lt(e){return""!=Gt().canPlayType(e)}function Mt(){return!!navigator.userAgent.match(/Edge?\//)}function jt(){return Vt("Xbox One")}function Dt(){return Vt("Tizen")}function Bt(){return Vt("Web0S")&&Vt("Chrome/38.0.2125.122 Safari/537.36")}function Ut(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Dt()&&!Vt("PC=EOS")&&!Vt("VirginMedia")&&!Vt("SOPOpenBrowser")&&!Ft()&&!Vt("AFT")}function Ft(){return Vt("PlayStation 4")}function Ht(){if(!Ut())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Vt(e){return(navigator.userAgent||"").includes(e)}function Gt(){return zt||(qt||(qt=new It((function(){zt=null}))),(zt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(zt=document.createElement("video")),qt.V(1),zt)}(r=Ct.prototype).push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},r.get=function(e){return(e=this.g[e])?e.slice():null},r.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter((function(e){return e!=t})),0==this.g[e].length&&delete this.g[e])},r.forEach=function(e){for(var t in this.g)e(t,this.g[t])},r.size=function(){return Object.keys(this.g).length},r.keys=function(){return Object.keys(this.g)},Nt.prototype.V=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.h()}),1e3*t),this},Nt.prototype.stop=function(){this.g&&(this.g(),this.g=null)},It.prototype.Zd=function(){return this.stop(),this.h(),this},It.prototype.V=function(e){var t=this;return this.stop(),this.g=new Nt((function(){t.h()})).V(e),this},It.prototype.sa=function(e){var t=this;return this.stop(),this.g=new Nt((function(){t.g.V(e),t.h()})).V(e),this},It.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},F("shaka.util.Timer",It),It.prototype.stop=It.prototype.stop,It.prototype.tickEvery=It.prototype.sa,It.prototype.tickAfter=It.prototype.V,It.prototype.tickNow=It.prototype.Zd;var qt=null,zt=null;function Kt(){}function Wt(e,t,n,r,i){var o=e.variants;(t.length||n.length)&&(o=function(e,t,n){for(var r={},i=(t=l(t)).next();!i.done;r={ed:r.ed},i=t.next())if(r.ed=i.value,i=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.ed)}}(r)),i.length){e=i;break}for(r={},n=l(n),t=n.next();!t.done;r={$c:r.$c},t=n.next())if(r.$c=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.$c)}}(r)),t.length){e=t;break}return e}(o,t,n)),t=function(e){for(var t=new Ct,n=(e=l(e)).next();!n.done;n=e.next()){var r=Yt(n=n.value);t.push(r,n)}return t}(o=gn(o,r)),t=function(e){var t=0,n=new Map,r=e.size();return e.forEach((function(e,i){for(var o=(i=l(i)).next();!o.done;o=i.next()){var a=(o=o.value).video;if(a&&a.width&&a.height){a=a.width*a.height*(a.frameRate||1),n.has(a)||n.set(a,new Ct);var s=n.get(a);s.push(e,o),s.size()===r&&(t=Math.max(t,a))}}})),t?n.get(t):e}(t);var a=function(e,t){for(var n=(t=l(t)).next();!n.done;n=t.next())if((n=n.value)==Tn||n==xn){if(1==(e=Xt(e,n)).size())return e.keys()[0]}else if(n==An)break;return function(e){var t="",n=1/0;return e.forEach((function(e,r){for(var i=0,o=0,a=(r=l(r)).next();!a.done;a=r.next())i+=a.value.bandwidth||0,++o;(i/=o)<n&&(t=e,n=i)})),t}(e)}(t,i);e.variants=e.variants.filter((function(e){return Yt(e)==a}))}function Xt(e,t){var n=0,r=new Ct;return e.forEach((function(e,i){for(var o=0,a=0,s=l(i),u=s.next();!u.done;u=s.next())(u=u.value).decodingInfos.length&&(o+=u.decodingInfos[0][t]?1:0,a++);(o/=a)>n?(r.g={},r.push(e,i),n=o):o==n&&r.push(e,i)})),r}function Yt(e){var t="";e.video&&(t=ft(e.video.codecs));var n="";return e.audio&&(n=ft(e.audio.codecs)),t+"-"+n}function Zt(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&(!r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))||!r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function $t(e,t){return I((function(n){return 1==n.g?E(n,function(e,t){return I((function(n){if(1==n.g)return E(n,en(e.variants,t,!1,[]),2);e.variants=e.variants.filter((function(e){var t=e.video;if(t){var n=rn(t.codecs);if(t.codecs.includes(",")){var r=t.codecs.split(",");n=rn(n=nt("video",r)),r=nn(r=nt("audio",r));var i=lt(t.mimeType,r,"audio");if(!Y(i))return!1;n=[n,r].join()}if(!Y(r=lt(t.mimeType,n,"video")))return!1;t.codecs=n}if(n=e.audio){if(r=nn(n.codecs),!Y(i=lt(n.mimeType,r,"audio")))return!1;n.codecs=r}return jt()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&(t.codecs.includes("avc1.")||t.codecs.includes("avc3."))?(vn(e),!1):((t=e.decodingInfos.some((function(e){return e.supported})))||vn(e),t)})),T(n)}))}(t,0<t.offlineSessionIds.length),2):(on(e,t),function(e){e.textStreams=e.textStreams.filter((function(e){return mt(e=ut(e.mimeType,e.codecs))}))}(t),E(n,function(e){var t,n,r,i,o,a,s;return I((function(u){switch(u.g){case 1:t=[],n=l(e.imageStreams),r=n.next();case 2:if(r.done){u.B(4);break}if(i=r.value,o=i.mimeType,Sn.has(o)){u.B(5);break}if(!(a=_n.get(o))){Sn.set(o,!1),u.B(5);break}return E(u,function(e){return new Promise((function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then((function(){t(!0)})).catch((function(){t(!1)})):n.onload=n.onerror=function(){t(2===n.height)}}))}(a),7);case 7:s=u.h,Sn.set(o,s);case 5:Sn.get(o)&&t.push(i),r=n.next(),u.B(2);break;case 4:e.imageStreams=t,T(u)}}))}(t),0))}))}function Jt(e){var t=[];for(n in e)t.push(n);t.sort();for(var n=[],r=(t=l(t)).next();!r.done;r=t.next()){var i=r.value;r=JSON.stringify(i),(i=e[i])instanceof Object?(i=Jt(i),n.push(r+":"+i)):(i=JSON.stringify(i),n.push(r+":"+i))}return"{"+n.join(",")+"}"}function Qt(e,t){var n,r,i;return I((function(o){switch(o.g){case 1:if(n=Jt(t),x(o,2),(r=wn)[n]){e.decodingInfos.push(r[n]),o.B(4);break}return E(o,navigator.mediaCapabilities.decodingInfo(t),5);case 5:i=o.h,r[n]=i,e.decodingInfos.push(i);case 4:A(o,0);break;case 2:S(o),JSON.stringify(t),T(o)}}))}function en(e,t,n,r){var i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w;return I((function(T){switch(T.g){case 1:if(e.some((function(e){return e.decodingInfos.length})))return T.return();i={},o=l(r),a=o.next();case 2:if(a.done){T.B(4);break}i.bd=a.value,s=!1,u=l(e),c=u.next();case 5:if(c.done){T.B(7);break}f=c.value,h=tn(f,t,n).filter((x=i,function(e){return(e.keySystemConfiguration&&e.keySystemConfiguration.keySystem)===x.bd})),d=l(h),p=d.next();case 8:if(p.done){T.B(10);break}return g=p.value,E(T,Qt(f,g),9);case 9:p=d.next(),T.B(8);break;case 10:f.decodingInfos.length&&(s=!0),c=u.next(),T.B(5);break;case 7:if(s)return T.return();i={bd:i.bd},a=o.next(),T.B(2);break;case 4:m=l(e),c=m.next();case 12:if(c.done){T.B(0);break}y=c.value,v=tn(y,t,n).filter((function(e){return!(e=e.keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!r.includes(e)})),b=l(v),p=b.next();case 15:if(p.done){c=m.next(),T.B(12);break}return w=p.value,E(T,Qt(y,w),16);case 16:p=b.next(),T.B(15)}var x}))}function tn(e,t,n){var r=e.audio,i=e.video;if(n={type:n?"file":"media-source"},i){var o=i.codecs;if(i.codecs.includes(",")){var a=i.codecs.split(",");o=rn(o=nt("video",a)),a=nn(a=nt("audio",a)),a=lt(i.mimeType,a,"audio"),n.audio={contentType:a,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(o=rn(o),o=lt(i.mimeType,o,"video"),n.video={contentType:o,width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(r&&(o=nn(r.codecs),o=lt(r.mimeType,o,"audio"),n.audio={contentType:o,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),!(a=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[n];e=[],o=new Map;for(var s=(a=l(a)).next();!s.done;s=a.next()){var u=s.value;o.get(u.keySystem)||o.set(u.keySystem,[]),o.get(u.keySystem).push(u)}a=t?"required":"optional",t=t?["persistent-license"]:["temporary"];for(var c=(u=l(o.keys())).next();!c.done;c=u.next()){var f=c.value;c=Object.assign({},n);var h=o.get(f);for(f={keySystem:f,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:t},s=(h=l(h)).next();!s.done;s=h.next()){if((s=s.value).initData&&s.initData.length){for(var d=new Set,p=l(s.initData),g=p.next();!g.done;g=p.next())d.add(g.value.initDataType);f.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(f.distinctiveIdentifier="required"),s.persistentStateRequired&&(f.persistentState="required"),s.sessionType&&(f.sessionTypes=[s.sessionType]),r&&(""!=s.audioRobustness?f.audio?f.audio.robustness=f.audio.robustness||s.audioRobustness:f.audio={robustness:s.audioRobustness}:f.audio||(f.audio={})),i&&(""!=s.videoRobustness?f.video?f.video.robustness=f.video.robustness||s.videoRobustness:f.video={robustness:s.videoRobustness}:f.video||(f.video={}))}c.keySystemConfiguration=f,e.push(c)}return e}function nn(e){return"fLaC"===e?"flac":"Opus"===e?"opus":Dt()&&"ac-3"==e.toLowerCase()?"ec-3":e}function rn(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function on(e,t){t.variants=t.variants.filter((function(t){var n=t.audio;return t=t.video,!(n&&e&&e.audio&&!an(n,e.audio)||t&&e&&e.video&&!an(t,e.video))}))}function an(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function sn(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,o=t?t.codecs:null,a=n?n.codecs:null,s=[];a&&s.push(a),o&&s.push(o);var u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var c=[];t&&c.push(t.kind),n&&c.push(n.kind),c=c[0]||null;var f=new Set;if(t)for(var h=l(t.roles),d=h.next();!d.done;d=h.next())f.add(d.value);if(n)for(d=(h=l(n.roles)).next();!d.done;d=h.next())f.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:c,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:s.join(", "),audioCodec:o,videoCodec:a,primary:e.primary,roles:Array.from(f),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function un(e){return{id:e.id,active:!1,type:it,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function cn(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=e.segmentIndex.get(0));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function ln(e){return e.__shaka_id||(e.__shaka_id=En++),e.__shaka_id}function fn(e){var t=dn(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function hn(e){var t=dn(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function dn(e){var t=e.language;return{id:ln(e),active:!1,type:"",bandwidth:0,language:At(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function pn(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function gn(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map,i=(n=l(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?e:(e=n.filter((function(e){return e<=t}))).length?r.get(Math.max.apply(Math,f(e))):r.get(Math.min.apply(Math,f(n)))}function mn(e,t,n,r){var i=e,o=e.filter((function(e){return e.primary}));o.length&&(i=o);var a=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==a})),t){var s=Rt(At(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return At(e.language)==s})))}if(i=i.filter((function(e){return e.forced==r})),n){if((e=yn(i,n)).length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce($e,[]),e.length?yn(i,e[0]):i}function yn(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function vn(e){var t=[];return e.audio&&t.push(bn(e.audio)),e.video&&t.push(bn(e.video)),t.join(", ")}function bn(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}F("shaka.util.StreamUtils",Kt),Kt.meetsRestrictions=Zt;var wn={},En=0,Tn="smooth",xn="powerEfficient",An="bandwidth",Sn=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),_n=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function On(){var e=this;this.l=null,this.o=!1,this.i=new G,this.u=null,navigator.connection&&navigator.connection.addEventListener&&(this.u=function(){if(e.o&&e.g.useNetworkInformation){e.i=new G,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&e.l(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}},navigator.connection.addEventListener("change",this.u)),this.m=[],this.A=1,this.D=!1,this.h=this.j=this.g=this.s=null,this.C=new It((function(){if(e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.l(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}))}function Rn(e){var t=e.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.g.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function kn(e,t,n,r){return e&&(t=t.filter((function(t){return Zt(t,e,{width:r,height:n})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}(r=On.prototype).stop=function(){this.l=null,this.o=!1,this.m=[],this.A=1,this.j=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.C.stop()},r.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.u),this.u=null),this.C=null},r.init=function(e){this.l=e},r.chooseVariant=function(){var t=1/0,n=1/0;this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=e.screen.height*n,n*=e.screen.width),this.h&&this.g.restrictToElementSize&&(n=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=this.j.clientHeight*n,n*=this.j.clientWidth),t=kn(this.g.restrictions,this.m,t,n),n=this.i.getBandwidthEstimate(Rn(this)),this.m.length&&!t.length&&(t=[(t=kn(null,this.m,1/0,1/0))[0]]);for(var r=t[0]||null,i=0;i<t.length;i++){for(var o=t[i],a=isNaN(this.A)?1:Math.abs(this.A),s=a*o.bandwidth/this.g.bandwidthDowngradeTarget,u={bandwidth:1/0},c=i+1;c<t.length;c++)if(o.bandwidth!=t[c].bandwidth){u=t[c];break}a=a*u.bandwidth/this.g.bandwidthUpgradeTarget,n>=s&&n<=a&&r.bandwidth!=o.bandwidth&&(r=o)}return this.s=Date.now(),r},r.enable=function(){this.o=!0},r.disable=function(){this.o=!1},r.segmentDownloaded=function(e,t){if(this.i.sample(e,t),null!=this.s&&this.o)e:{if(this.D){if(Date.now()-this.s<1e3*this.g.switchInterval)break e}else{if(!((e=this.i).g>=e.i))break e;this.D=!0}e=this.chooseVariant(),this.i.getBandwidthEstimate(Rn(this)),e&&this.l(e,this.g.clearBufferSwitch,this.g.safeMarginSwitch)}},r.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(Rn(this))},r.setVariants=function(e){this.m=e},r.playbackRateChanged=function(e){this.A=e},r.setMediaElement=function(t){var n=this;this.j=t,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in e&&(this.h=new ResizeObserver((function(){n.C.V(Cn)})),this.h.observe(this.j))},r.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)},F("shaka.abr.SimpleAbrManager",On),On.prototype.configure=On.prototype.configure,On.prototype.setMediaElement=On.prototype.setMediaElement,On.prototype.playbackRateChanged=On.prototype.playbackRateChanged,On.prototype.setVariants=On.prototype.setVariants,On.prototype.getBandwidthEstimate=On.prototype.getBandwidthEstimate,On.prototype.segmentDownloaded=On.prototype.segmentDownloaded,On.prototype.disable=On.prototype.disable,On.prototype.enable=On.prototype.enable,On.prototype.chooseVariant=On.prototype.chooseVariant,On.prototype.init=On.prototype.init,On.prototype.release=On.prototype.release,On.prototype.stop=On.prototype.stop;var Cn=1;function Nn(e,t,n,r,i){if(r>=i)return null;for(var o=-1,a=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}if(-1===o||-1===a)return null;for(var u=s=!1,c="white",l="black",f=In(r,i,s,u,c,l);o<=a;o++){for(var h=n[o],d=-1,p=-1,g=0;g<h.length;g++)if(null!=h[g]&&""!==h[g].g.trim()){d=g;break}for(g=h.length-1;0<=g;g--)if(null!=h[g]&&""!==h[g].g.trim()){p=g;break}if(-1===d||-1===p)h=Pn(r,i),e.g.push(h);else{for(;d<=p;d++)if(g=h[d]){var m=g.l,y=g.i,v=g.j,b=g.h;m==s&&y==u&&v==c&&b==l||(f.S&&e.g.push(f),f=In(r,i,m,y,v,b),s=m,u=y,c=v,l=b),f.S+=g.g}else f.S+=" ";f.S&&e.g.push(f),o!==a&&(f=Pn(r,i),e.g.push(f)),f=In(r,i,s,u,c,l)}}return e.g.length?{cue:e,stream:t}:null}function In(e,t,n,r,i,o){return e=new de(e,t,""),n&&e.o.push("underline"),r&&(e.m="italic"),e.l=i,e.backgroundColor=o,e}function Pn(e,t){return(e=new de(e,t,"")).s=!0,e}function Ln(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function Mn(e,t){this.i=[],this.g=1,this.h=0,this.u=e,this.s=t,this.j=this.m=!1,this.l="white",this.o="black",Dn(this)}function jn(e,t,n){var r="CC"+(e.u<<1|e.s+1),i=new de(t,n,"");return i.u=1,i.h=e.g/16*100,Nn(i,r,e.i,t,n)}function Dn(e){Fn(e,0,15),e.g=1}function Bn(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case Hn:r=zn.has(n)?zn.get(n):String.fromCharCode(n);break;case Vn:r=Kn.get(n);break;case Gn:e.i[e.g].pop(),r=Wn.get(n);break;case qn:e.i[e.g].pop(),r=Xn.get(n)}r&&e.i[e.g].push(new Ln(r,e.m,e.j,e.o,e.l))}}function Un(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map((function(e){return e}));else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map((function(e){return e}))}function Fn(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var Hn=0,Vn=1,Gn=2,qn=3,zn=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),Kn=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),Wn=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),Xn=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function Yn(e,t){this.h=Qn,this.o=new Mn(e,t),this.i=new Mn(e,t),this.g=this.j=new Mn(e,t),this.l=0,this.m=null}function Zn(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==tr&&e.h!==nr&&(i=jn(r,e.l,n),(n=e.i).g=0<n.h?n.h:0,Fn(n,0,15),(n=e.j).g=0<n.h?n.h:0,Fn(n,0,15),r.g=15),e.h=tr,r.h=t,i}function $n(e){e.h=er,e.g=e.j,e.g.h=0}function Jn(e){W("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=nr}var Qn=0,er=1,tr=3,nr=4,rr="black green blue cyan red yellow magenta black".split(" "),ir="white green blue cyan red yellow magenta white_italics".split(" ");function or(){this.l=!1,this.A=this.D=0,this.C=dr,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",ar(this)}function ar(e){e.i=[];for(var t=0;16>t;t++)e.i.push(sr())}function sr(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function ur(e,t){cr(e)&&(e.i[e.h][e.g]=new Ln(t,e.u,e.o,e.m,e.s),e.g++)}function cr(e){var t=e.g<e.A&&0<=e.g;return e.h<e.D&&0<=e.h&&t}function lr(e,t,n){var r=new de(e.j,t,"");return r.textAlign=e.C===fr?"left":e.C===hr?"right":me,(n=Nn(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}or.prototype.isVisible=function(){return this.l};var fr=0,hr=1,dr=2;function pr(){this.i=[],this.h=null,this.g=0}function gr(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new mr(e.h)),e.h=null,e.g=0))}function mr(e){this.g=0,this.h=e}function yr(e){if(!e.ea())throw new Ye(2,2,3e3);return e.h[e.g++]}function vr(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function br(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=yr(t).value,t=null;for(var i=(n=l(wr(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=lr(i,r,e.i)),ar(i);return t}if(137===n)for(n=(t=l(wr(e,t=yr(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.l=!0;else{if(138===n){for(n=yr(t).value,t=null,i=(n=l(wr(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=lr(i,r,e.i)),i.l=!1;return t}if(139===n){for(n=yr(t).value,t=null,i=(n=l(wr(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=lr(i,r,e.i):i.j=r,i.l=!i.l;return t}if(140===n)return Er(e,t=yr(t).value,r);if(143===n)return r=Er(e,255,r),Tr(e),r;if(144===n)t.skip(1),r=yr(t).value,e.g&&(e.g.o=0<(128&r),e.g.u=0<(64&r));else if(145===n)r=yr(t).value,n=yr(t).value,t.skip(1),e.g&&(t=xr((48&n)>>4,(12&n)>>2,3&n),e.g.s=xr((48&r)>>4,(12&r)>>2,3&r),e.g.m=t);else if(146===n)r=yr(t).value,t=yr(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=yr(t).value,t.skip(1),e.g&&(e.g.C=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==e.h[n])){var o=new or;o.j=r,e.h[n]=o}r=yr(t).value,yr(t),yr(t),o=yr(t).value;var a=yr(t).value;t=yr(t).value,i&&!(7&t)||((t=e.h[n]).h=0,t.g=0,t.u=!1,t.o=!1,t.s="white",t.m="black"),(t=e.h[n]).l=0<(32&r),t.D=1+(15&o),t.A=1+(63&a),e.g=e.h[n]}}}return null}function wr(e,t){for(var n=[],r=0;8>r;r++)!(1&~t)&&e.h[r]&&n.push(r),t>>=1;return n}function Er(e,t,n){for(var r=null,i=(t=l(wr(e,t))).next();!i.done;i=t.next()){i=i.value;var o=e.h[i];o.isVisible()&&(r=lr(o,n,e.i)),e.h[i]=null}return r}function Tr(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function xr(e,t,n){var r={0:0,1:0,2:1,3:1};return Sr[(e=r[e])<<2|(t=r[t])<<1|(n=r[n])]}mr.prototype.ea=function(){return this.g<this.h.length},mr.prototype.aa=function(){return this.g},mr.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Ye(2,2,3e3);this.g+=e};var Ar=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),Sr="black blue green cyan red magenta yellow white".split(" ");function _r(e){this.h=e,this.g=void 0}function Or(){}function Rr(t){if(!t)return"";if(239==(t=re(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!Ft())return(t=(new TextDecoder).decode(t)).includes("�")&&z('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(128&t[r]?t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3):i=t[r],65535>=i)n+=String.fromCharCode(i);else{var o=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+o)}}return n}function kr(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new Ye(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=ie(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return Pr.value()(r)}function Cr(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=re(e);if(239==n[0]&&187==n[1]&&191==n[2])return Rr(n);if(254==n[0]&&255==n[1])return kr(n.subarray(2),!1);if(255==n[0]&&254==n[1])return kr(n.subarray(2),!0);if(0==n[0]&&0==n[2])return kr(e,!1);if(0==n[1]&&0==n[3])return kr(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Rr(e);throw new Ye(2,2,2003)}function Nr(t){if(e.TextEncoder&&!Ft()){var n=new TextEncoder;return ne(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return ne(n)}function Ir(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}_r.prototype.value=function(){return null==this.g&&(this.g=this.h()),this.g},F("shaka.util.StringUtils",Or),Or.resetFromCharCode=function(){Pr.g=void 0},Or.toUTF16=Ir,Or.toUTF8=Nr,Or.fromBytesAutoDetect=Cr,Or.fromUTF16=kr,Or.fromUTF8=Rr;var Pr=new _r((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(n){return!1}}for(var t={Wa:65536};0<t.Wa;(t={Wa:t.Wa}).Wa/=2)if(e(t.Wa))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.Wa)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.Wa));return n}}(t);return null}));function Lr(e,t){this.h=ie(e),this.i=t==jr,this.g=0}function Mr(){return new Ye(2,3,3e3)}(r=Lr.prototype).ea=function(){return this.g<this.h.byteLength},r.aa=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.Sa=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(t){throw Mr()}},r.ab=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(t){throw Mr()}},r.H=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(t){throw Mr()}},r.Ae=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(t){throw Mr()}},r.Mb=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(n){throw Mr()}if(2097151<t)throw new Ye(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},r.$a=function(e){if(this.g+e>this.h.byteLength)throw Mr();var t=re(this.h,this.g,e);return this.g+=e,t},r.skip=function(e){if(this.g+e>this.h.byteLength)throw Mr();this.g+=e},r.Zf=function(e){if(this.g<e)throw Mr();this.g-=e},r.seek=function(e){if(0>e||e>this.h.byteLength)throw Mr();this.g=e},r.pc=function(){for(var e=this.g;this.ea()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=re(this.h,e,this.g-e),this.g+=1,Rr(e)},F("shaka.util.DataViewReader",Lr),Lr.prototype.readTerminatedString=Lr.prototype.pc,Lr.prototype.seek=Lr.prototype.seek,Lr.prototype.rewind=Lr.prototype.Zf,Lr.prototype.skip=Lr.prototype.skip,Lr.prototype.readBytes=Lr.prototype.$a,Lr.prototype.readUint64=Lr.prototype.Mb,Lr.prototype.readInt32=Lr.prototype.Ae,Lr.prototype.readUint32=Lr.prototype.H,Lr.prototype.readUint16=Lr.prototype.ab,Lr.prototype.readUint8=Lr.prototype.Sa,Lr.prototype.getLength=Lr.prototype.getLength,Lr.prototype.getPosition=Lr.prototype.aa,Lr.prototype.hasMoreData=Lr.prototype.ea;var jr=1;function Dr(){this.h=[],this.g=[],this.i=new pr,this.l=0,this.m=new Map([["CC1",new Yn(0,0)],["CC2",new Yn(0,1)],["CC3",new Yn(1,0)],["CC4",new Yn(1,1)]]),this.s=this.o=0,this.j=new Map,this.u=!0,Br(this)}function Br(e){e.o=0,e.s=0;for(var t=l(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=Qn,n.g=n.j,n.m=null,Dn(n.i),Dn(n.j),Dn(n.o);e.u=!0}function Ur(e,t){var n=t.type;if(16==(112&t.ua)){var r=t.ua>>3&1;0===n?e.o=r:e.s=r}if(n=e.m.get("CC"+(n<<1|(n?e.s:e.o)+1)),255===t.ua&&255===t.Ia||!t.ua&&!t.Ia||!Hr(t.ua)||!Hr(t.Ia))return 45<=++e.l&&Br(e),null;if(e.l=0,t.ua&=127,t.Ia&=127,!t.ua&&!t.Ia)return null;if(e=null,16==(112&t.ua))e:{if(r=t.ua,e=t.Ia,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16==(240&r)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1];var i=(30&e)>>1;r="white";var o=!1;7>i?r=ir[i]:7===i&&(o=!0),e=!(1&~e),n.h!==nr&&(i=n.g,n.h===tr&&t!==i.g&&(Un(i,n=1+t-i.h,1+i.g-i.h,i.h),Fn(i,0,n-1),Fn(i,t+1,15-t)),i.g=t,i.m=e,i.j=o,i.l=r,i.o="black")}else if(17==(247&r)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",Bn(n.g,Hn,32),r=!1,"white_italics"===(t=ir[(14&e)>>1])&&(t="white",r=!0),n.g.m=!(1&~e),n.g.j=r,n.g.l=t;else if(16==(247&r)&&32==(240&e)||23==(247&r)&&45==(255&e))t="black",!(7&r)&&(t=rr[(14&e)>>1]),n.g.o=t;else if(17==(247&r)&&48==(240&e))Bn(n.g,Vn,e);else if(18==(246&r)&&32==(224&e))Bn(n.g,1&r?qn:Gn,e);else if(20==(246&r)&&32==(240&e)){switch(e=t.pts,r=null,t.Ia){case 32:$n(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Zn(n,2,e);break;case 38:r=Zn(n,3,e);break;case 39:r=Zn(n,4,e);break;case 40:Bn(n.g,Hn,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:Dn(n.o),Jn(n);break;case 43:Jn(n);break;case 44:t=n.i,r=null,n.h!==nr&&(r=jn(t,n.l,e)),Fn(t,0,15);break;case 45:t=n.g,n.h!==tr?r=null:(r=jn(t,n.l,e),Un(t,(o=t.g-t.h+1)-1,o,t.h),Fn(t,0,o-1),Fn(t,t.g,15-t.g),n.l=e);break;case 46:Fn(n.j,0,15);break;case 47:t=null,n.h!==nr&&(t=jn(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,$n(n),n.l=e,r=t}e=r;break e}e=null}else r=t.Ia,Bn(n.g,Hn,t.ua),Bn(n.g,Hn,r);return e}function Fr(e,t){var n=[];try{for(;t.ea();){var r=yr(t).value,i=(224&r)>>5,o=31&r;if(7===i&&0!=o&&(i=63&yr(t).value),0!=i){e.j.has(i)||e.j.set(i,new vr(i));for(var a=e.j.get(i),s=t.aa();t.aa()-s<o;){var u=yr(i=t),c=u.value,l=u.pts;if(16===c)c=c<<16|yr(i).value;if(0<=c&&31>=c){var f=l;if(a.g){var h=a.g;switch(i=null,c){case 8:!cr(h)||0>=h.g&&0>=h.h||(0>=h.g?(h.g=h.A-1,h.h--):h.g--,h.i[h.h][h.g]=null);break;case 13:if(h.isVisible()&&(i=lr(h,f,a.i)),h.h+1>=h.D){f=h;for(var d=0,p=1;16>p;p++,d++)f.i[d]=f.i[p];for(p=0;1>p;p++,d++)f.i[d]=sr()}else h.h++;h.g=0;break;case 14:h.isVisible()&&(i=lr(h,f,a.i)),h.i[h.h]=sr(),h.g=0;break;case 12:h.isVisible()&&(i=lr(h,f,a.i)),ar(h),(f=h).h=0,f.g=0}var g=i}else g=null}else if(128<=c&&159>=c)g=br(a,i,c,l);else{if(4096<=c&&4127>=c)8<=(f=255&c)&&15>=f?i.skip(1):16<=f&&23>=f?i.skip(2):24<=f&&31>=f&&i.skip(3);else if(4224<=c&&4255>=c)128<=(f=255&c)&&135>=f?i.skip(4):136<=f&&143>=f&&i.skip(5);else if(32<=c&&127>=c)i=c,a.g&&ur(a.g,127===i?"♪":String.fromCharCode(i));else if(160<=c&&255>=c)a.g&&ur(a.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(i=255&c,a.g)if(Ar.has(i)){var m=Ar.get(i);ur(a.g,m)}else ur(a.g,"_")}else 4256<=c&&4351>=c&&a.g&&ur(a.g,160!=(255&c)?"_":"[CC]");g=null}(i=g)&&n.push(i)}}}}catch(y){if(!(y instanceof Ye&&3e3===y.code))throw y;W("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Hr(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Vr(e){for(var t=[],n=e,r=e=0;r<n.length;)2==e&&3==n[r]?(e=0,(n=[].concat(f(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;255==e[r];)n+=255,r++;n+=e[r++];for(var i=0;255==e[r];)i+=255,r++;i+=e[r++],4==n&&t.push(e.subarray(r,r+i)),r+=i}return t}function Gr(){this.i=[],this.h=[],this.g=!1}function qr(e){for(var t=Yr(e);e.reader.ea()&&!e.parser.g;)e.parser.nc(e.start+t,e.reader,e.partialOkay)}function zr(e){for(var t=Yr(e),n=e.reader.H(),r=0;r<n&&(e.parser.nc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function Kr(e){var t=Yr(e);for(e.reader.skip(78);e.reader.ea()&&!e.parser.g;)e.parser.nc(e.start+t,e.reader,e.partialOkay)}function Wr(e){for(var t=0,n=(e=l(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Xr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Yr(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}Lr.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:jr},Dr.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Br(this);for(var t=(e=l(this.j.values())).next();!t.done;t=e.next())Tr(t.value)},Dr.prototype.extract=function(e,t){if(this.u){for(var n=l(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.u=!1}if(181===(e=new Lr(e,0)).Sa()&&49===e.ab()&&1195456820===e.H()&&3===e.Sa()&&64&(n=e.Sa()))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.Sa(),o=(4&i)>>2,a=e.Sa(),s=e.Sa();o&&(0===(i&=3)||1===i?this.h.push({pts:t,type:i,ua:a,Ia:s,order:this.h.length}):(this.g.push({pts:t,type:i,value:a,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Dr.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=l(this.h),r=n.next();!r.done;r=n.next())(r=Ur(this,r.value))&&t.push(r);for(r=(n=l(this.g)).next();!r.done;r=n.next())gr(this.i,r.value);for(r=(n=l(this.i.i)).next();!r.done;r=n.next())r=Fr(this,r.value),t.push.apply(t,f(r));return this.i.i=[],this.h=[],this.g=[],t},F("shaka.cea.CeaDecoder",Dr),ce=function(){return new Dr},(r=Gr.prototype).box=function(e,t){return e=Wr(e),this.i[e]=Zr,this.h[e]=t,this},r.R=function(e,t){return e=Wr(e),this.i[e]=$r,this.h[e]=t,this},r.stop=function(){this.g=!0},r.parse=function(e,t,n){for(e=new Lr(e,0),this.g=!1;e.ea()&&!this.g;)this.nc(0,e,t,n)},r.nc=function(e,t,n,r){var i=t.aa();if(r&&i+8>t.getLength())this.g=!0;else{var o=t.H(),a=t.H(),s=Xr(a),u=!1;switch(o){case 0:o=t.getLength()-i;break;case 1:if(r&&t.aa()+8>t.getLength())return void(this.g=!0);o=t.Mb(),u=!0}var c=this.h[a];if(c){var l=null,f=null;if(this.i[a]==$r){if(r&&t.aa()+4>t.getLength())return void(this.g=!0);l=(f=t.H())>>>24,f&=16777215}a=i+o,n&&a>t.getLength()&&(a=t.getLength()),r&&a>t.getLength()?this.g=!0:(r=a-t.aa(),c({name:s,parser:this,partialOkay:n||!1,version:l,flags:f,reader:t=new Lr(t=0<r?t.$a(r):new Uint8Array(0),0),size:o,start:i+e,has64BitSize:u}))}else t.skip(Math.min(i+o-t.aa(),t.getLength()-t.aa()))}},F("shaka.util.Mp4Parser",Gr),Gr.headerSize=Yr,Gr.typeToString=Xr,Gr.allData=function(e){return function(t){e(t.reader.$a(t.reader.getLength()-t.reader.aa()))}},Gr.visualSampleEntry=Kr,Gr.sampleDescription=zr,Gr.children=qr,Gr.prototype.parseNext=Gr.prototype.nc,Gr.prototype.parse=Gr.prototype.parse,Gr.prototype.stop=Gr.prototype.stop,Gr.prototype.fullBox=Gr.prototype.R,Gr.prototype.box=Gr.prototype.box;var Zr=0,$r=1;function Jr(e,t){return 1==t?(t=e.H(),e=e.H(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.H()}}function Qr(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.H(),e.skip(4),e=e.ab(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function ei(){this.j=new Map,this.i=this.h=0,this.g=ti}ei.prototype.init=function(e){function t(e){(e=e.name)in ii&&(n.g=ii[e])}var n=this,r=[],i=[];if((new Gr).box("moov",qr).box("mvex",qr).R("trex",(function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.H(),t=t.H(),n.h=e,n.i=t})).box("trak",qr).R("tkhd",(function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.H();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.ab(),t.ab(),t.ab(),t.ab(),r.push(n)})).box("mdia",qr).R("mdhd",(function(e){e=Qr(e.reader,e.version),i.push(e.timescale)})).box("minf",qr).box("stbl",qr).R("stsd",zr).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",Kr).box("sinf",qr).box("frma",(function(e){(e=Xr(e=e.reader.H()))in ii&&(n.g=ii[e])})).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new Ye(2,2,2010);this.g==ti&&K("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(e,t){n.j.set(e,i[t])}))},ei.prototype.parse=function(e){var t=this;if(this.g==ti)return[];var n=[],r=this.h,i=this.i,o=0,a=[],s=null,u=9e4;return(new Gr).box("moof",(function(e){o=e.start,a=[],qr(e)})).box("traf",qr).R("trun",(function(e){var t=e.reader,n=e.version;e=e.flags;var r=t.H(),i=[],o=null;1&e&&(o=t.H()),4&e&&t.skip(4);for(var s=0;s<r;s++){var u={Ce:null,sampleSize:null,Be:null};256&e&&(u.Ce=t.H()),512&e&&(u.sampleSize=t.H()),1024&e&&t.skip(4),2048&e&&(u.Be=0==n?t.H():t.Ae()),i.push(u)}a.push({yg:r,$f:i,Ye:o})})).R("tfhd",(function(e){var n=e.reader;e=e.flags;var o=null,a=null,s=n.H();1&e&&n.Mb(),2&e&&n.skip(4),8&e&&(o=n.H()),16&e&&(a=n.H()),r=o||t.h,i=a||t.i,t.j.has(s)&&(u=t.j.get(s))})).R("tfdt",(function(e){s=Jr(e.reader,e.version).baseMediaDecodeTime})).box("mdat",(function(e){if(null===s)throw K("Unable to find base media decode time for CEA captions!"),new Ye(2,2,2010);!function(e,t,n,r,i,o,a,s,u){var c=0,h=o,d=s.map((function(e){return e.$f}));for((d=[].concat.apply([],f(d))).length&&(h=d[0].sampleSize||o),t.skip(a+s[0].Ye);t.ea();){a=t.H();var p=t.Sa(),g=null;switch(g=!1,s=1,e.g){case ni:g=6==(g=31&p);break;case ri:s=2,t.skip(1),g=39==(g=p>>1&63)||40==g;break;default:return}if(g)for(p=0,c<d.length&&(p=d[c].Be||0),p=(n+p)/r,g=(s=l(Vr(t.$a(a-s)))).next();!g.done;g=s.next())u.push({packet:g.value,pts:p});else try{t.skip(a-s)}catch(m){break}0==(h-=a+4)&&(n=c<d.length?n+(d[c].Ce||i):n+i,h=++c<d.length&&d[c].sampleSize||o)}}(t,e.reader,s,u,r,i,o-e.start-8,a,n)})).parse(e,!1),n},F("shaka.cea.Mp4CeaParser",ei);var ti=0,ni=1,ri=2,ii={avc1:ni,avc3:ni,hev1:ri,hvc1:ri,dvh1:ri,dvhe:ri};function oi(e,t){this.g=e,this.h=t}function ai(e,t){var n=new oi(5,0),r=ci,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,e,t)}function si(e,t,n,r){K([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function ui(e,t,n,r){z([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(""))}ue["video/mp4"]=function(){return new ei},oi.prototype.toString=function(){return"v"+this.g+"."+this.h};var ci=null;function li(e){this.j=e,this.i=e.byteLength,this.g=this.h=0}function fi(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);0!==r&&(n.set(e.j.subarray(t,t+r)),e.h=new Lr(n,0).H(),e.g=8*r,e.i-=r)}function hi(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,fi(e)}e.h<<=t,e.g-=t}function di(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&fi(e),0<(n=t-n)?r<<n|di(e,n):r}function pi(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return fi(e),t+pi(e)}function gi(e){hi(e,1+pi(e))}function mi(e){return di(e,pi(e)+1)-1}function yi(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+(1&(r=mi(e))?1+r>>>1:-1*(r>>>1))+256)%256),n=0===r?n:r}function vi(e){return di(e,8),mi(e),mi(e)}function bi(){}function wi(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Ei(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Ti(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function xi(e){var t={key:e.type,description:"",data:""};if("TXXX"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=Rr(re(e.data,1,n));return e=Rr(re(e.data,2+n)).replace(/\0*$/,""),t.description=r,t.data=e,t}return"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(n=e.data.subarray(1).indexOf(0))?null:(r=Rr(re(e.data,1,n)),e=Rr(re(e.data,2+n)).replace(/\0*$/,""),t.description=r,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(r=e.data.indexOf(0))?null:(r=Rr(re(e.data,0,r)),t.description=r,"com.apple.streaming.transportStreamTimestamp"==r?(r=e.data.subarray(r.length+1),e=1&r[3],r=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7],r/=45,e&&(r+=47721858.84),t.data=r):(e=ne(e.data.subarray(r.length+1)),t.data=e),t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(e=Rr(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=Rr(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=ne(e.data),t):null}function Ai(e){for(var t=0,n=[];wi(e,t);){var r=Ti(e,t+6);for(e[t+5]>>6&1&&(t+=10),r=(t+=10)+r;t+10<r;){var i=e.subarray(t),o=Ti(i,4);(o=xi(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:o,data:i.subarray(10,10+o)}))&&n.push(o),t+=i.size+10}Ei(e,t)&&(t+=10)}return n}function Si(e,t){for(var n=t=void 0===t?0:t,r=0;wi(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Ti(e,t+6),Ei(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}function _i(){}function Oi(e){return e=re(e),e=Pr.value()(e),btoa(e)}function Ri(e,t){return t=null==t||t,e=Oi(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function ki(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function Ci(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function Ni(e){var t=re(e);e="";for(var n=(t=l(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Ii(){for(var e=P.apply(0,arguments),t=0,n=l(e),r=n.next();!r.done;r=n.next())t+=r.value.byteLength;for(t=new Uint8Array(t),n=0,r=(e=l(e)).next();!r.done;r=e.next())r=r.value,t.set(re(r),n),n+=r.byteLength;return t}function Pi(){this.u=null,this.A=!1,this.m=this.o=null,this.i=[],this.s=this.j=null,this.g=[],this.l=null,this.h=[]}function Li(e){if(1!=(e[0]<<16|e[1]<<8|e[2]))return null;var t={data:new Uint8Array(0),Md:e[4]<<8|e[5],pts:null,dts:null};if(t.Md&&t.Md>e.byteLength-6)return null;var n=e[7];return 192&n&&(t.pts=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,t.dts=t.pts,64&n&&(t.dts=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)),n=e[8]+9,e.byteLength<=n?null:(t.data=e.subarray(n),t)}function Mi(e){return!(0>ji(e))}function ji(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}F("shaka.util.ExpGolomb",li),F("shaka.util.Id3Utils",bi),bi.getID3Data=Si,bi.getID3Frames=Ai,F("shaka.util.Uint8ArrayUtils",_i),_i.concat=Ii,_i.toHex=Ni,_i.fromHex=Ci,_i.fromBase64=ki,_i.toBase64=Ri,_i.toStandardBase64=Oi,(r=Pi.prototype).clearData=function(){this.i=[],this.g=[],this.h=[]},r.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,ji(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71==e[i]){var o=!!(64&e[i+1]),a=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s==i+188)continue}else s=i+4;switch(a){case 0:o&&(s+=e[s]+1),this.u=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.u:o&&(s+=e[s]+1),a={audio:-1,video:-1,rd:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(o=e)[s+1])<<8|o[s+2])-4;for(s+=12+((15&o[s+10])<<8|o[s+11]);s<u;){var c=(31&o[s+1])<<8|o[s+2],l=(15&o[s+3])<<8|o[s+4];switch(o[s]){case 6:if(-1==a.audio&&0<l)for(var f=s+5,h=l;2<h;){switch(o[f]){case 106:a.audio=c,a.audioCodec="ac3";break;case 122:a.audio=c,a.audioCodec="ec3"}var d=o[f+1]+2;f+=d,h-=d}break;case 15:-1==a.audio&&(a.audio=c,a.audioCodec="aac");break;case 21:-1==a.rd&&(a.rd=c);break;case 27:-1==a.video&&(a.video=c,a.videoCodec="avc");break;case 3:case 4:-1==a.audio&&(a.audio=c,a.audioCodec="mp3");break;case 36:-1==a.video&&(a.video=c,a.videoCodec="hvc");break;case 129:-1==a.audio&&(a.audio=c,a.audioCodec="ac3");break;case 132:case 135:-1==a.audio&&(a.audio=c,a.audioCodec="ec3")}s+=l+5}o=a,null==this.o&&(this.o=o.video,this.m=o.videoCodec),null==this.j&&(this.j=o.audio,this.s=o.audioCodec),null==this.l&&(this.l=o.rd),r&&!this.A&&(r=!1,i=t-188),this.A=!0;break;case this.o:s=e.subarray(s,i+188),o?this.i.push(s):this.i.length&&(o=this.i[this.i.length-1])&&(this.i[this.i.length-1]=Ii(o,s));break;case this.j:s=e.subarray(s,i+188),o?this.g.push(s):this.g.length&&(o=this.g[this.g.length-1])&&(this.g[this.g.length-1]=Ii(o,s));break;case this.l:s=e.subarray(s,i+188),o?this.h.push(s):this.h.length&&(o=this.h[this.h.length-1])&&(this.h[this.h.length-1]=Ii(o,s));break;default:r=!0}}return this},r.Nd=function(e,t){for(var n,r=e.pts?e.pts/9e4:null,i=e.data,o=i.byteLength,a=0,s=[],u=-1,c=0,l=!1,f=0;f<o;++f){var h=i[f];if(h){if(2<=a&&1==h&&l){if(0==(e=f-(3<a?3:a)))break;n.data=Ii(n.data,i.subarray(0,e)),n.La=Ii(n.La,i.subarray(0,e));break}if(2<=a&&1==h){if(0<=u&&(a=f-((3<a?3:a)+1),s.push({data:i.subarray(u+1,a+1),La:i.subarray(u,a+1),type:c,time:r})),f>=o-1)return s;u=++f,c=31&i[f]}a=0}else a++;f>=o-1&&0<=u&&0<=a&&(l?(n.data=Ii(n.data,i),n.La=Ii(n.La,i)):(l=!0,n={data:i.subarray(u+1,o),La:i.subarray(u,o),type:c,time:r},t&&0==e.Md&&(o=(i=t.data).byteLength,f=-1)))}return n&&s.push(n),s},r.getMetadata=function(){for(var e=[],t=l(this.h),n=t.next();!n.done;n=t.next())(n=Li(n.value))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ai(n.data),dts:n.dts,pts:n.pts});return e},r.jb=function(){for(var e=[],t=l(this.g),n=t.next();!n.done;n=t.next())(n=Li(n.value))&&e.push(n);return e},r.Jc=function(){for(var e=[],t=l(this.i),n=t.next();!n.done;n=t.next()){var r=Li(n=n.value);r&&null!=r.pts&&null!=r.dts?e.push(r):e.length&&(n=r?r.data:n)&&((r=e.pop()).data=Ii(r.data,n),e.push(r))}return e},r.getStartTime=function(){for(var e=null,t=l(this.jb()),n=t.next();!n.done;n=t.next()){var r=n.value;r&&null!=r.pts&&(r=Math.min(r.dts,r.pts)/9e4,null==e||e>r)&&(e=r)}for(t=null,n=(r=l(this.Jc())).next();!n.done;n=r.next())(n=n.value)&&null!=n.pts&&(n=Math.min(n.dts,n.pts)/9e4,null==t||t>n)&&(t=n);return{audio:e,video:t}},r.md=function(){return{audio:this.s,video:this.m}},r.qd=function(){var e=[];if("avc"!=this.m)return e;for(var t=this.Jc(),n=0;n<t.length;n++){var r=t[n],i=void 0;n+1<t.length&&(i=t[n+1]),e.push.apply(e,f(this.Nd(r,i)))}return e},r.Cf=function(){ai("TsParser","Please use getVideoInfo function instead.");var e=this.qe();return{height:e.height,width:e.width}},r.qe=function(){var e={height:null,width:null,Bc:null},t=this.qd();if(!t.length)return e;if(!(t=t.find((function(e){return 7==e.type}))))return e;var n=di(t=new li(t.data),8),r=di(t,8),i=di(t,8);if(gi(t),Di.includes(n)){var o=mi(t);if(3===o&&hi(t,1),gi(t),gi(t),hi(t,1),1===di(t,1)){o=3!==o?8:12;for(var a=0;a<o;a++)1===di(t,1)&&yi(t,6>a?16:64)}}if(gi(t),0===(o=mi(t)))mi(t);else if(1===o)for(hi(t,1),gi(t),gi(t),o=mi(t),a=0;a<o;a++)gi(t);gi(t),hi(t,1),o=mi(t),a=mi(t);var s=di(t,1);0===s&&hi(t,1),hi(t,1);var u=0,c=0,l=0,f=0;return 1===di(t,1)&&(u=mi(t),c=mi(t),l=mi(t),f=mi(t)),e.height=String((2-s)*(a+1)*16-2*l-2*f),e.width=String(16*(o+1)-2*u-2*c),e.Bc="avc1."+("0"+n.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2),e},F("shaka.util.TsParser",Pi),Pi.syncOffset=ji,Pi.probe=Mi,Pi.prototype.getVideoInfo=Pi.prototype.qe,Pi.prototype.getVideoResolution=Pi.prototype.Cf,Pi.prototype.getVideoNalus=Pi.prototype.qd,Pi.prototype.getCodecs=Pi.prototype.md,Pi.prototype.getStartTime=Pi.prototype.getStartTime,Pi.prototype.getVideoData=Pi.prototype.Jc,Pi.prototype.getAudioData=Pi.prototype.jb,Pi.prototype.getMetadata=Pi.prototype.getMetadata,Pi.prototype.parseAvcNalus=Pi.prototype.Nd,Pi.prototype.parse=Pi.prototype.parse,Pi.prototype.clearData=Pi.prototype.clearData,Pi.Timescale=9e4;var Di=[100,110,122,244,44,83,86,118,128,138,139,134];function Bi(){}function Ui(e){var t=this;this.h=[],this.g=[],this.data=[],(new Gr).box("moov",qr).box("moof",qr).R("pssh",(function(e){if(!(1<e.version)){var n=re(e.reader.h,-12,e.size);if(t.data.push(n),t.h.push(Ni(e.reader.$a(16))),0<e.version){n=e.reader.H();for(var r=0;r<n;r++){var i=Ni(e.reader.$a(16));t.g.push(i)}}}})).parse(e)}function Fi(e,t,n,r){var i=e.length,o=t.length+16+i;0<r&&(o+=4+16*n.size);var a=new Uint8Array(o),s=ie(a),u=0;if(s.setUint32(u,o),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,a.set(t,u),u+=t.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(t=l(n)).next();!n.done;n=t.next())n=Ci(n.value),a.set(n,u),u+=n.length;return s.setUint32(u,i),a.set(e,u+4),a}function Hi(e,t){return 1!=(e=Gi(e,t)).length?null:e[0]}function Vi(e,t,n){return 1!=(e=qi(e,t,n)).length?null:e[0]}function Gi(e,t){for(var n=[],r=(e=l(e.childNodes)).next();!r.done;r=e.next())(r=r.value)instanceof Element&&r.tagName==t&&n.push(r);return n}function qi(e,t,n){for(var r=[],i=(e=l(e.childNodes)).next();!i.done;i=e.next())(i=i.value)instanceof Element&&i.localName==n&&i.namespaceURI==t&&r.push(i);return r}function zi(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Ki(e){return Array.from(e.childNodes).every(Wi)?e.textContent.trim():null}function Wi(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function Xi(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i}function Yi(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Zi(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function $i(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Ji(e){return 0==(e=Number(e))%1?e:null}function Qi(e){return 0==(e=Number(e))%1&&0<e?e:null}function eo(e){return 0==(e=Number(e))%1&&0<=e?e:null}function to(e){return e=Number(e),isNaN(e)?null:e}function no(e){return!!e&&"true"===e.toLowerCase()}function ro(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function io(e,t){var n=new DOMParser,r=ao.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(i){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function oo(e,t){try{return io(Cr(e),t)}catch(n){return null}}Bi.prototype.init=function(){},Bi.prototype.parse=function(e){var t=[];if(!Mi(e=re(e)))return t;for(var n=(e=l(e=(new Pi).parse(e).qd())).next();!n.done;n=e.next())if(6==(n=n.value).type&&null!=n.time)for(var r=l(Vr(n.data)),i=r.next();!i.done;i=r.next())t.push({packet:i.value,pts:n.time});return t},F("shaka.cea.TsCeaParser",Bi),ue["video/mp2t"]=function(){return new Bi},F("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});var ao=new _r((function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}}));function so(e,t,n){var r=function(e){for(var t=[],n=(e=l(e)).next();!n.done;n=e.next())(n=co(n.value))&&t.push(n);return t}(e),i=null;e=[];var o=[],a=new Set(r.map((function(e){return e.keyId})));if(a.delete(null),1<a.size)throw new Ye(2,4,4010);if(t||(o=r.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Td||(i=e.init||i,!1)}))).length&&(e=function(e,t,n,r){for(var i=[],o=(t=l(t)).next();!o.done;o=t.next()){var a=n[(o=o.value).Td];if(a){var s;if(s=Vi(o.node,"urn:microsoft:playready","pro")){s=ki(s.textContent);var u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);s=[{initData:Fi(s,u,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else s=null;if(u=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.Td)if(0==(u=r).size)u=null;else{var c=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);u=[{initData:Fi(new Uint8Array([]),c,u,1),initDataType:"cenc",keyId:o.keyId}]}s=tt(a,o.init||e||s||u),(a=fo.get(a))&&(s.licenseServerUri=a(o)),i.push(s)}}return i}(i,o,n,a),0==e.length&&(e=[tt("",i)])),r.length&&(t||!o.length))for(e=[],n=(t=l(Object.values(n))).next();!n.done;n=t.next())"org.w3.clearkey"!=(n=n.value)&&e.push(tt(n,i));if(a=Array.from(a)[0]||null)for(n=(t=l(e)).next();!n.done;n=t.next())for(r=(n=l(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=a;return{ke:a,vg:i,drmInfos:e,ne:!0}}function uo(e){var t=Vi(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Vi(e.node,"urn:microsoft:playready","pro"))?(e=function(e){var t=0,n=ie(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,1&i||i+e>n.byteLength){n=[];break e}var o=re(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}(e=ki(e.textContent)).filter((function(e){return e.type===lo}))[0],e&&(e=io(e=kr(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=l(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var n=(t=l(t.value.childNodes)).next();!n.done;n=t.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(e):""):""}function co(e){var t=e.getAttribute("schemeIdUri"),n=zi(e,"urn:mpeg:cenc:2013","default_KID"),r=qi(e,"urn:mpeg:cenc:2013","pssh").map(Ki);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Ye(2,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:"cenc",initData:ki(e),keyId:null}}))}catch(o){throw new Ye(2,4,4007)}return{node:e,Td:t,keyId:n,init:0<i.length?i:null}}var lo=1,fo=(new Map).set("com.widevine.alpha",(function(e){var t=Vi(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Vi(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",uo).set("com.microsoft.playready.recommendation",uo).set("com.microsoft.playready.software",uo).set("com.microsoft.playready.hardware",uo).set("org.w3.clearkey",(function(e){var t=Vi(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Vi(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.getAttribute("Lic_type")&&e.textContent?e.textContent:""}));function ho(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.o=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function po(e){var t,n;return I((function(r){if(1==r.g){if(e.g>=e.l){if(!e.i)throw new Ye(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),E(r,new Promise((function(e){new It(e).V(n/1e3)})),2))}e.h*=e.m,T(r)}))}function go(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function mo(e,t){this.promise=e,this.i=t,this.g=!1}function yo(e){return new mo(Promise.reject(e),(function(){return Promise.resolve()}))}function vo(){var e=Promise.reject(new Ye(2,7,7001));return e.catch((function(){})),new mo(e,(function(){return Promise.resolve()}))}function bo(e){return new mo(Promise.resolve(e),(function(){return Promise.resolve()}))}function wo(e){return new mo(e,(function(){return e.catch((function(){}))}))}function Eo(e){return new mo(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function To(t,n){if(n)if(n instanceof Map)for(var r=l(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function xo(){this.ia=new Ct,this.Ke=this}function Ao(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,o=r?[]:{};for(i in n)o[i]=e(n[i]);return r&&(o.length=n.length),o}}(e)}function So(e){var t,n={};for(t in e)n[t]=e[t];return n}function _o(){this.g=[]}function Oo(e,t){e.g.push(t.finally((function(){var n=e.g,r=n.indexOf(t);-1<r&&n.splice(r,1)})))}function Ro(e,t,n,r){xo.call(this),this.i=!1,this.m=new _o,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.s=n||null,this.u=r||null,this.o=!1}function ko(e,t,n,r){n=n||Mo;var i=jo[e];(!i||n>=i.priority)&&(jo[e]={priority:n,Wc:t,Tf:void 0!==r&&r})}function Co(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function No(e,t,n,r,i,o,a){e.o&&(n.uris[i]=n.uris[i].replace("http://","https://"));var s=new Me(n.uris[i]),u=s.za,c=!1;u||(je(s,u=(u=location.protocol).slice(0,-1)),n.uris[i]=s.toString()),u=u.toLowerCase();var l=(u=jo[u])?u.Wc:null;if(!l)return yo(new Ye(2,1,1e3,s));var f,h=u.Tf,d=null,p=null,g=!1,m=!1;return wo(po(r)).ka((function(){if(e.i)return vo();f=Date.now();var r=l(n.uris[i],n,t,(function(n,r,i){d&&d.stop(),p&&p.V(s/1e3),e.l&&t==Lo&&(e.l(n,r),c=!0,a.g=i)}),(function(r){e.j&&e.j(r,n,t),m=!0}));if(!h)return r;var o=n.retryParameters.connectionTimeout;o&&(d=new It((function(){g=!0,r.abort()}))).V(o/1e3);var s=n.retryParameters.stallTimeout;return s&&(p=new It((function(){g=!0,r.abort()}))),r})).ka((function(r){d&&d.stop(),p&&p.stop(),null==r.timeMs&&(r.timeMs=Date.now()-f);var i={response:r,Ef:c};return!m&&e.j&&e.j(r.headers,n,t),i}),(function(s){if(d&&d.stop(),p&&p.stop(),e.s){var u=null,c=0;s instanceof Ye&&(u=s,1001==s.code&&(c=s.data[1])),e.s(n,u,c,g)}if(e.i)return vo();if(g&&(s=new Ye(1,1,1003,n.uris[i],t)),s instanceof Ye){if(7001==s.code)throw s;if(1010==s.code)throw o;if(1==s.severity)return u=new To("retry",u=(new Map).set("error",s)),e.dispatchEvent(u),i=(i+1)%n.uris.length,No(e,t,n,r,i,s,a)}throw s}))}function Io(){this.g=0}function Po(e,t,n){mo.call(this,e,t),this.h=n}go.prototype.resolve=function(){},go.prototype.reject=function(){},mo.prototype.abort=function(){return this.g=!0,this.i()},mo.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},mo.prototype.ka=function(e,t){function n(n){return function(s){if(i.g&&n)o.reject(a);else{var u=n?e:t;u?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}(u,s,o):(n?o.resolve:o.reject)(s)}}}function r(){return o.reject(a),i.abort()}var i=this,o=new go,a=new Ye(2,7,7001);return this.promise.then(n(!0),n(!1)),new mo(o,(function(){return r()}))},F("shaka.util.AbortableOperation",mo),mo.prototype.chain=mo.prototype.ka,mo.prototype.finally=mo.prototype.finally,mo.all=Eo,mo.prototype.abort=mo.prototype.abort,mo.notAbortable=wo,mo.completed=bo,mo.aborted=vo,mo.failed=yo,To.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},To.prototype.stopImmediatePropagation=function(){this.g=!0},To.prototype.stopPropagation=function(){},F("shaka.util.FakeEvent",To),xo.prototype.addEventListener=function(e,t){this.ia&&this.ia.push(e,t)},xo.prototype.removeEventListener=function(e,t){this.ia&&this.ia.remove(e,t)},xo.prototype.dispatchEvent=function(e){if(!this.ia)return!0;var t=this.ia.get(e.type)||[],n=this.ia.get("All");for(n&&(t=t.concat(n)),n=(t=l(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Ke,e.currentTarget=this.Ke;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(r){}if(e.g)break}return e.defaultPrevented},xo.prototype.release=function(){this.ia=null},_o.prototype.destroy=function(){for(var e=[],t=l(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.g=[],Promise.all(e)},y(Ro,xo),(r=Ro.prototype).Vd=function(e){this.o=e},r.Uf=function(e){this.g.add(e)},r.jg=function(e){this.g.delete(e)},r.Ve=function(){this.g.clear()},r.Vf=function(e){this.h.add(e)},r.kg=function(e){this.h.delete(e)},r.We=function(){this.h.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),xo.prototype.release.call(this),this.m.destroy()},r.request=function(e,t,n){var r=this,i=new Io;if(this.i){var o=Promise.reject(new Ye(2,7,7001));return o.catch((function(){})),new Po(o,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Ao(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=Ao(t.uris),o=function(e,t,n,r){function i(e){o=o.ka((function(){return n.body&&(n.body=ne(n.body)),e(t,n,r)}))}var o=bo(void 0);e.u&&i(e.u);for(var a=(e=l(e.g)).next();!a.done;a=e.next())i(a.value);return o.ka(void 0,(function(e){if(e instanceof Ye&&7001==e.code)throw e;throw new Ye(2,1,1006,e)}))}(this,e,t,n);var a=o.ka((function(){return No(r,e,t,new ho(t.retryParameters,!1),0,null,i)})),s=a.ka((function(t){return function(e,t,n,r){for(var i=bo(void 0),o={},a=(e=l(e.h)).next();!a.done;o={dd:o.dd},a=e.next())o.dd=a.value,i=i.ka(function(e){return function(){var i=n.response;return i.data&&(i.data=ne(i.data)),e.dd(t,i,r)}}(o));return i.ka((function(){return n}),(function(e){var t=2;if(e instanceof Ye){if(7001==e.code)throw e;t=e.severity}throw new Ye(t,1,1007,e)}))}(r,e,t,n)})),u=Date.now(),c=0;o.promise.then((function(){c=Date.now()-u}),(function(){}));var f=0;a.promise.then((function(){f=Date.now()}),(function(){}));var h=s.ka((function(n){var i=Date.now()-f,o=n.response;return o.timeMs+=c,o.timeMs+=i,n.Ef||!r.l||o.fromCache||"HEAD"==t.method||e!=Lo||r.l(o.timeMs,o.data.byteLength),o}),(function(e){throw e&&(e.severity=2),e}));return o=new Po(h.promise,(function(){return h.abort()}),i),Oo(this.m,o),o},F("shaka.net.NetworkingEngine",Ro),Ro.prototype.request=Ro.prototype.request,Ro.prototype.destroy=Ro.prototype.destroy,Ro.makeRequest=Co,Ro.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},Ro.prototype.clearAllResponseFilters=Ro.prototype.We,Ro.prototype.unregisterResponseFilter=Ro.prototype.kg,Ro.prototype.registerResponseFilter=Ro.prototype.Vf,Ro.prototype.clearAllRequestFilters=Ro.prototype.Ve,Ro.prototype.unregisterRequestFilter=Ro.prototype.jg,Ro.prototype.registerRequestFilter=Ro.prototype.Uf,Ro.unregisterScheme=function(e){delete jo[e]},Ro.registerScheme=ko,Ro.prototype.setForceHTTPS=Ro.prototype.Vd,Ro.NumBytesRemainingClass=Io,y(Po,mo),Ro.PendingRequest=Po;var Lo=1;Ro.RequestType={MANIFEST:0,SEGMENT:Lo,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6},Ro.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5};var Mo=3;Ro.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Mo};var jo={};function Do(t,n,r,i,o){var a={RepresentationID:n,Number:r,Bandwidth:i,Time:o};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var o=a[n];if(null==o)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(o=Math.round(o)),i){case void 0:case"d":case"i":case"u":t=o.toString();break;case"o":t=o.toString(8);break;case"x":t=o.toString(16);break;case"X":t=o.toString(16).toUpperCase();break;default:t=o.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function Bo(e,t){var n=Uo(e,t,"timescale"),r=1;n&&(r=Qi(n)||1);var i=Uo(e,t,"duration");n=Qi(i||""),"image"==e.G.contentType&&(n=to(i||"")),n&&(n/=r);var o=Uo(e,t,"startNumber");i=Number(Uo(e,t,"presentationTimeOffset"))||0;var a=eo(o||"");if(null!=o&&null!=a||(a=1),o=Fo(e,t,"SegmentTimeline"),t=null,o){t=r,e=e.U.duration||1/0,o=Gi(o,"S");for(var s=[],u=-i,c=0;c<o.length;++c){var l=o[c],f=o[c+1],h=Xi(l,"t",eo),d=Xi(l,"d",eo);if(l=Xi(l,"r",Ji),null!=h&&(h-=i),!d)break;if(h=null!=h?h:u,0>(l=l||0))if(f){if(null==(f=Xi(f,"t",eo)))break;if(h>=f)break;l=Math.ceil((f-h)/d)-1}else{if(1/0==e)break;if(h/t>=e)break;l=Math.ceil((e*t-h)/d)-1}for(0<s.length&&h!=u&&(s[s.length-1].end=h/t),f=0;f<=l;++f)u=h+d,s.push({start:h/t,end:u/t,be:h}),h=u}t=s}return{timescale:r,fa:n,Pb:a,Ta:i/r||0,ae:i,timeline:t}}function Uo(e,t,n){return[t(e.G),t(e.$),t(e.ba)].filter(Qe).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function Fo(e,t,n){return[t(e.G),t(e.$),t(e.ba)].filter(Qe).map((function(e){return Hi(e,n)})).reduce((function(e,t){return e||t}))}function Ho(e,t,n,r,i,o){if(o=void 0===o?0:o,zi(e,"http://www.w3.org/1999/xlink","href")){var a=function(e,t,n,r,i,o){for(var a=zi(e,"http://www.w3.org/1999/xlink","href"),s=zi(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=l(Array.from(e.attributes)),c=u.next();!c.done;c=u.next())"http://www.w3.org/1999/xlink"==(c=c.value).namespaceURI&&e.removeAttributeNS(c.namespaceURI,c.localName);if(5<=o)return yo(new Ye(2,4,4028));if("onLoad"!=s)return yo(new Ye(2,4,4027));var f=et([r],[a]);return i.request(0,Co(f,t)).ka((function(r){if(!(r=oo(r.data,e.tagName)))return yo(new Ye(2,4,4001,a));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=(r=l(Array.from(r.attributes))).next();!s.done;s=r.next())e.setAttributeNode(s.value.cloneNode(!1));return Ho(e,t,n,f[0],i,o+1)}))}(e,t,n,r,i,o);return n&&(a=a.ka(void 0,(function(){return Ho(e,t,n,r,i,o)}))),a}a=[];for(var s=l(Array.from(e.childNodes)),u=s.next();!u.done;u=s.next())(u=u.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==zi(u,"http://www.w3.org/1999/xlink","href")?e.removeChild(u):"SegmentTimeline"!=u.tagName&&a.push(Ho(u,t,n,r,i,o)));return Eo(a).ka((function(){return e}))}function Vo(e,t,n,r,i,o){this.Oa=e,this.j=t,this.i=n,this.Cd=void 0===r?null:r,this.timescale=void 0===i?null:i,this.g=void 0===o?null:o}function Go(e,t,n,r,i,o,a,s,u,c,l,f,h,d,p){c=void 0===c?[]:c,d=void 0===d?qo:d,this.startTime=e,this.l=this.endTime=t,this.O=n,this.j=r,this.i=i,this.g=o,this.m=a,this.L=s,this.K=u,this.h=c,this.tilesLayout=void 0===l?"":l,this.I=void 0===f?null:f,this.D=void 0===h?null:h,this.status=d,this.u=!1,this.s=!0,this.A=!1,this.C=void 0===p?null:p,this.F=null,this.o=0}Vo.prototype.ic=function(){return this.j},Vo.prototype.ec=function(){return this.i},F("shaka.media.InitSegmentReference",Vo),Vo.prototype.getEndByte=Vo.prototype.ec,Vo.prototype.getStartByte=Vo.prototype.ic,(r=Go.prototype).Oa=function(){return this.O()},r.getStartTime=function(){return this.startTime},r.gf=function(){return this.endTime},r.ic=function(){return this.j},r.ec=function(){return this.i},r.Af=function(){return this.tilesLayout},r.zf=function(){return this.I},r.jc=function(){return this.status},r.Mf=function(){this.status=zo},r.Lf=function(){this.u=!0},r.If=function(){return this.u},r.Kf=function(){this.s=!1},r.Hf=function(){return this.s},r.Jf=function(){this.A=!0},r.Ff=function(){return this.A},r.Ie=function(e){this.F=e},r.xf=function(){return this.F},r.offset=function(e){this.startTime+=e,this.endTime+=e,this.l+=e;for(var t=l(this.h),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.l+=e},r.hg=function(e){null==this.D?z("Sync attempted without sync time!"):(e=this.D-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},F("shaka.media.SegmentReference",Go),Go.prototype.syncAgainst=Go.prototype.hg,Go.prototype.offset=Go.prototype.offset,Go.prototype.getThumbnailSprite=Go.prototype.xf,Go.prototype.setThumbnailSprite=Go.prototype.Ie,Go.prototype.hasByterangeOptimization=Go.prototype.Ff,Go.prototype.markAsByterangeOptimization=Go.prototype.Jf,Go.prototype.isIndependent=Go.prototype.Hf,Go.prototype.markAsNonIndependent=Go.prototype.Kf,Go.prototype.isPreload=Go.prototype.If,Go.prototype.markAsPreload=Go.prototype.Lf,Go.prototype.markAsUnavailable=Go.prototype.Mf,Go.prototype.getStatus=Go.prototype.jc,Go.prototype.getTileDuration=Go.prototype.zf,Go.prototype.getTilesLayout=Go.prototype.Af,Go.prototype.getEndByte=Go.prototype.ec,Go.prototype.getStartByte=Go.prototype.ic,Go.prototype.getEndTime=Go.prototype.gf,Go.prototype.getStartTime=Go.prototype.getStartTime,Go.prototype.getUris=Go.prototype.Oa;var qo=0,zo=1;function Ko(e,t,n,r,i,o,a){var s,u=(new Gr).R("sidx",(function(e){s=function(e,t,n,r,i,o,a){var s=[];a.reader.skip(4);var u=a.reader.H();if(0==u)throw new Ye(2,3,3005);if(0==a.version)var c=a.reader.H(),l=a.reader.H();else c=a.reader.Mb(),l=a.reader.Mb();a.reader.skip(2);var f=a.reader.ab();for(e=e+a.size+l,l=0;l<f;l++){var h=a.reader.H(),d=(2147483648&h)>>>31;h&=2147483647;var p=a.reader.H();if(a.reader.skip(4),1==d)throw new Ye(2,3,3006);s.push(new Go(c/u+n,(c+p)/u+n,(function(){return o}),e,e+h-1,t,n,r,i)),c+=p,e+=h}return a.parser.stop(),s}(t,r,i,o,a,n,e)}));if(e&&u.parse(e),s)return s;throw new Ye(2,3,3004)}function Wo(e){this.g=e,this.l=null,this.i=0,this.m=!1}function Xo(e,t,n){return new Wo([new Go(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function Yo(e,t,n){this.i=e,this.g=t,this.h=n}function Zo(){Wo.call(this,[]),this.h=[]}function $o(e){this.h=ie(e),this.g=new Lr(this.h,0)}function Jo(e){var t=Qo(e);if(7<t.length)throw new Ye(2,3,3002);for(var n=0,r=(t=l(t)).next();!r.done;r=t.next())n=256*n+r.value;t=Qo(e);e:{for(var i=(r=l(ea)).next();!i.done;i=r.next())if(ee(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.aa();else{if(8==t.length&&224&t[1])throw new Ye(2,3,3001);for(i=r=0;i<t.length;i++){var o=t[i];r=0==i?o&(1<<8-t.length)-1:256*r+o}t=r}return t=e.g.aa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.aa(),r=ie(e.h,e.g.aa(),t),e.g.skip(t),new ta(n,r)}function Qo(e){var t=e.g.aa(),n=e.g.Sa();if(0==n)throw new Ye(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),re(e.h,t,n)}Go.Status={og:qo,sg:zo,qg:2},(r=Wo.prototype).fc=function(){return this.g.length},r.release=function(){this.m||(this.g=[],this.l&&this.l.stop(),this.l=null)},r.Nf=function(){this.m=!0},r.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},r.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},r.offset=function(e){if(!this.m)for(var t=l(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},r.Qc=function(e){if(!this.m&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter((function(e){return Math.round(1e3*e.startTime)/1e3<t})),this.g.push.apply(this.g,f(e))}},r.Rc=function(e,t){var n=this;e=e.filter((function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)})),this.Qc(e),this.Ka(t)},r.Ka=function(e){if(!this.m){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},r.dc=function(e,t,n){if(n=void 0!==n&&n,!this.m){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new Go(e.startTime,t,e.O,e.j,e.i,e.g,e.m,e.L,e.K,e.h,e.tilesLayout,e.I,e.D,e.status,e.C),this.g[this.g.length-1].o=e.o)}},r.Yc=function(e,t){var n=this;this.m||(this.l&&this.l.stop(),this.l=new It((function(){var e=t();e?n.g.push.apply(n.g,f(e)):(n.l.stop(),n.l=null)})),this.l.sa(e))},Wo.prototype[Symbol.iterator]=function(){return this.kb(0)},Wo.prototype.kb=function(e){var t=this.find(e);if(null==t)return null;t--;var n=this.get(t+1),r=-1;if(n&&0<n.h.length)for(var i=n.h.length-1;0<=i;--i){var o=n.h[i];if(e>=o.startTime&&e<o.endTime){for(;i&&!o.s;)i--,o=n.h[i];if(!o.s)return z("No independent partial segment found!"),null;t++,r=i-1;break}}return new Yo(this,t,r)},F("shaka.media.SegmentIndex",Wo),Wo.forSingleSegment=Xo,Wo.prototype.getIteratorForTime=Wo.prototype.kb,Wo.prototype.updateEvery=Wo.prototype.Yc,Wo.prototype.fit=Wo.prototype.dc,Wo.prototype.evict=Wo.prototype.Ka,Wo.prototype.mergeAndEvict=Wo.prototype.Rc,Wo.prototype.offset=Wo.prototype.offset,Wo.prototype.get=Wo.prototype.get,Wo.prototype.find=Wo.prototype.find,Wo.prototype.markImmutable=Wo.prototype.Nf,Wo.prototype.release=Wo.prototype.release,Yo.prototype.Xe=function(){return this.g},Yo.prototype.current=function(){var e=this.i.get(this.g);return e&&0<e.h.length&&e.Oa().length&&this.h>=e.h.length&&(this.g++,this.h=0,e=this.i.get(this.g)),e&&0<e.h.length?e.h[this.h]:e},Yo.prototype.next=function(){var e=this.i.get(this.g);return e&&0<e.h.length?(this.h++,e.Oa().length&&this.h==e.h.length&&(this.g++,this.h=0)):(this.g++,this.h=0),{value:e=this.current(),done:!e}},F("shaka.media.SegmentIterator",Yo),Yo.prototype.next=Yo.prototype.next,Yo.prototype.current=Yo.prototype.current,Yo.prototype.currentPosition=Yo.prototype.Xe,y(Zo,Wo),(r=Zo.prototype).clone=function(){var e=new Zo;return e.h=this.h.slice(),e},r.release=function(){for(var e=l(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},r.find=function(e){for(var t=0,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.i+r.g.length}return null},r.get=function(e){for(var t=0,n=l(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;t+=r.i+r.g.length}return null},r.offset=function(){},r.Qc=function(){},r.Ka=function(){},r.Rc=function(){},r.dc=function(){},r.Yc=function(){},F("shaka.media.MetaSegmentIndex",Zo),Zo.prototype.updateEvery=Zo.prototype.Yc,Zo.prototype.fit=Zo.prototype.dc,Zo.prototype.mergeAndEvict=Zo.prototype.Rc,Zo.prototype.evict=Zo.prototype.Ka,Zo.prototype.merge=Zo.prototype.Qc,Zo.prototype.offset=Zo.prototype.offset,Zo.prototype.get=Zo.prototype.get,Zo.prototype.find=Zo.prototype.find,Zo.prototype.release=Zo.prototype.release,$o.prototype.ea=function(){return this.g.ea()};var ea=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function ta(e,t){this.id=e,this.g=t}function na(e){if(8<e.g.byteLength)throw new Ye(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Ye(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){t=256*t+e.g.getUint8(n)}return t}function ra(e){var t=new $o(e.g);if(179!=(e=Jo(t)).id)throw new Ye(2,3,3013);if(e=na(e),183!=(t=Jo(t)).id)throw new Ye(2,3,3012);t=new $o(t.g);for(var n=0;t.ea();){var r=Jo(t);if(241==r.id){n=na(r);break}}return{lg:e,Wf:n}}function ia(e,t){if(!(t=Fo(e,t,"Initialization")))return null;var n=e.G.ta,r=t.getAttribute("sourceURL");r&&(n=et(e.G.ta,[r])),r=0;var i=null;return(t=Xi(t,"range",$i))&&(r=t.start,i=t.end),new Vo((function(){return n}),r,i,la(e))}function oa(e,t){var n=Number(Uo(e,sa,"presentationTimeOffset"))||0,r=Uo(e,sa,"timescale"),i=1;r&&(i=Qi(r)||1);var o=n/i||0,a=ia(e,sa);!function(e,t){if(ca(e,t),!ua(e))throw new Ye(2,4,4002)}(e,a);var s=So(e);return{Eb:function(){var e=Fo(s,sa,"RepresentationIndex"),n=s.G.ta;return e&&(e=e.getAttribute("sourceURL"))&&(n=et(s.G.ta,[e])),e=ua(s),aa(s,t,a,n,e.start,e.end,o)}}}function aa(e,t,n,r,i,o,a){var s,u,c,l,f,h,d,p,g,m,y,v,b,w,T;return I((function(x){if(1==x.g)return s=e.presentationTimeline,u=!e.Ya||!e.U.sd,c=e.U.start,l=e.U.duration,f=e.G.mimeType.split("/")[1],d=null,p=[(h=t)(r,i,o,!1),"webm"==f?h(n.Oa(),n.j,n.i,!0):null],h=null,E(x,Promise.all(p),2);if(g=x.h,m=g[0],y=g[1]||null,null,b=c-a,w=c,T=l?c+l:1/0,"mp4"==f)var A=Ko(m,i,r,n,b,w,T);else{if(440786851!=Jo(A=new $o(y)).id)throw new Ye(2,3,3008);var S=Jo(A);if(408125543!=S.id)throw new Ye(2,3,3009);A=S.g.byteOffset,S=new $o(S.g);for(var _=null;S.ea();){var O=Jo(S);if(357149030==O.id){_=O;break}}if(!_)throw new Ye(2,3,3010);for(_=new $o(_.g),O=1e6,S=null;_.ea();){var R=Jo(_);if(2807729==R.id)O=na(R);else if(17545==R.id)if(4==R.g.byteLength)S=R.g.getFloat32(0);else{if(8!=R.g.byteLength)throw new Ye(2,3,3003);S=R.g.getFloat64(0)}}if(null==S)throw new Ye(2,3,3011);if(S*=_=O/1e9,475249515!=(O=Jo(new $o(m))).id)throw new Ye(2,3,3007);A=function(e,t,n,r,i,o,a,s,u){function c(){return i}var l=[];e=new $o(e.g);for(var f=null,h=null;e.ea();){var d=Jo(e);if(187==d.id){var p=ra(d);p&&(d=n*p.lg,p=t+p.Wf,null!=f&&l.push(new Go(f+a,d+a,c,h,p-1,o,a,s,u)),f=d,h=p)}}return null!=f&&l.push(new Go(f+a,r+a,c,h,null,o,a,s,u)),l}(O,A,_,S,r,n,b,w,T)}return v=A,s.Hd(v),d=new Wo(v),u&&d.dc(w,T,!0),x.return(d)}))}function sa(e){return e.sc}function ua(e){var t=Fo(e,sa,"RepresentationIndex");return e=$i((e=Uo(e,sa,"indexRange"))||""),t&&(e=Xi(t,"range",$i,e)),e}function ca(e,t){var n=e.G.mimeType.split("/")[1];if(e.G.contentType!=it&&"mp4"!=n&&"webm"!=n)throw new Ye(2,4,4006);if("webm"==n&&!t)throw new Ye(2,4,4005)}function la(e){var t=e.G;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Tc,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function fa(e,t){var n=ia(e,ha),r=function(e){var t=function(e){return[e.G.bb,e.$.bb,e.ba.bb].filter(Qe).map((function(e){return Gi(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.se&&(e.se=!0),{Of:t.getAttribute("media"),start:(t=Xi(t,"mediaRange",$i,{start:0,end:null})).start,end:t.end}}))}(e);e=Bo(e,ha);var n=e.Pb;0==n&&(n=1);var r=0;return e.fa?r=e.fa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{fa:e.fa,startTime:r,Pb:n,Ta:e.Ta,timeline:e.timeline,Jb:t}}(e);if(!r.fa&&!r.timeline&&1<r.Jb.length)throw new Ye(2,4,4002);if(!r.fa&&!e.U.duration&&!r.timeline&&1==r.Jb.length)throw new Ye(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new Ye(2,4,4002);var i=null,o=null;e.ba.id&&e.G.id&&(o=t[e.ba.id+","+e.G.id])&&(i=o.segmentIndex);var a=function(e,t,n,r,i){var o=r.Jb.length;r.timeline&&r.timeline.length!=r.Jb.length&&(o=Math.min(r.timeline.length,r.Jb.length));for(var a=e-r.Ta,s=t?e+t:1/0,u=[],c=r.startTime,l={},f=0;f<o;l={Vb:l.Vb,Tb:l.Tb},f++){l.Tb=r.Jb[f];var h=void 0;h=null!=r.fa?c+r.fa:r.timeline?r.timeline[f].end:c+t,l.Vb=null,u.push(new Go(e+c,e+h,function(e){return function(){return null==e.Vb&&(e.Vb=et(n,[e.Tb.Of])),e.Vb}}(l),l.Tb.start,l.Tb.end,i,a,e,s)),c=h}return u}(e.U.start,e.U.duration,e.G.ta,r,n);return t=!i,i?i.Rc(a,e.presentationTimeline.mb()):i=new Wo(a),e.presentationTimeline.Hd(a),e.Ya&&e.U.sd||i.dc(e.U.start,e.U.duration?e.U.start+e.U.duration:1/0,t),o&&(o.segmentIndex=i),{Eb:function(){return i&&0!=i.fc()||i.Qc(a),Promise.resolve(i)}}}function ha(e){return e.bb}function da(e,t,n,r,i,o){var a=function(e){var t=Uo(e,pa,"initialization");if(!t)return null;var n=e.G.id,r=e.bandwidth||null,i=e.G.ta;return new Vo((function(){var e=Do(t,n,null,r,null);return et(i,[e])}),0,null,la(e))}(e),s=function(e){var t=Bo(e,pa),n=Uo(e,pa,"media");return e=Uo(e,pa,"index"),{fa:t.fa,timescale:t.timescale,Pb:t.Pb,Ta:t.Ta,ae:t.ae,timeline:t.timeline,Dd:n,lc:e}}(e);!function(e){var t=e.lc?1:0;if(t+=e.timeline?1:0,t+=e.fa?1:0,0==t)throw new Ye(2,4,4002);if(1!=t&&(e.lc&&(e.timeline=null),e.fa=null),!e.lc&&!e.Dd)throw new Ye(2,4,4002)}(s);var u=So(e);if(s.lc)return ca(e,a),{Eb:function(){var e=Do(s.lc,u.G.id,null,u.bandwidth||null,null);return e=et(u.G.ta,[e]),aa(u,t,a,e,0,null,s.Ta)}};if(s.fa)return r||"image"===e.$.contentType||(e.presentationTimeline.Gd(s.fa),e.presentationTimeline.Sc(e.U.start)),{Eb:function(){return function(e,t,n,r,i){function o(e){var n=(e-p)*d,i=n+t.Ta,o=n+c;return n=o+d,(o=new Go(o,Math.min(n,s()),(function(){var t=Do(m,v,e,y,i*g);return et(b,[t])}),0,null,r,w,c,s())).l=n,o}function a(){var e=[Math.max(u.mb(),c),Math.min(u.lb(),s())].map((function(e){return e-c}));return[Math.ceil(e[0]/d),Math.ceil(e[1]/d)-1].map((function(e){return e+p}))}function s(){var e=null!=f&&i[f]||h;return e?c+e:1/0}var u=e.presentationTimeline,c=e.U.start,f=e.ba.id,h=e.U.duration,d=t.fa,p=t.Pb,g=t.timescale,m=t.Dd,y=e.bandwidth||null,v=e.G.id,b=e.G.ta,w=c-t.Ta,E=a();e=e.Ya?Math.max(E[0],E[1]-n+1):E[0],E=E[1],n=[];for(var T=e;T<=E;++T){var x=o(T);n.push(x)}var A=new Wo(n);if(n=u.lb()<s(),T=u.T(),n||T){var S=Math.max(e,E+1);A.Yc(d,(function(){var e=u.mb();A.Ka(e);var t=l(a());t.next(),t=t.next().value;for(var n=[];S<=t;){var r=o(S);n.push(r),S++}return e>s()&&!n.length?null:n}))}return Promise.resolve(A)}(u,s,i,a,o)}};var c=null;r=r=null,e.ba.id&&e.G.id&&(r=n[r=e.ba.id+","+e.G.id])&&(c=r.segmentIndex);var f=e.U.start,h=e.U.duration?f+e.U.duration:1/0,d=!(e.Ya&&e.U.sd);return c?(ma(n=c,s,f,h,d),n.Ka(e.presentationTimeline.mb())):c=new ga(s,e.G.id,e.bandwidth,e.G.ta,f,h,a,d),s.timeline&&"image"!==e.$.contentType&&e.presentationTimeline.ye(s.timeline,f),r&&e.Ya&&(r.segmentIndex=c),{Eb:function(){return c instanceof ga&&0==c.fc()&&ma(c,s,f,h,d),Promise.resolve(c)}}}function pa(e){return e.tc}function ga(e,t,n,r,i,o,a,s){Wo.call(this,[]),this.h=e,this.C=t,this.s=n,this.u=r,this.j=i,this.o=o,this.A=a,s&&ya(this)}function ma(e,t,n,r,i){if(e.h){var o=(n=e.h.timeline)[n.length-1];0<(t=t.timeline.filter((function(e){return e.start>=o.end}))).length&&e.h.timeline.push.apply(e.h.timeline,f(t)),e.o!==r&&(e.o=r)}else e.h=t,e.j=n,e.o=r;i&&ya(e)}function ya(e){if(!e.m){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.o;)t.pop();e.Ka(e.j),0!==t.length&&1/0!==e.o&&(t[t.length-1].end=e.o-e.j)}}function va(){}function ba(e,t,n){var r,i,o;return I((function(a){return 1==a.g?((r=Co([e],n)).method="HEAD",E(a,t.request(0,r).promise,2)):(i=a.h,o=i.headers["content-type"],a.return(o?o.toLowerCase().split(";").shift():""))}))}function wa(e){return 1==(e=new Me(e).va.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}y(ga,Wo),(r=ga.prototype).fc=function(){return this.h?this.h.timeline.length:0},r.release=function(){Wo.prototype.release.call(this),this.h=null},r.Ka=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.fc()&&this.release())}},r.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>this.o)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],o=i.start+this.j;if(i=i.end+this.j,r<n&&(i=t[r+1].start+this.j),e>=o&&e<i)return r+this.i}return null},r.get=function(e){var t=this,n=e-this.i;if(0>n||n>=this.fc()||!this.h)return null;var r=this.g[n];if(!r){r=this.h.timeline[n];var i=e+this.h.Pb,o=this.h.ae+r.be;r=new Go(this.j+r.start,this.j+r.end,(function(){return t.h?function(e,t,n,r,i,o){return e=Do(e,t,n,r||null,i),et(o,[e]).map((function(e){return e.toString()}))}(t.h.Dd,t.C,i,t.s,o,t.u):[]}),0,null,this.A,this.j-this.h.Ta,this.j,this.o),this.g[n]=r}return r},F("shaka.media.ManifestParser",va),va.unregisterParserByMime=function(e){delete Ea[e]},va.registerParserByMime=function(e,t){Ea[e]=t},va.registerParserByExtension=function(e,t){Ta[e]=t},va.AccessibilityPurpose={tg:"visually impaired",pg:"hard of hearing"};var Ea={},Ta={};function xa(e,t,n){this.i=e,this.u=t,this.o=this.j=1/0,this.g=1,this.h=this.l=null,this.m=0,this.C=!0,this.D=0,this.s=void 0===n||n,this.F=0,this.A=!1}function Aa(e,t,n,r,i){return e=Co(e,r,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Sa(e){this.g=!1,this.h=new go,this.i=e}function _a(e,t){if(e.g){if(t instanceof Ye&&7003==t.code)throw t;throw new Ye(2,7,7003,t)}}function Oa(){this.g=new Ct}function Ra(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=ka;if(null==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(i){t=!1}ka=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.g)}(r=xa.prototype).getDuration=function(){return this.j},r.pf=function(){return this.g},r.eg=function(e){this.i=e},r.Va=function(e){this.j=e},r.uf=function(){return this.i},r.He=function(e){this.m=e},r.Yd=function(e){this.C=e},r.Xd=function(e){this.o=e},r.cg=function(e){this.u=e},r.ff=function(){return this.u},r.ye=function(e,t){if(0!=e.length){var n=e[e.length-1].end+t;this.Sc(e[0].start+t),this.g=e.reduce((function(e,t){return Math.max(e,t.end-t.start)}),this.g),this.h=Math.max(this.h,n),null!=this.i&&this.s&&!this.A&&(this.i=(Date.now()+this.m)/1e3-this.h-this.g)}},r.Hd=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.m)/1e3,i=(e=l(e)).next();!i.done;i=e.next())r<(i=i.value).startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.g=Math.max(this.g,i.endTime-i.startTime));this.Sc(t),this.h=Math.max(this.h,n),null!=this.i&&this.s&&!this.A&&(this.i=r-this.h-this.g)}},r.zd=function(){this.A=!0},r.Sc=function(e){this.l=null==this.l?e:Math.min(this.l,e)},r.Gd=function(e){this.g=Math.max(this.g,e)},r.offset=function(e){null!=this.l&&(this.l+=e),null!=this.h&&(this.h+=e)},r.T=function(){return 1/0==this.j&&!this.C},r.Hb=function(){return 1/0!=this.j&&!this.C},r.mb=function(){return Math.max(this.D,this.lb()-this.o)},r.Je=function(e){this.D=e},r.lb=function(){return this.T()||this.Hb()?Math.min(Math.max(0,(Date.now()+this.m)/1e3-this.g-this.i)+this.F,this.j):this.h?Math.min(this.h,this.j):this.j},r.hc=function(e){var t=Math.max(this.l,this.D);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.lb()-this.o+e,this.Na()))},r.Fb=function(){return this.hc(0)},r.Na=function(){return Math.max(0,this.lb()-(this.T()||this.Hb()?this.u:0))},r.Oe=function(){return!(null==this.i||null!=this.h&&this.s)},r.Ge=function(e){this.F=e},F("shaka.media.PresentationTimeline",xa),xa.prototype.setAvailabilityTimeOffset=xa.prototype.Ge,xa.prototype.usingPresentationStartTime=xa.prototype.Oe,xa.prototype.getSeekRangeEnd=xa.prototype.Na,xa.prototype.getSeekRangeStart=xa.prototype.Fb,xa.prototype.getSafeSeekRangeStart=xa.prototype.hc,xa.prototype.getSegmentAvailabilityEnd=xa.prototype.lb,xa.prototype.setUserSeekStart=xa.prototype.Je,xa.prototype.getSegmentAvailabilityStart=xa.prototype.mb,xa.prototype.isInProgress=xa.prototype.Hb,xa.prototype.isLive=xa.prototype.T,xa.prototype.offset=xa.prototype.offset,xa.prototype.notifyMaxSegmentDuration=xa.prototype.Gd,xa.prototype.notifyMinSegmentStartTime=xa.prototype.Sc,xa.prototype.lockStartTime=xa.prototype.zd,xa.prototype.notifySegments=xa.prototype.Hd,xa.prototype.notifyTimeRange=xa.prototype.ye,xa.prototype.getDelay=xa.prototype.ff,xa.prototype.setDelay=xa.prototype.cg,xa.prototype.setSegmentAvailabilityDuration=xa.prototype.Xd,xa.prototype.setStatic=xa.prototype.Yd,xa.prototype.setClockOffset=xa.prototype.He,xa.prototype.getPresentationStartTime=xa.prototype.uf,xa.prototype.setDuration=xa.prototype.Va,xa.prototype.setPresentationStartTime=xa.prototype.eg,xa.prototype.getMaxSegmentDuration=xa.prototype.pf,xa.prototype.getDuration=xa.prototype.getDuration,Sa.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},(r=Oa.prototype).release=function(){this.Nb(),this.g=null},r.J=function(e,t,n,r){this.g&&(e=new Ra(e,t,n,r),this.g.push(t,e))},r.oa=function(e,t,n,r){var i=this;this.J(e,t,(function r(o){i.uc(e,t,r),n(o)}),r)},r.uc=function(e,t,n){if(this.g)for(var r=this.g.get(t)||[],i=(r=l(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.uc(),this.g.remove(t,i))},r.Nb=function(){if(this.g){var e,t=this.g,n=[];for(e in t.g)n.push.apply(n,f(t.g[e]));for(n=(t=l(n)).next();!n.done;n=t.next())n.value.uc();this.g.g={}}},F("shaka.util.EventManager",Oa),Oa.prototype.removeAll=Oa.prototype.Nb,Oa.prototype.unlisten=Oa.prototype.uc,Oa.prototype.listenOnce=Oa.prototype.oa,Oa.prototype.listen=Oa.prototype.J,Oa.prototype.release=Oa.prototype.release,Ra.prototype.uc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var ka=void 0;function Ca(e){for(var t=new Map,n=l(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function Na(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Ia(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var n=(e=l(e)).next();!n.done;n=e.next()){var r=l(n.value);if(n=r.next().value,r=r.next().value,!t.has(n))return!1;if((n=t.get(n))!=r||null==n)return!1}return!0}function Pa(e,t){var n=this;t=void 0===t?1:t,this.C=e,this.F=new Set,this.m=this.s=null,this.ha=!1,this.I=0,this.g=null,this.u=new Oa,this.i=new Map,this.A=new Map,this.l=new go,this.h=null,this.o=function(t){2==t.severity&&n.l.reject(t),e.onError(t)},this.P=new Map,this.ia=new Map,this.W=new It((function(){return function(e){var t=e.P,n=e.ia;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.o(new Ye(2,6,6014)),e.C.ze(Na(n))}(n)})),this.ca=!1,this.L=[],this.O=!1,this.ja=new It((function(){!function(e){e.i.forEach((function(t,n){var r=t.Jd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Jd=i)}))}(n)})).sa(t),this.l.catch((function(){})),this.j=new Sa((function(){return function(e){return I((function(t){switch(t.g){case 1:return e.u.release(),e.u=null,e.l.reject(),e.ja.stop(),e.ja=null,e.W.stop(),e.W=null,E(t,Va(e),2);case 2:if(!e.m){t.B(3);break}return x(t,4),E(t,e.m.setMediaKeys(null),6);case 6:A(t,5);break;case 4:S(t);case 5:e.m=null;case 3:e.g=null,e.F.clear(),e.s=null,e.A=new Map,e.h=null,e.o=function(){},e.C=null,e.Z=!1,e.D=null,T(t)}}))}(n)})),this.Z=!1,this.K=this.D=null}function La(t,n,r){t.A=new Map;for(var i=(r=l(r)).next();!i.done;i=r.next())t.A.set(i.value,{initData:null,initDataType:null});for(i=(r=l(t.h.persistentSessionsMetadata)).next();!i.done;i=r.next())i=i.value,t.A.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return t.ca=0<t.A.size,function(t,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v;return I((function(b){if(1==b.g){if(r=function(t){if(t=Ca(t.h.clearKeys),0==t.size)return null;var n=[],r=[];t.forEach((function(e,t){var i=t;22!=i.length&&(i=Ri(Ci(t),!1)),22!=(t=e).length&&(t=Ri(Ci(e),!1)),e={kty:"oct",kid:i,k:t},n.push(e),r.push(e.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:re(Nr(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(r)}}(t))for(i=l(n),o=i.next();!o.done;o=i.next())(a=o.value).video&&(a.video.drmInfos=[r]),a.audio&&(a.audio.drmInfos=[r]);for((s=n.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||(u=Ca(t.h.servers),function(e,t){var n=[];for(t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),e=l(e),t=e.next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(n,u)),c=new Set,f=l(n),o=f.next();!o.done;o=f.next())for(h=o.value,d=qa(h),p=l(d),g=p.next();!g.done;g=p.next())m=g.value,c.add(m);for(y=l(c),g=y.next();!g.done;g=y.next())Wa(g.value,Ca(t.h.servers),Ca(t.h.advanced||{}),t.h.keySystemsMapping);return E(b,en(n,t.ca,t.Z,t.h.preferredKeySystems),2)}return s||Object.keys(t.h.servers).length?(v=function(e,t){var n,r,i,o,a,s,u,c,f,h,d,p,g,m;return I((function(y){switch(y.g){case 1:if(n=new Map,t.length){r=function(e,t,n){for(var r=l(t),i=r.next();!i.done;i=r.next()){var o=l(qa(i.value));for(i=o.next();!i.done;i=o.next())i=i.value,n.has(i.keySystem)||n.set(i.keySystem,[]),n.get(i.keySystem).push(i)}if(1==n.size&&n.has(""))throw new Ye(2,6,6e3);for(r={},e=l(e.h.preferredKeySystems),i=e.next();!i.done;r={cd:r.cd},i=e.next())for(r.cd=i.value,o=l(t),i=o.next();!i.done;i=o.next())if(i=i.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.cd}}(r)))return i.keySystemAccess;for(e=l([!0,!1]),i=e.next();!i.done;i=e.next())for(r=i.value,o=l(t),i=o.next();!i.done;i=o.next()){var a=l(i.value.decodingInfos);for(i=a.next();!i.done;i=a.next()){var s=i.value;if(s.supported&&s.keySystemAccess){var u=l(i=n.get(s.keySystemAccess.keySystem));for(i=u.next();!i.done;i=u.next())if(!!i.value.licenseServerUri==r)return s.keySystemAccess}}}return null}(e,t,n),y.B(2);break}return E(y,function(e){var t,n,r,i,o,a,s,u,c,f,h,d,p,g,m;return I((function(y){switch(y.g){case 1:if(1==(void 0).size&&(void 0).has(""))throw new Ye(2,6,6e3);for(n=l((void 0).values()),r=n.next();!r.done;r=n.next())0==(i=r.value).audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;o=l(e.h.preferredKeySystems),a=o.next();case 2:if(a.done){y.B(4);break}if(s=a.value,!(void 0).has(s)){y.B(3);break}return u=(void 0).get(s),x(y,6),E(y,navigator.requestMediaKeySystemAccess(s,[u]),8);case 8:return t=y.h,y.return(t);case 6:S(y);case 7:_a(e.j);case 3:a=o.next(),y.B(2);break;case 4:c=l([!0,!1]),f=c.next();case 9:if(f.done){y.B(11);break}h=f.value,d=l((void 0).keys()),a=d.next();case 12:if(a.done){f=c.next(),y.B(9);break}if(p=a.value,g=(void 0).get(p),m=g.drmInfos.some((function(e){return!!e.licenseServerUri})),m!=h){y.B(13);break}return x(y,15),E(y,navigator.requestMediaKeySystemAccess(p,[g]),17);case 17:return t=y.h,y.return(t);case 15:S(y);case 16:_a(e.j);case 13:a=d.next(),y.B(12);break;case 11:return y.return(t)}}))}(e),3);case 3:r=y.h;case 2:if(!(i=r))throw new Ye(2,6,6001);for(_a(e.j),x(y,4),e.F.clear(),o=i.getConfiguration(),a=o.audioCapabilities||[],s=o.videoCapabilities||[],u=l(a),c=u.next();!c.done;c=u.next())f=c.value,e.F.add(f.contentType.toLowerCase());for(h=l(s),c=h.next();!c.done;c=h.next())d=c.value,e.F.add(d.contentType.toLowerCase());if(t.length){var v=i.keySystem,b=n.get(i.keySystem),w=[],T=[],_=[],O=[],R=new Set;Ka(b,w,_,T,O,R);var k=e.ca?"persistent-license":"temporary";for(v={keySystem:v,licenseServerUri:w[0],distinctiveIdentifierRequired:b[0].distinctiveIdentifierRequired,persistentStateRequired:b[0].persistentStateRequired,sessionType:b[0].sessionType||k,audioRobustness:b[0].audioRobustness||"",videoRobustness:b[0].videoRobustness||"",serverCertificate:_[0],serverCertificateUri:T[0],initData:O,keyIds:R},w=(b=l(b)).next();!w.done;w=b.next())(w=w.value).distinctiveIdentifierRequired&&(v.distinctiveIdentifierRequired=w.distinctiveIdentifierRequired),w.persistentStateRequired&&(v.persistentStateRequired=w.persistentStateRequired);b=v}else b=i.keySystem,v=(void 0).get(i.keySystem),w=[],T=[],_=[],O=[],R=new Set,Ka(v.drmInfos,w,_,T,O,R),b={keySystem:b,licenseServerUri:w[0],distinctiveIdentifierRequired:"required"==v.distinctiveIdentifier,persistentStateRequired:"required"==v.persistentState,sessionType:v.sessionTypes[0]||"temporary",audioRobustness:(v.audioCapabilities?v.audioCapabilities[0].robustness:"")||"",videoRobustness:(v.videoCapabilities?v.videoCapabilities[0].robustness:"")||"",serverCertificate:_[0],serverCertificateUri:T[0],initData:O,keyIds:R};if(e.g=b,!e.g.licenseServerUri)throw new Ye(2,6,6012,e.g.keySystem);return E(y,i.createMediaKeys(),6);case 6:if(p=y.h,_a(e.j),e.s=p,""==e.h.minHdcpVersion||!("getStatusForPolicy"in e.s)){y.B(7);break}return x(y,8),E(y,e.s.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if("usable"!=y.h)throw new Ye(2,6,6018);_a(e.j),A(y,7,4);break;case 8:if((g=S(y,4))instanceof Ye)throw g;throw new Ye(2,6,6019,g.message);case 7:return e.ha=!0,E(y,function(e){var t,n;return I((function(r){switch(r.g){case 1:if(!e.s||!e.g)return r.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){r.B(2);break}return t=Co([e.g.serverCertificateUri],e.h.retryParameters),x(r,3),E(r,e.C.mc.request(5,t).promise,5);case 5:n=r.h,e.g.serverCertificate=re(n.data),A(r,4);break;case 3:throw new Ye(2,6,6017,S(r));case 4:if(e.j.g)return r.return();case 2:return e.g.serverCertificate&&e.g.serverCertificate.length?(x(r,6),E(r,e.s.setServerCertificate(e.g.serverCertificate),8)):r.return();case 8:A(r,0);break;case 6:throw new Ye(2,6,6004,S(r).message)}}))}(e),11);case 11:_a(e.j),A(y,0);break;case 4:if(m=S(y),_a(e.j,m),e.g=null,e.F.clear(),m instanceof Ye)throw m;throw new Ye(2,6,6002,m.message)}}))}(t,n),b.return(s?v:v.catch((function(){})))):(t.ha=!0,b.return(Promise.resolve()))}))}(t,n)}function Ma(e){var t;return I((function(n){switch(n.g){case 1:if(e.m.mediaKeys)return n.return();if(!e.D){n.B(2);break}return E(n,e.D,3);case 3:return _a(e.j),n.return();case 2:return x(n,4),e.D=e.m.setMediaKeys(e.s),E(n,e.D,6);case 6:A(n,5);break;case 4:t=S(n),e.o(new Ye(2,6,6003,t.message));case 5:_a(e.j),T(n)}}))}function ja(e,t,n){if(n.length){for(var r=e.i.values(),i=(r=l(r)).next();!i.done;i=r.next())if(ee(n,i.value.initData)&&!Vt("Tizen 2"))return;0<e.i.size&&za(e)&&(e.l.resolve(),e.l=new go,e.l.catch((function(){}))),function(e,t,n,r){try{var i=e.s.createSession(r)}catch(o){return void e.o(new Ye(2,6,6005,o.message))}e.u.J(i,"message",(function(t){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.O?e.L.push(t):Fa(e,t)})),e.u.J(i,"keystatuseschange",(function(t){return Ha(e,t)})),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Jd:1/0,cb:null,type:r});try{n=e.h.initDataTransform(n,t,e.g)}catch(o){return t=o,o instanceof Ye||(t=new Ye(2,6,6016,o)),void e.o(t)}e.h.logLicenseExchange&&Ri(n),i.generateRequest(t,n).catch((function(t){if(!e.j.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.o(new Ye(2,6,6006,t.message,t,r))}}))}(e,t,n,e.g.sessionType)}}function Da(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function Ba(e){za(e)&&e.l.resolve()}function Ua(e,t){new It((function(){t.loaded=!0,Ba(e)})).V(Ya)}function Fa(e,t){var n,r,i,o,a,s,u,c,f,h,d,p;I((function(g){switch(g.g){case 1:if(n=t.target,e.h.logLicenseExchange&&Ri(t.message),r=e.i.get(n),i=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],"individualization-request"==t.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(a=Co([i],e.h.retryParameters)).body=t.message,a.method="POST",a.licenseRequestType=t.messageType,a.sessionId=n.sessionId,a.drmInfo=e.g,r&&(a.initData=r.initData,a.initDataType=r.initDataType),Da(e.g.keySystem)){var m=kr(a.body,!0,!0);if(m.includes("PlayReadyKeyMessage")){for(var y=l((m=io(m,"PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")),v=y.next();!v.done;v=y.next())v=v.value,a.headers[v.getElementsByTagName("name")[0].textContent]=v.getElementsByTagName("value")[0].textContent;a.body=ki(m.getElementsByTagName("Challenge")[0].textContent)}else a.headers["Content-Type"]="text/xml; charset=utf-8"}return s=Date.now(),x(g,2),E(g,e.C.mc.request(2,a).promise,4);case 4:u=g.h,A(g,3);break;case 2:return c=S(g),f=new Ye(2,6,6007,c),e.o(f),r&&r.cb&&r.cb.reject(f),g.return();case 3:return e.j.g?g.return():(e.I+=(Date.now()-s)/1e3,e.h.logLicenseExchange&&Ri(u.data),x(g,5),E(g,n.update(u.data),7));case 7:A(g,6);break;case 5:return h=S(g),d=new Ye(2,6,6008,h.message),e.o(d),r&&r.cb&&r.cb.reject(d),g.return();case 6:if(e.j.g)return g.return();p=new To("drmsessionupdate"),e.C.onEvent(p),r&&(r.cb&&r.cb.resolve(),Ua(e,r)),T(g)}}))}function Ha(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach((function(t,i){if("string"==typeof i){var o=i;i=t,t=o}if(Da(e.g.keySystem)&&16==i.byteLength&&(Mt()||Ft())){var a=(o=ie(i)).getUint32(0,!0),s=o.getUint16(4,!0),u=o.getUint16(6,!0);o.setUint32(0,a,!1),o.setUint16(4,s,!1),o.setUint16(6,u,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=Ni(i).slice(0,32),e.P.set(i,t)}));var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.cb&&(e.i.delete(t),t.close().catch((function(){}))),za(e)&&(e.l.resolve(),e.W.V(Za))}function Va(e){var t;return I((function(n){return t=Array.from(e.i.entries()),e.i.clear(),E(n,Promise.all(t.map((function(t){var n=(t=l(t)).next().value,r=t.next().value;return I((function(t){return 1==t.g?(x(t,2),e.A.has(n.sessionId)||"persistent-license"!==r.type||e.h.persistentSessionOnlinePlayback?E(t,function(e){var t;return I((function(n){return 1==n.g?(t=new Promise((function(e,t){new It(t).V(Xa)})),x(n,2),E(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.g?A(n,0):(S(n),void T(n))}))}(n),5):E(t,n.remove(),5)):2!=t.g?A(t,0):(S(t),void T(t))}))}))),0)}))}function Ga(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=(e=l(e)).next();!r.done;r=e.next()){r=r.value;for(var i={},o=l(t),a=o.next();!a.done;i={ya:i.ya},a=o.next())if(a=a.value,r.keySystem==a.keySystem){i.ya=[],i.ya=i.ya.concat(r.initData||[]),i.ya=i.ya.concat(a.initData||[]),i.ya=i.ya.filter(function(e){return function(t,n){return void 0===t.keyId||n===e.ya.findIndex((function(e){return e.keyId===t.keyId}))}}(i)),o=r.keyIds&&a.keyIds?new Set([].concat(f(r.keyIds),f(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i.ya,keyIds:o});break}}return n}function qa(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function za(e){return function(e,t){for(var n=(e=l(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),(function(e){return e.loaded}))}function Ka(e,t,n,r,i,o){for(var a={},s=(e=l(e)).next();!s.done;a={ma:a.ma},s=e.next()){if(a.ma=s.value,t.includes(a.ma.licenseServerUri)||t.push(a.ma.licenseServerUri),r.includes(a.ma.serverCertificateUri)||r.push(a.ma.serverCertificateUri),a.ma.serverCertificate&&(n.some(function(e){return function(t){return ee(t,e.ma.serverCertificate)}}(a))||n.push(a.ma.serverCertificate)),a.ma.initData){s={};for(var u=l(a.ma.initData),c=u.next();!c.done;s={wc:s.wc},c=u.next())s.wc=c.value,i.some(function(e){return function(t){var n=e.wc;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&ee(t.initData,n.initData)}}(s))||i.push(s.wc)}if(a.ma.keyIds)for(u=(s=l(a.ma.keyIds)).next();!u.done;u=s.next())o.add(u.value)}}function Wa(t,n,r,i){var o=t.keySystem;!o||"org.w3.clearkey"==o&&t.licenseServerUri||(n.size&&(n=n.get(o)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(o))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[o]&&(t.keySystem=i[o]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==o&&(t.keySystem="com.chromecast.playready"))}(r=Pa.prototype).destroy=function(){return this.j.destroy()},r.configure=function(e){this.h=e},r.Xb=function(e){var t=this;return I((function(n){if(1==n.g)return t.s?(t.m=e,t.u.oa(t.m,"play",(function(){for(var e=l(t.L),n=e.next();!n.done;n=e.next())Fa(t,n.value);t.O=!0,t.L=[]})),"webkitCurrentPlaybackTargetIsWireless"in t.m&&t.u.J(t.m,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Va(t)})),t.K=t.g&&t.g.initData.find((function(e){return 0<e.initData.length}))||null,t.K||"com.apple.fps"!==t.g.keySystem||t.A.size?E(n,Ma(t),2):n.B(2)):(t.u.oa(e,"encrypted",(function(){t.o(new Ye(2,6,6010))})),n.return());(function(e){var t,n,r,i;return I((function(o){if(1==o.g)return e.A.size?(e.A.forEach((function(t,n){!function(e,t,n){var r,i,o,a,s,u,c;I((function(l){switch(l.g){case 1:try{r=e.s.createSession("persistent-license")}catch(f){return i=new Ye(2,6,6005,f.message),e.o(i),l.return(Promise.reject(i))}return e.u.J(r,"message",(function(t){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.O?e.L.push(t):Fa(e,t)})),e.u.J(r,"keystatuseschange",(function(t){return Ha(e,t)})),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Jd:1/0,cb:null,type:"persistent-license"},e.i.set(r,o),x(l,2),E(l,r.load(t),4);case 4:return a=l.h,_a(e.j),a||(e.i.delete(r),s=e.h.persistentSessionOnlinePlayback?1:2,e.o(new Ye(s,6,6013)),o.loaded=!0),Ua(e,o),Ba(e),l.return(r);case 2:u=S(l),_a(e.j,u),e.i.delete(r),c=e.h.persistentSessionOnlinePlayback?1:2,e.o(new Ye(c,6,6005,u.message)),o.loaded=!0,Ba(e);case 3:return l.return(Promise.resolve())}}))}(e,n,t)})),E(o,e.l,3)):o.B(2);if(2!=o.g){if(0<(e.g&&e.g.keyIds||new Set([])).size&&function(e){for(var t=l(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.P.get(n.value))return!1;return!0}(e))return o.return(e.l);e.l=new go,e.l.catch((function(){}))}for(t=(e.g?e.g.initData:[])||[],n=l(t),r=n.next();!r.done;r=n.next())i=r.value,ja(e,i.initDataType,i.initData);return t.length||e.l.resolve(),o.return(e.l)}))})(t).catch((function(){})),t.K||t.A.size||t.h.parseInbandPsshEnabled||t.u.J(t.m,"encrypted",(function(e){return function(e,t){return I((function(n){if(1==n.g)return E(n,Ma(e),2);ja(e,t.initDataType,re(t.initData)),T(n)}))}(t,e)})),T(n)}))},r.ld=function(){var e=this,t=this.i.keys();return t=function(e,t){for(var n=[],r=(e=l(e)).next();!r.done;r=e.next())n.push(t(r.value));return n}(t,(function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(t)},r.nd=function(){for(var e=1/0,t=this.i.keys(),n=(t=l(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},r.Fc=function(){return Na(this.ia)};var Xa=1,Ya=5,Za=.5,$a=new _r((function(){return ne(new Uint8Array([0]))}));function Ja(){this.j=[],this.g=[],this.i=[],this.l=[],this.h=[],this.m=new Set}function Qa(e,t,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,T,x=rs,A=is;return I((function(S){switch(S.g){case 1:for(r=ot,i=[],o=0;o<t.length;o++)o>=n?i.push(new Set(t[o])):i.push(new Set);a=l(e),s=a.next();case 2:if(s.done){S.B(4);break}return E(S,function(e,t,n,r,i){return I((function(o){return 1==o.g?(os(t,e),e.matchedStreams?e.segmentIndex?E(o,es(e,n),2):o.B(2):o.return(!1)):(ns(e,n,r,i),o.return(!0))}))}(s.value,t,n,A,i),5);case 5:if(!S.h)throw new Ye(2,4,4037);s=a.next(),S.B(2);break;case 4:for(u=l(i),c=u.next();!c.done;c=u.next())for(f=c.value,h=l(f),d=h.next();!d.done;d=h.next())p=d.value,(g=ts(p,t,x,A,i))&&e.push(g);for(m=l(i),c=m.next();!c.done;c=m.next())for(y=c.value,v={},b=l(y),d=b.next();!d.done;v={Xa:v.Xa},d=b.next())if(v.Xa=d.value,w=v.Xa.type==r.da&&!v.Xa.language,T=v.Xa.type==r.fd&&!v.Xa.tilesLayout,!w&&!T&&e.some(function(e){return function(t){return t.mimeType==e.Xa.mimeType&&ft(t.codecs)==ft(e.Xa.codecs)}}(v)))throw new Ye(2,4,4037);return S.return(e)}}))}function es(e,t){var n,r,i,o,a,s,u;return I((function(c){if(1==c.g){for(n=[],r=e.matchedStreams,i=l(r),o=i.next();!o.done;o=i.next())a=o.value,n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex());return E(c,Promise.all(n),2)}if(e.segmentIndex instanceof Zo)for(s=t;s<r.length;s++)(u=r[s]).segmentIndex&&e.segmentIndex.h.push(u.segmentIndex);T(c)}))}function ts(e,t,n,r,i){var o=n(e);return os(t,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return I((function(e){return o.segmentIndex?e.B(0):(o.segmentIndex=new Zo,E(e,es(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?(ns(o,0,r,i),o):null}function ns(e,t,n,r){for(var i=e.matchedStreams,o=0;o<i.length;o++)if(o>=t){var a=i[o];n(e,a);var s=!0;"audio"==e.type&&0==St(e.language,a.language)&&(s=!1),s&&r[o].delete(a)}}function rs(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=l(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function is(e,t){var n,r;e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris)))),e.keyIds=(n=e.keyIds,r=t.keyIds,new Set([].concat(f(n),f(r)))),null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||"");var i=Ga(e.drmInfos,t.drmInfos);if(t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new Ye(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var o=(i=l(t.closedCaptions)).next();!o.done;o=i.next()){var a=l(o.value);o=a.next().value,a=a.next().value,e.closedCaptions.set(o,a)}}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=rs(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),is(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&is(e.trickModeVideo,t)}function os(e,t){for(var n=[],r=(e=l(e)).next();!r.done;r=e.next()){for(var i=t,o={audio:as,video:as,text:ss,image:us}[i.type],a={audio:cs,video:ls,text:fs,image:hs}[i.type],s=null,u=(r=l(r.value)).next();!u.done;u=r.next())!o(i,u=u.value)||s&&!a(i,s,u)||(s=u);if(!(i=s))return;n.push(i)}t.matchedStreams=n}function as(e,t){function n(e){if(!bs.has(e)){var t=ft(e);bs.set(e,t)}return bs.get(e)}return!(t.mimeType!=e.mimeType||n(t.codecs)!=n(e.codecs)||e.drmInfos&&!function(e,t){return!e.length||!t.length||e===t||0<Ga(e,t).length}(e.drmInfos,t.drmInfos))}function ss(e,t){return!!e.language&&(!t.language||0!=St(e.language,t.language)&&t.kind==e.kind)}function us(e){return!!e.tilesLayout}function cs(e,t,n){if(e.id==n.id)return!0;var r=St(e.language,t.language),i=St(e.language,n.language);return i>r||!(i<r)&&(e.roles.length?(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length||!(i.length<r.length)&&n.roles.length<t.roles.length):!(n.roles.length||!t.roles.length)||!(n.roles.length&&!t.roles.length)&&(!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((r=ps(e.channelsCount,t.channelsCount,n.channelsCount))==ms||r!=vs&&((r=ps(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==ms||r!=vs&&!(!e.bandwidth||gs(e.bandwidth,t.bandwidth,n.bandwidth)!=ms)))))}function ls(e,t,n){if(e.id==n.id)return!0;var r=ps(e.width*e.height,t.width*t.height,n.width*n.height);if(r==ms)return!0;if(r==vs)return!1;if(e.frameRate){if((r=ps(e.frameRate,t.frameRate,n.frameRate))==ms)return!0;if(r==vs)return!1}return!(!e.bandwidth||gs(e.bandwidth,t.bandwidth,n.bandwidth)!=ms)}function fs(e,t,n){if(e.id==n.id)return!0;var r=St(e.language,t.language),i=St(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function hs(e,t,n){return e.id==n.id||ps(e.width*e.height,t.width*t.height,n.width*n.height)==ms}function ds(e){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Wo([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1}}function ps(e,t,n){if(t==e&&e!=n)return vs;if(n==e&&e!=t)return ms;if(t>e){if(n<=e||n-e<t-e)return ms;if(n-e>t-e)return vs}else{if(n>e)return vs;if(e-n<e-t)return ms;if(e-n>e-t)return vs}return ys}function gs(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?ms:t<e?vs:ys}(r=Ja.prototype).release=function(){for(var e=l(this.g.concat(this.i,this.l,this.h)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.g=[],this.i=[],this.l=[],this.h=[],this.j=[]},r.Bf=function(){return this.j},r.pd=function(){return this.l.slice()},r.hf=function(){return this.h},r.ie=function(e,t){var n,r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,x,A,S,_,O,R,k,C,N,P,L=this;return I((function(I){switch(I.g){case 1:if(n=ot,function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).audioStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&fe(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(o=!0);o||n.push(i)}t.audioStreams=n}}(e),function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).videoStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.label==s.label&&fe(i.roles,s.roles)&&Ia(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(o=!0);o||n.push(i)}t.videoStreams=n}}(e),function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.language==s.language&&i.label==s.label&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&i.bandwidth==s.bandwidth&&fe(i.roles,s.roles)&&(o=!0);o||n.push(i)}t.textStreams=n}}(e),function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){for(var n=[],r=l((t=t.value).imageStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var o=!1,a=l(n),s=a.next();!s.done;s=a.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.codecs==s.codecs&&i.mimeType==s.mimeType&&(o=!0);o||n.push(i)}t.imageStreams=n}}(e),!t&&1==e.length){r=e[0],L.g=r.audioStreams,L.i=r.videoStreams,L.l=r.textStreams,L.h=r.imageStreams,I.B(2);break}for(i=-1,o=0;o<e.length;o++)a=e[o],L.m.has(a.id)||(L.m.add(a.id),-1==i&&(i=o));if(-1==i)return I.return();for(s=e.map((function(e){return e.audioStreams})),u=e.map((function(e){return e.videoStreams})),c=e.map((function(e){return e.textStreams})),f=e.map((function(e){return e.imageStreams})),h=l(c),d=h.next();!d.done;d=h.next())d.value.push(ds(n.da));for(p=l(f),g=p.next();!g.done;g=p.next())g.value.push(ds(n.fd));return E(I,Qa(L.g,s,i),3);case 3:return E(I,Qa(L.i,u,i),4);case 4:return E(I,Qa(L.l,c,i),5);case 5:return E(I,Qa(L.h,f,i),2);case 2:if(m=0,y=[],L.i.length&&L.g.length)for(S=l(L.g),_=S.next();!_.done;_=S.next())for(O=_.value,R=l(L.i),k=R.next();!k.done;k=R.next())C=k.value,N=Ga(O.drmInfos,C.drmInfos),O.drmInfos.length&&C.drmInfos.length&&!N.length||(P=m++,y.push({id:P,language:O.language,disabledUntilTime:0,primary:O.primary,audio:O,video:C,bandwidth:(O.bandwidth||0)+(C.bandwidth||0),drmInfos:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(v=L.i.concat(L.g),b=l(v),w=b.next();!w.done;w=b.next())x=w.value,A=m++,y.push({id:A,language:x.language,disabledUntilTime:0,primary:x.primary,audio:x.type==n.xb?x:null,video:x.type==n.Aa?x:null,bandwidth:x.bandwidth||0,drmInfos:x.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});L.j=y,T(I)}}))},F("shaka.util.PeriodCombiner",Ja),Ja.prototype.combinePeriods=Ja.prototype.ie,Ja.prototype.getImageStreams=Ja.prototype.hf,Ja.prototype.getTextStreams=Ja.prototype.pd,Ja.prototype.getVariants=Ja.prototype.Bf;var ms=1,ys=0,vs=-1,bs=new Map;function ws(){var e=this;this.h=this.g=null,this.o=[],this.i=null,this.I=1,this.l={},this.L={},this.j=new Ja,this.C=0,this.F=new H(5),this.D=new It((function(){!function(e){var t,n;I((function(r){switch(r.g){case 1:return t=0,x(r,2),E(r,Es(e),4);case 4:t=r.h,A(r,3);break;case 2:if(n=S(r),e.h){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(n),r.return();n.severity=1,e.h.onError(n)}case 3:if(!e.h)return r.return();Ss(e,t),T(r)}}))}(e)})),this.u=new _o,this.A=null,this.K=[],this.m=1/0,this.s=!1}function Es(e){var t,n,r,i,o,a,s;return I((function(u){return 1==u.g?(t=Co(e.o,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:4}),Oo(e.u,i),E(u,i.promise,2)):3!=u.g?(o=u.h,e.h?(o.uri&&!e.o.includes(o.uri)&&e.o.unshift(o.uri),E(u,function(e,t,n){var r,i,o,a;return I((function(s){if(1==s.g){if(!(r=oo(t,"MPD")))throw new Ye(2,4,4001,n);return e.g.dash.disableXlinkProcessing?s.return(Ts(e,r,n)):(i=e.g.dash.xlinkFailGracefully,o=Ho(r,e.g.retryParameters,i,n,e.h.networkingEngine),Oo(e.u,o),E(s,o.promise,2))}return a=s.h,s.return(Ts(e,a,n))}))}(e,o.data,o.uri),3)):u.return(0)):(a=Date.now(),s=(a-r)/1e3,e.F.sample(1,s),u.return(s))}))}function Ts(e,t,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,_,O,R,k,C,N,P,L,M,j,D,B;return I((function(U){switch(U.g){case 1:if((r=e.g.dash.manifestPreprocessor)&&r(t),i=[n],0<(o=Gi(t,"Location").map(Ki).filter(Qe)).length&&(a=et(i,o),i=e.o=a),s=Gi(t,"BaseURL"),u=s.map(Ki),c=et(i,u),f=0,s&&s.length&&(f=Xi(s[0],"availabilityTimeOffset",to)||0),h=e.g.dash.ignoreMinBufferTime,d=0,h||(d=Xi(t,"minBufferTime",Zi)||0),e.C=Xi(t,"minimumUpdatePeriod",Zi,-1),p=Xi(t,"availabilityStartTime",Yi),g=Xi(t,"timeShiftBufferDepth",Zi),m=e.g.dash.ignoreSuggestedPresentationDelay,y=null,m||(y=Xi(t,"suggestedPresentationDelay",Zi)),v=e.g.dash.ignoreMaxSegmentDuration,b=null,v||(b=Xi(t,"maxSegmentDuration",Zi)),w=t.getAttribute("type")||"static",e.i)for(_=e.i.presentationTimeline,O=l(Object.values(e.l)),R=O.next();!R.done;R=O.next())(k=R.value).segmentIndex&&k.segmentIndex.Ka(_.mb());else C=e.g.defaultPresentationDelay||1.5*d,_=new xa(p,null!=y?y:C,e.g.dash.autoCorrectDrift);return _.Yd("static"==w),_.T()&&!isNaN(e.g.availabilityWindowOverride)&&(g=e.g.availabilityWindowOverride),null==g&&(g=1/0),_.Xd(g),N=t.getAttribute("profiles")||"",P={Ya:"static"!=w,presentationTimeline:_,ba:null,U:null,$:null,G:null,bandwidth:0,se:!1,Db:f,profiles:N.split(",")},L=function(e,t,n,r){var i=Xi(r,"mediaPresentationDuration",Zi),o=[],a=0;r=Gi(r,"Period");for(var s=0;s<r.length;s++){var u=r[s],c=r[s+1],l=Xi(u,"start",Zi,a),f=u.id,h=Xi(u,"duration",Zi),d=null;if(c){var p=Xi(c,"start",Zi);null!=p&&(d=p-l)}else null!=i&&(d=i-l);if(null==d&&(d=h),!(null!==e.A&&null!==f&&null!==l&&l<e.A)||e.K.includes(f)||s+1==r.length){if(null!==l&&(null===e.A||l>e.A)&&(e.A=l),a=xs(e,t,n,{start:l,duration:d,node:u,sd:null==d||!c}),o.push(a),t.ba.id&&d&&(e.L[t.ba.id]=d),null==d){a=null;break}a=l+d}}return e.K=o.map((function(e){return e.id})),null!=i?{periods:o,duration:i,le:!1}:{periods:o,duration:a,le:!0}}(e,P,c,t),M=L.duration,j=L.periods,"static"!=w&&L.le||_.Va(M||1/0),e.m&&!e.s&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.s=e.h.isLowLatencyMode()),e.s?_.Ge(e.m):e.m&&K("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),_.Gd(b||1),E(U,e.j.ie(j,P.Ya),2);case 2:if(e.s&&(d=0),e.s&&e.m&&(e.C=e.m),e.i){e.i.variants=e.j.j,e.i.textStreams=e.j.pd(),e.i.imageStreams=e.j.h,e.h.filter(e.i),U.B(3);break}var F=_,H=e.j.j,V=e.j.pd(),G=e.j.h,q=d||0,z=e.g.dash.sequenceMode,W=Hi(t,"ServiceDescription");if(W){var X=Hi(W,"Latency");W=Hi(W,"PlaybackRate"),X&&X.getAttribute("max")||W?X={maxLatency:X=X&&X.getAttribute("max")?parseInt(X.getAttribute("max"),10)/1e3:null,maxPlaybackRate:W=W?parseFloat(W.getAttribute("max")):null}:X=null}else X=null;if(e.i={presentationTimeline:F,variants:H,textStreams:V,imageStreams:G,offlineSessionIds:[],minBufferTime:q,sequenceMode:z,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:X},!_.Oe()){U.B(4);break}return D=Gi(t,"UTCTiming"),E(U,function(e,t,n){var r,i,o,a,s,u,c,f;return I((function(h){switch(h.g){case 1:r=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=l(r),a=o.next();case 2:if(a.done){h.B(4);break}switch(s=a.value,x(h,5),u=s.scheme,c=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return h.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return h.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return f=Date.parse(c),h.return(isNaN(f)?0:f-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":K("NTP UTCTiming scheme is not supported");break;default:K("Unrecognized scheme in UTCTiming element",u)}h.B(9);break;case 7:return E(h,Os(e,t,c,"HEAD"),10);case 10:return h.return(h.h);case 8:return E(h,Os(e,t,c,"GET"),11);case 11:return h.return(h.h);case 9:A(h,3);break;case 5:S(h);case 3:a=o.next(),h.B(2);break;case 4:return K("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),h.return(0)}}))}(e,c,D),5);case 5:if(B=U.h,!e.h)return U.return();_.He(B);case 4:_.zd();case 3:e.h.makeTextStreamsForClosedCaptions(e.i),T(U)}}))}function xs(e,t,n,r){t.ba=_s(r.node,null,n),t.U=r,t.ba.Db=t.Db,t.ba.id||(t.ba.id="__shaka_period_"+r.start);var i=Gi(r.node,"EventStream");n=t.presentationTimeline.mb();for(var o=(i=l(i)).next();!o.done;o=i.next())Rs(e,r.start,r.duration,o.value,n);if(n=Gi(r.node,"AdaptationSet").map((function(n){return function(e,t,n){function r(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.$=_s(n,t.ba,null);var i,o=!1,a=Gi(n,"Role"),s=a.map((function(e){return e.getAttribute("value")})).filter(Qe),u=void 0,c=t.$.contentType==it;c&&(u="subtitle");for(var h=(a=l(a)).next();!h.done;h=a.next()){var d=(h=h.value).getAttribute("schemeIdUri");if(null==d||"urn:mpeg:dash:role:2011"==d)switch(h=h.getAttribute("value"),h){case"main":o=!0;break;case"caption":case"subtitle":u=h}}d=Gi(n,"EssentialProperty"),a=null,h=!1;for(var p=(d=l(d)).next();!p.done;p=d.next()){var g=(p=p.value).getAttribute("schemeIdUri");"http://dashif.org/guidelines/trickmode"==g?a=p.getAttribute("value"):"urn:mpeg:mpegB:cicp:TransferCharacteristics"==g?i=r(parseInt(p.getAttribute("value"),10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"!=g&&"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=g&&(h=!0)}for(d=l(d=Gi(n,"SupplementalProperty")),p=d.next();!p.done;p=d.next())"urn:mpeg:mpegB:cicp:TransferCharacteristics"==(p=p.value).getAttribute("schemeIdUri")&&(i=r(parseInt(p.getAttribute("value"),10)));d=Gi(n,"Accessibility");var m,y=new Map;for(d=l(d),p=d.next();!p.done;p=d.next())if(g=p.value,p=g.getAttribute("schemeIdUri"),g=g.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==p)if(p=1,null!=g)for(var v=l(g=g.split(";")),b=v.next();!b.done;b=v.next()){var w=b.value,x=b=void 0;w.includes("=")?(b=(w=w.split("="))[0].startsWith("CC")?w[0]:"CC"+w[0],x=w[1]||"und"):(b="CC"+p,2==g.length?p+=2:p++,x=w),y.set(b,At(x))}else y.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==p)if(p=1,null!=g)for(g=l(g.split(";")),b=g.next();!b.done;b=g.next())b=b.value,w=v=void 0,b.includes("=")?(b=b.split("="),v="svc"+b[0],w=b[1].split(",")[0].split(":").pop()):(v="svc"+p,p++,w=b),y.set(v,At(w));else y.set("svc1","und");else"urn:mpeg:dash:role:2011"==p?null!=g&&(s.push(g),"captions"==g&&(u="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==p&&("1"==g?m="visually impaired":"2"==g&&(m="hard of hearing"));if(h)return null;h=Gi(n,"ContentProtection");var A=so(h,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),S=At(t.$.language||"und"),_=n.getAttribute("label");if((h=Gi(n,"Label"))&&h.length&&(h=h[0],h.textContent&&(_=h.textContent)),h=Gi(n,"Representation"),n=h.map((function(n){return(n=function(e,t,r,i,o,a,s,u,c,l,f){if(t.G=_s(l,t.$,null),e.m=Math.min(e.m,t.G.Db),!function(e){var t=e.sc?1:0;return t+=e.bb?1:0,t+=e.tc?1:0,0==t?e.contentType==it||"application"==e.contentType:(1!=t&&(e.sc&&(e.bb=null),e.tc=null),!0)}(t.G))return null;var h=t.U.start;t.bandwidth=Xi(l,"bandwidth",Qi)||0;var d=t.G.contentType,p=d==it||"application"==d;d="image"==d;try{var g=function(t,n,r,i){return function(e,t,n,r,i){var o,a,s,u,c,l;return I((function(f){return 1==f.g?(o=Lo,a=i?0:1,s=Aa(t,n,r,e.g.retryParameters),u=e.h.networkingEngine,c=u.request(o,s,{type:a}),Oo(e.u,c),E(f,c.promise,2)):(l=f.h,f.return(l.data))}))}(e,t,n,r,i)};if(t.G.sc)var m=oa(t,g);else if(t.G.bb)m=fa(t,e.l);else if(t.G.tc)m=da(t,g,e.l,!!e.i,e.g.dash.initialSegmentLimit,e.L);else{var y=t.G.ta,v=t.U.duration||0;m={Eb:function(){return Promise.resolve(Xo(h,v,y))}}}}catch(n){if((p||d)&&4002==n.code)return null;throw n}g=Gi(l,"ContentProtection"),g=function(e,t,n,r){var i=so(e,n,r);if(t.ne)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.ne=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new Ye(2,4,4008);return i.ke||t.ke}(g,r,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),g=new Set(g?[g]:[]);var b=!1;Gi(l,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(b=!0);var w,x,A=!1;if(p&&(A=u.includes("forced_subtitle")||u.includes("forced-subtitle")),d&&((l=Gi(l,"EssentialProperty").find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.getAttribute("schemeIdUri"))})))&&(w=l.getAttribute("value")),!w))return null;l=t.G.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(x="PQ"),l=t.G.id?t.ba.id+","+t.G.id:"";var S=l&&e.l[l]?e.l[l]:{id:e.I++,originalId:t.G.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){S.segmentIndex&&(S.segmentIndex.release(),S.segmentIndex=null)},segmentIndex:null,mimeType:t.G.mimeType,codecs:t.G.codecs,frameRate:t.G.frameRate,pixelAspectRatio:t.G.pixelAspectRatio,bandwidth:t.bandwidth,width:t.G.width,height:t.G.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:g,language:o,originalLanguage:t.$.language,label:a,type:t.$.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:t.G.emsgSchemeIdUris,roles:u,forced:A,channelsCount:t.G.Tc,audioSamplingRate:t.G.audioSamplingRate,spatialAudio:b,closedCaptions:c,hdr:x,tilesLayout:w,matchedStreams:[],accessibilityPurpose:f,external:!1};return S.createSegmentIndex=function(){var e;return I((function(t){if(1==t.g)return S.segmentIndex?t.B(0):(e=S,E(t,m.Eb(),3));e.segmentIndex=t.h,T(t)}))},l&&t.Ya&&!e.l[l]&&(e.l[l]=S),S}(e,t,A,u,S,_,o,s,y,n,m))&&(n.hdr=n.hdr||i),n})).filter((function(e){return!!e})),0==n.length){if(a="image"==t.$.contentType,e.g.dash.ignoreEmptyAdaptationSet||c||a)return null;throw new Ye(2,4,4003)}if(!t.$.contentType||"application"==t.$.contentType)for(t.$.contentType=ks(n[0].mimeType,n[0].codecs),c=l(n),d=c.next();!d.done;d=c.next())d.value.type=t.$.contentType;for(c=l(n),d=c.next();!d.done;d=c.next())for(d=d.value,p=l(A.drmInfos),g=p.next();!g.done;g=p.next())(g=g.value).keyIds=g.keyIds&&d.keyIds?new Set([].concat(f(g.keyIds),f(d.keyIds))):g.keyIds||d.keyIds;return c=h.map((function(e){return e.getAttribute("id")})).filter(Qe),{id:t.$.id||"__fake__"+e.I++,contentType:t.$.contentType,language:S,wg:o,streams:n,drmInfos:A.drmInfos,$d:a,Xf:c}}(e,t,n)})).filter(Qe),t.Ya){for(r=[],o=(i=l(n)).next();!o.done;o=i.next())for(var a=(o=l(o.value.Xf)).next();!a.done;a=o.next())r.push(a.value);if(r.length!=new Set(r).size)throw new Ye(2,4,4018)}for(r=n.filter((function(e){return!e.$d})),i=(n=l(n=n.filter((function(e){return e.$d})))).next();!i.done;i=n.next()){o=(i=i.value).$d.split(" ");for(var s=(a=l(r)).next();!s.done;s=a.next()){var u=s.value;if(o.includes(u.id)){s={};for(var c=(u=l(u.streams)).next();!c.done;s={xc:s.xc},c=u.next())s.xc=c.value,s.xc.trickModeVideo=i.streams.find(function(e){return function(t){return ft(e.xc.codecs)==ft(t.codecs)}}(s))}}}if(i=e.g.disableAudio?[]:As(r,"audio"),a=e.g.disableVideo?[]:As(r,"video"),o=e.g.disableText?[]:As(r,it),n=e.g.disableThumbnails?[]:As(r,"image"),!a.length&&!i.length)throw new Ye(2,4,4004);for(r=[],s=(i=l(i)).next();!s.done;s=i.next())r.push.apply(r,f(s.value.streams));for(i=[],s=(a=l(a)).next();!s.done;s=a.next())i.push.apply(i,f(s.value.streams));for(a=[],s=(o=l(o)).next();!s.done;s=o.next())a.push.apply(a,f(s.value.streams));for(o=[],s=(n=l(n)).next();!s.done;s=n.next())o.push.apply(o,f(s.value.streams));return{id:t.ba.id,audioStreams:r,videoStreams:i,textStreams:a,imageStreams:o}}function As(e,t){return e.filter((function(e){return e.contentType==t}))}function Ss(e,t){0>e.C||e.D.V(Math.max(e.C-t,V(e.F)))}function _s(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Tc:null,audioSamplingRate:null,Db:0},n=n||t.ta;for(var r=Gi(e,"BaseURL"),i=r.map(Ki),o=e.getAttribute("contentType")||t.contentType,a=e.getAttribute("mimeType")||t.mimeType,s=e.getAttribute("codecs")||t.codecs,u=Xi(e,"frameRate",ro)||t.frameRate,c=e.getAttribute("sar")||t.pixelAspectRatio,f=Gi(e,"InbandEventStream"),h=t.emsgSchemeIdUris.slice(),d=(f=l(f)).next();!d.done;d=f.next())d=d.value.getAttribute("schemeIdUri"),h.includes(d)||h.push(d);f=function(e){for(var t=(e=l(e)).next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(n,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(t=parseInt(n,16)))continue;for(e=0;t;)1&t&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}(f=Gi(e,"AudioChannelConfiguration"))||t.Tc,d=Xi(e,"audioSamplingRate",eo)||t.audioSamplingRate,o||(o=ks(a,s));var p=Hi(e,"SegmentBase"),g=Hi(e,"SegmentTemplate"),m=p&&Xi(p,"availabilityTimeOffset",to)||0,y=g&&Xi(g,"availabilityTimeOffset",to)||0;return r=r&&r.length&&Xi(r[0],"availabilityTimeOffset",to)||0,r=t.Db+r+m+y,{ta:et(n,i),sc:p||t.sc,bb:Hi(e,"SegmentList")||t.bb,tc:g||t.tc,width:Xi(e,"width",eo)||t.width,height:Xi(e,"height",eo)||t.height,contentType:o,mimeType:a,codecs:s,frameRate:u,pixelAspectRatio:c,emsgSchemeIdUris:h,id:e.getAttribute("id"),language:e.getAttribute("lang"),Tc:f,audioSamplingRate:d,Db:r}}function Os(e,t,n,r){var i,o,a,s,u,c;return I((function(l){if(1==l.g)return i=et(t,[n]),(o=Co(i,e.g.retryParameters)).method=r,a=e.h.networkingEngine.request(4,o),Oo(e.u,a),E(l,a.promise,2);if(s=l.h,"HEAD"==r){if(!s.headers||!s.headers.date)return l.return(0);u=s.headers.date}else u=Rr(s.data);return c=Date.parse(u),isNaN(c)?l.return(0):l.return(c-Date.now())}))}function Rs(e,t,n,r,i){for(var o=r.getAttribute("schemeIdUri")||"",a=r.getAttribute("value")||"",s=Xi(r,"timescale",eo)||1,u=(r=l(Gi(r,"Event"))).next();!u.done;u=r.next()){var c=Xi(u=u.value,"presentationTime",eo)||0,f=Xi(u,"duration",eo)||0;f=(c=c/s+t)+f/s,null!=n&&(c=Math.min(c,t+n),f=Math.min(f,t+n)),f<i||(u={schemeIdUri:o,value:a,startTime:c,endTime:f,id:u.getAttribute("id")||"",eventElement:u},e.h.onTimelineRegionAdded(u))}}function ks(e,t){return mt(t=ut(e,t))?it:e.split("/")[0]}function Cs(){}(r=ws.prototype).configure=function(e){this.g=e},r.start=function(e,t){var n,r=this;return I((function(i){if(1==i.g)return r.s=t.isLowLatencyMode(),r.o=[e],r.h=t,E(i,Es(r),2);if(n=i.h,r.h&&Ss(r,n),!r.h)throw new Ye(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var e=l(Object.values(this.l)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.o=[],this.i=null,this.l={},this.j=null,null!=this.D&&(this.D.stop(),this.D=null),this.u.destroy()},r.update=function(){var e,t=this;return I((function(n){return 1==n.g?(x(n,2),E(n,Es(t),4)):2!=n.g?A(n,0):(e=S(n),t.h&&e?(t.h.onError(e),void T(n)):n.return())}))},r.onExpirationUpdated=function(){},F("shaka.dash.DashParser",ws),Ta.mpd=function(){return new ws},Ea["application/dash+xml"]=function(){return new ws},Ea["video/vnd.mpeg.dash.mpd"]=function(){return new ws},F("shaka.dependencies",Cs),Cs.has=function(e){return Is.has(e)},Cs.add=function(e,t){if(!Ns[e])throw Error(e+" is not supported");Is.set(e,(function(){return t}))};var Ns={muxjs:"muxjs",ISOBoxer:"ISOBoxer"};Cs.Allowed=Ns;var Is=new Map([["muxjs",function(){return e.muxjs}],["ISOBoxer",function(){return e.ISOBoxer}]]);function Ps(e,t,n){this.g=null,this.i=-1,this.j=e,this.h=t,this.l=n,"undefined"==typeof libDPIModule&&K("Could not Find LCEVC Library dependencies on this page"),"undefined"==typeof LcevcDil?K("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||K(LcevcDil.SupportObject.SupportError),"undefined"!=typeof LcevcDil&&"undefined"!=typeof libDPIModule&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}function Ls(e,t){var n=Ms;switch(t.mimeType){case"video/webm":n=js;break;case"video/mp4":n=Ds}e.g&&(e.i=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(n))}Ps.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},F("shaka.lcevc.Dil",Ps),Ps.prototype.release=Ps.prototype.release;var Ms=0,js=1,Ds=2;function Bs(e,t){for(this.h=e,this.g=new Set([e]),t=(e=l(t=t||[])).next();!t.done;t=e.next())this.add(t.value)}function Us(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!((!(!n.channelsCount||!r.channelsCount||2<n.channelsCount||2<r.channelsCount)||n.channelsCount==r.channelsCount)&&Fs(n,r)&&Hs(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=!(Fs(e=e.video,t=t.video)&&Hs(e.roles,t.roles))),!n}function Fs(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return dt(e)[0]})),t=t.codecs.split(",").map((function(e){return dt(e)[0]})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Hs(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=l(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function Vs(e){this.g=e,this.h=new Gs(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"","")}function Gs(e,t,n,r,i){this.j=e,this.l=t,this.g=n,this.h=r,this.i=void 0===i?"":i}function qs(){this.g=Ws,this.h=(new Map).set(Ws,2).set(Ks,1)}function zs(e,t,n){e.h.set(Ws,n).set(Ks,t)}Bs.prototype.add=function(e){return!!Us(this.h,e)&&(this.g.add(e),!0)},Bs.prototype.values=function(){return this.g.values()},Vs.prototype.create=function(e){var t=this,n=e.filter((function(e){return Us(t.g,e)}));return n.length?new Bs(n[0],n):this.h.create(e)},Gs.prototype.create=function(t){var n=[];n=function(e,t){t=At(t);var n=Rt(t,e.map((function(e){return Ot(e)})));return n?e.filter((function(e){return n==Ot(e)})):[]}(t,this.j);var r=t.filter((function(e){return e.primary}));for(t=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(n=n.length?n:r.length?r:t,this.l),t.length&&(n=t),this.h&&(t=function(t,n){return"AUTO"==n&&(n=e.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR"),t.filter((function(e){return!e.video||!e.video.hdr||e.video.hdr==n}))}(n,this.h),t.length&&(n=t)),this.g&&((t=gn(n,this.g)).length&&(n=t)),this.i&&(t=function(e,t){return e.filter((function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(n,this.i),t.length&&(n=t)),t=new Bs(n[0]),r=(n=l(n)).next();!r.done;r=n.next())r=r.value,Us(t.h,r)&&t.add(r);return t};var Ks=0,Ws=1;function Xs(e,t,n,r,i){var o=Zs.value(),a=e.subarray(n.start,n.start+n.size),s=ie(a),u=new Uint8Array(n.size+o.byteLength);for(u.set(a,0),(a=ie(u)).setUint32(4,i),u.set(o,n.size),i=s.getUint32(4),a.setUint32(n.size+16,i),Ys(u,0,u.byteLength),i=new Uint8Array(e.byteLength+u.byteLength),n=jt()?n.start:n.start+n.size,o=e.subarray(n),i.set(e.subarray(0,n)),i.set(u,n),i.set(o,n+u.byteLength),r=(e=l(r)).next();!r.done;r=e.next())Ys(i,(r=r.value).start,r.size+u.byteLength);return u=ie(i,t.start),t=Yr(t),e=u.getUint32(t),u.setUint32(t,e+1),i}function Ys(e,t,n){0!=(t=(e=ie(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}var Zs=new _r((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function $s(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Js(e,t){return!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t>=e.start(0)}function Qs(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=(e=l(eu(e))).next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function eu(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function tu(e,t,n){this.l=n,this.j=e,this.s=ru(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=t,this.i=function(){}}function nu(e){this.g=e}function ru(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=l(eu(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function iu(e,t,n,r,i){var o=this;this.u=i,this.g=e,this.A=t,this.s=n,this.l=new Oa,this.j=!1,this.D=e.readyState,this.C=this.i=0,this.h=r,this.o=!1,this.l.J(e,"waiting",(function(){return ou(o)})),this.m=new It((function(){ou(o)})).sa(this.s.gapJumpTimerTime)}function ou(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){var t;if(e.g.readyState!=e.D&&(e.D=e.g.readyState),!(t=!e.h)){var n=(t=e.h).j,r=ru(n),i=n.g.currentTime,o=Date.now()/1e3;t.g==i&&t.s==r||(t.m=o,t.g=i,t.s=r,t.h=!1),(r=(i=o-t.m)>=t.u&&r&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=n.g.currentTime,t.o++,t.l(new To("stalldetected"))),t=!r}t&&(t=e.g.currentTime,r=function(e,t,n){return!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)?null:0<=(e=eu(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)})))?e:null}(n=e.g.buffered,t,e.s.gapDetectionThreshold),null==r||0==r&&!e.o||((i=n.start(r))>=e.A.Na()||.001>i-t||(0!=r&&n.end(r-1),e.g.currentTime=i,t==e.i&&(e.i=i),e.C++,e.u(new To("gapjumped")))))}}}function au(e,t,n,r){var i=this;this.l=e,this.C=null,this.u=t,this.h={},this.I={},this.ca={},this.g=null,this.O=!1,this.ia=n||function(){},this.L=r||null,this.j={},this.A=new Oa,this.m={},this.D=null,this.F=new go,this.W="",this.i=su(this,this.F),this.o=!1,this.K=new Sa((function(){return function(e){var t,n,r,i,o,a,s;return I((function(u){if(1==u.g){for(n in t=[],e.j)for(r=e.j[n],i=r[0],e.j[n]=r.slice(0,1),i&&t.push(i.p.catch(Je)),o=l(r.slice(1)),a=o.next();!a.done;a=o.next())a.value.p.reject(new Ye(2,7,7003,void 0));for(s in e.g&&t.push(e.g.destroy()),e.u&&t.push(e.u.destroy()),e.m)t.push(e.m[s].destroy());return E(u,Promise.all(t),2)}e.A&&(e.A.release(),e.A=null),e.l&&(e.l.removeAttribute("src"),e.l.load(),e.l=null),e.C=null,e.i=null,e.g=null,e.u=null,e.h={},e.m={},e.D=null,e.j={},e.L=null,T(u)}))}(i)})),this.s=!1,this.P="UNKNOWN",this.Z=this.ha=!1,this.ja=new go}function su(e,t){var n=new MediaSource;return e.A.oa(n,"sourceopen",(function(){URL.revokeObjectURL(e.W),t.resolve()})),e.W=Su(n),e.l.src=e.W,n}function uu(e,t,n){var r=ut(n.mimeType,n.codecs);if(t==it)cu(e,r,e.s,n.external);else{var i=e.C.forceTransmux;(!Y(r)||!e.s&&pt.includes(r))&&(i=!0);var o=ct(n.mimeType,n.codecs);i&&(i=Re(o))&&(r=i(),e.m[t]=r,r=r.convertCodecs(t,o)),o=r+e.C.sourceBufferExtraFeatures,_a(e.K);try{var a=e.i.addSourceBuffer(o)}catch(s){throw new Ye(2,3,3015,s,"The mediaSource_ status was"+e.i.readyState+"expected 'open'")}e.s&&(a.mode=_u),e.A.J(a,"error",(function(){e.j[t][0].p.reject(new Ye(2,3,3014,e.l.error?e.l.error.code:0))})),e.A.J(a,"updateend",(function(){return wu(e,t)})),e.h[t]=a,e.I[t]=r,e.ca[t]=!!n.drmInfos.length}}function cu(e,t,n,r){e.g||(e.g=new gt(e.u));var i=e.g;r=r||e.O,e=e.P,"application/cea-608"==t||"application/cea-708"==t?i.i=null:(i.i=(0,bt[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):K('Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):K('Text parsers should have a "setManifestType" method!'),i.u=r)}function lu(e){return!e.o&&(!e.i||"ended"==e.i.readyState)}function fu(e,t){return e.o?e=null:t==it?e=e.g.g:e=!(e=du(e,t))||1==e.length&&1e-6>e.end(0)-e.start(0)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null,e}function hu(e,t){return e.o?null:t==it?e.g.h:$s(du(e,t))}function du(e,t){try{return e.h[t].buffered}catch(n){return null}}function pu(e,t,n,r,i,o,a,s){var u,c,f,h,d,p,g,m,y,v;return a=void 0!==a&&a,s=void 0!==s&&s,I((function(b){switch(b.g){case 1:if(t!=(u=ot).da){b.B(2);break}if(!e.s){b.B(3);break}return E(b,e.ja,4);case 4:c=b.h,e.g.s=c;case 3:return E(b,function(e,t,n,r){var i,o,a,s;return I((function(u){return 1==u.g?E(u,Promise.resolve(),2):e.i&&e.j?null==n||null==r?(e.i.parseInit(re(t)),u.return()):(i=e.u?n:e.s,o={periodStart:e.s,segmentStart:n,segmentEnd:r,vttOffset:i},a=e.i.parseMedia(re(t),o),s=a.filter((function(t){return t.startTime>=e.l&&t.startTime<e.m})),e.j.append(s),null==e.g&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),void T(u)):u.return()}))}(e.g,n,r?r.startTime:null,r?r.endTime:null),5);case 5:return b.return();case 2:if(f=e.h[t].timestampOffset,h=e.I[t],e.m[t]&&(h=e.m[t].getOrginalMimeType()),r&&(d=function(e,t,n,r,i,o){var a=null,s=re(n);if(pt.includes(i))(o=Ai(s)).length&&r&&((t=o.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&t.data&&(a=Math.round(t.data)/1e3),e.ia([{cueTime:r.startTime,data:s,frames:o,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(i.includes("/mp4")&&r&&0==r.m&&r.g&&r.g.timescale){var u=r.g.timescale;if(!isNaN(u)){var c=0,l=!1;(new Gr).box("moof",qr).box("traf",qr).R("tfdt",(function(e){c=Jr(e.reader,e.version).baseMediaDecodeTime/u,l=!0,e.parser.stop()})).parse(n,!0),l&&(a=c)}}else i.includes("/mp4")||i.includes("/webm")||!Mi(s)||(null!=(t=(s=(new Pi).parse(s)).getStartTime()[t])&&(a=t),(s=s.getMetadata()).length&&e.ia(s,o,r?r.endTime:null));return a}(e,t,n,r,h,f),null!=d)&&(p=r.startTime-d,(.1<=Math.abs(f-p)||a||s)&&(f=p,e.Z&&(Eu(e,t,(function(){return vu(e,t)})),Eu(e,t,(function(){return bu(e,t,f)})))),g=t==u.Aa||!(u.Aa in e.h),e.s&&g&&e.ja.resolve(f)),o&&t==u.Aa&&(e.g||cu(e,"application/cea-608",e.s,!1),e.D||(m=h.split(";",1)[0],e.D=new se(m)),r?(y=e.D.j(n)).length&&function(e,t,n,r,i){for(var o=n+" "+r,a=new Map,s=(t=l(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,u=u.cue,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),vt(e,u,i),u.startTime>=e.l&&u.startTime<e.m&&(a.get(s).get(o).push(u),s==e.A&&e.j.append([u]))}for(o=(i=l(a.keys())).next();!o.done;o=i.next())for(o=o.value,e.o.has(o)||e.o.set(o,new Map),s=(t=l(a.get(o).keys())).next();!s.done;s=t.next())s=s.value,u=a.get(o).get(s),e.o.get(o).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}(e.g,y,r.startTime,r.endTime,f):e.D.init(n)),!e.m[t]){b.B(6);break}return E(b,e.m[t].transmux(n,i,r,e.i.duration,t),7);case 7:n=b.h;case 6:return n=function(e,t,n,r){var i=e.ca[r];return e.C.insertFakeEncryptionInInit&&null==n&&i&&(Dt()||jt())&&"mp4"==e.I[r].split(";")[0].split("/")[1]&&(t=function(e){function t(){i=!0}function n(e){o.push(e),qr(e)}e=re(e);var r,i=!1,o=[],a=[];if((new Gr).box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).R("stsd",(function(e){r=e,o.push(e),zr(e)})).R("encv",t).R("enca",t).R("hev1",(function(e){a.push({box:e,pb:1701733238})})).R("hvc1",(function(e){a.push({box:e,pb:1701733238})})).R("avc1",(function(e){a.push({box:e,pb:1701733238})})).R("avc3",(function(e){a.push({box:e,pb:1701733238})})).R("ac-3",(function(e){a.push({box:e,pb:1701733217})})).R("ec-3",(function(e){a.push({box:e,pb:1701733217})})).R("mp4a",(function(e){a.push({box:e,pb:1701733217})})).parse(e),i)return e;if(0==a.length||!r)throw Ni(e),new Ye(2,3,3019);a.reverse();for(var s=l(a),u=s.next();!u.done;u=s.next())u=u.value,e=Xs(e,r,u.box,o,u.pb);return e}(t)),t}(e,n,r?r.startTime:null,t),r&&e.s&&t!=u.da&&(a||s)&&(v=r.startTime,Eu(e,t,(function(){return vu(e,t)})),Eu(e,t,(function(){return bu(e,t,v)}))),E(b,Eu(e,t,(function(){var r=n;if("video"==t&&e.L){var i=e.L;i.g&&i.g.appendBuffer(r,"video",i.i)}e.h[t].appendBuffer(r)})),8);case 8:T(b)}}))}function gu(e,t){return I((function(n){return t==ot.da?e.g?E(n,e.g.remove(0,1/0),0):n.return():E(n,Eu(e,t,(function(){var n=e.i.duration;0>=n?wu(e,t):e.h[t].remove(0,n)})),0)}))}function mu(t,n,r,i,o,a,s,u){var c;return I((function(f){return 1==f.g?n==ot.da?(a||(t.g.s=r),function(e,t,n){e.l=t,e.m=n}(t.g,i,o),f.return()):(c=[],E(f,function(t,n,r,i){var o,a,s,u,c,f,h,d,p;return I((function(g){return 1==g.g?(o=dt(ht(t.I[n]))[0],a=t.I[n].split(";")[0],u=ut(r.mimeType,r.codecs),c=t.C.forceTransmux,(!Y(u)||!t.s&&pt.includes(u))&&(c=!0),f=ct(r.mimeType,r.codecs),c&&(h=Re(f))&&(s=h(),u=s.convertCodecs(n,f)),d=dt(ht(u))[0],p=u.split(";")[0],o===d&&a===p?g.return(!1):e.SourceBuffer&&SourceBuffer.prototype&&SourceBuffer.prototype.changeType?E(g,function(t,n,r,i){return Eu(t,n,(function(){n!==it&&(e.SourceBuffer&&SourceBuffer.prototype&&SourceBuffer.prototype.changeType&&(t.m[n]&&t.m[n].destroy(),i&&(t.m[n]=i),t.h[n].changeType(r+t.C.sourceBufferExtraFeatures),t.I[n]=r),wu(t,n))}))}(t,n,u,s),3):(s&&s.destroy(),E(g,function(e,t){return Tu(e,(function(){return function(e,t){var n,r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w,T;return I((function(x){switch(x.g){case 1:for(i in e.o=!0,n=e.l.currentTime,function(e){e.m=0,e.j=2}(x),e.A.Nb(),r=[],e.m)r.push(e.m[i].destroy());for(o in e.j)for(a=e.j[o],s=a[0],e.j[o]=a.slice(0,1),s&&r.push(s.p.catch(Je)),u=l(a.slice(1)),c=u.next();!c.done;c=u.next())c.value.p.reject(new Ye(2,7,7003,void 0));for(f in e.h){h=e.h[f];try{e.i.removeSourceBuffer(h)}catch(A){}}return E(x,Promise.all(r),4);case 4:return e.m={},e.j={},e.h={},d=e.i.duration,e.F=new go,e.i=su(e,e.F),E(x,e.F,5);case 5:for(e.i.duration=d,p=new go,g=e.i.sourceBuffers,m=t.size,y=0,e.A.J(g,"addsourcebuffer",(function(){++y===m&&p.resolve()})),v=l(t.keys()),b=v.next();!b.done;b=v.next())w=b.value,T=t.get(w),uu(e,w,T);return e.l.currentTime=n,E(x,p,2);case 2:_(x),e.o=!1,O(x)}}))}(e,t)}))}(t,i),3))):g.return(!0)}))}(t,n,s,u),2)):(f.h||c.push(Eu(t,n,(function(){return vu(t,n)}))),a||c.push(Eu(t,n,(function(){return bu(t,n,r)}))),c.push(Eu(t,n,(function(){t.h[n].appendWindowStart=0,t.h[n].appendWindowEnd=o,t.h[n].appendWindowStart=i,wu(t,n)}))),E(f,Promise.all(c),0))}))}function yu(e,t,n){return I((function(r){return t==ot.da?r.return():(Eu(e,t,(function(){return vu(e,t)})),E(r,Eu(e,t,(function(){return bu(e,t,n)})),0))}))}function vu(e,t){var n=e.h[t].appendWindowStart,r=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=r,wu(e,t)}function bu(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,wu(e,t)}function wu(e,t){if(!e.o){var n=e.j[t][0];n&&(n.p.resolve(),xu(e,t))}}function Eu(e,t,n){return _a(e.K),n={start:n,p:new go},e.j[t].push(n),1==e.j[t].length&&Au(e,t),n.p}function Tu(e,t){var n,r,i,o,a;return I((function(s){switch(s.g){case 1:for(i in _a(e.K),n=[],r={},e.h)r.Sb=new go,o={start:function(e){return function(){return e.Sb.resolve()}}(r),p:r.Sb},e.j[i].push(o),n.push(r.Sb),1==e.j[i].length&&o.start(),r={Sb:r.Sb};return x(s,2),E(s,Promise.all(n),4);case 4:A(s,3);break;case 2:throw S(s);case 3:return x(s,5,6),E(s,t(),6);case 6:for(a in _(s),e.h)xu(e,a);O(s);break;case 5:throw new Ye(2,3,3015,S(s),e.l.error||"No error in the media element")}}))}function xu(e,t){e.j[t].shift(),Au(e,t)}function Au(e,t){var n=e.j[t][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Ye(2,3,3017,t)):n.p.reject(new Ye(2,3,3015,r,e.l.error||"No error in the media element")),xu(e,t)}}tu.prototype.release=function(){this.l=this.j=null,this.i=function(){}},iu.prototype.release=function(){this.l&&(this.l.release(),this.l=null),null!=this.m&&(this.m.stop(),this.m=null),this.h&&(this.h.release(),this.h=null),this.g=this.A=this.u=null},iu.prototype.Kd=function(){this.o=!0,ou(this)},(r=au.prototype).destroy=function(){return this.K.destroy()},r.init=function(e,t,n,r){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,o,a,s,u=this;return I((function(c){if(1==c.g)return E(c,u.F,2);for(u.s=t,u.P=n,u.ha=r,u.Z=!u.s&&"HLS"==u.P&&!u.ha,i=l(e.keys()),o=i.next();!o.done;o=i.next())a=o.value,s=e.get(a),uu(u,a,s),u.j[a]=[];T(c)}))},r.configure=function(e){this.C=e},r.Ma=function(){var e={total:this.o?[]:eu(this.l.buffered),audio:this.o?[]:eu(du(this,"audio")),video:this.o?[]:eu(du(this,"video")),text:[]};if(this.g){var t=this.g.g,n=this.g.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n){var r=this;return I((function(i){return e==ot.da?E(i,r.g.remove(t,n),0):E(i,Eu(r,e,(function(){n<=t?wu(r,e):r.h[e].remove(t,n)})),0)}))},r.flush=function(e){var t=this;return I((function(n){return e==ot.da?n.return():E(n,Eu(t,e,(function(){t.l.currentTime-=.001,wu(t,e)})),0)}))},r.endOfStream=function(e){var t=this;return I((function(n){return E(n,Tu(t,(function(){lu(t)||"closed"===t.i.readyState||(e?t.i.endOfStream(e):t.i.endOfStream())})),0)}))},r.Va=function(e){var t=this;return I((function(n){return E(n,Tu(t,(function(){if(e<t.i.duration)for(var n in t.h){var r={start:function(){},p:new go};t.j[n].unshift(r)}t.i.duration=e})),0)}))},r.getDuration=function(){return this.i.duration};var Su=e.URL.createObjectURL,_u="sequence";function Ou(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Ic(),this.h=new It((function(){t.g.we(.25*t.i)}))}function Ru(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.Ic()!=t&&e.g.Wd(t))}catch(n){}e.h.sa(.25),0!=e.g.Ic()&&e.g.Wd(0)}function ku(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Cu.value().get(t),n.oa(e,t,r))}Ou.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},Ou.prototype.set=function(e){this.i=e,Ru(this)},Ou.prototype.Ec=function(){return this.g.Ec()};var Cu=new _r((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Nu(e,t,n,r){var i=this;this.g=e,this.m=t,this.s=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new Oa,this.i=new ju(e),ku(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Lu(i,i.j())}))}function Iu(e){return e.o?e.g.currentTime:e.j()}function Pu(e,t){0<e.g.readyState?Du(e.i,t):ku(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){Lu(e,e.j())}))}function Lu(e,t){.001>Math.abs(e.g.currentTime-t)?Mu(e):(e.h.oa(e.g,"seeking",(function(){Mu(e)})),Du(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function Mu(e){e.o=!0,e.h.J(e.g,"seeking",(function(){return e.m()})),e.s(e.g.currentTime)}function ju(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new It((function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)}))}function Du(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.sa(.1)}function Bu(e){this.g=e,this.j=!1,this.h=null,this.i=new Oa}function Uu(e,t,n,r,i,o){var a=this;this.i=e,this.g=t.presentationTimeline,this.A=t.minBufferTime||0,this.l=n,this.u=i,this.s=null,this.o=function(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return t=new tu(new nu(e),t.stallThreshold,n),function(e,t){e.i=t}(t,(function(){r?e.currentTime+=r:(e.pause(),e.play())})),t}(e,n,o),this.j=new iu(e,t.presentationTimeline,n,this.o,o),this.h=new Nu(e,(function(){var e=a.j;e.j=!0,e.o=!1;var t=Iu(a.h);return e=Hu(a,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!a.s||a.s<t-1)?(a.s=t,Pu(a.h,e),e=void 0):(a.u(),e=void 0),e}),(function(e){var t=a.j;t.g.seeking&&!t.j&&(t.j=!0,t.i=e)}),(function(){var e=r;return null==e?e=1/0>a.g.getDuration()?a.g.Fb():a.g.Na():0>e&&(e=a.g.Na()+e),Fu(a,Vu(a,e))})),this.m=new It((function(){if(0!=a.i.readyState&&!a.i.paused){var e=Iu(a.h),t=a.g.Fb(),n=a.g.Na();3>n-t&&(t=n-3),e<t&&(e=Hu(a,e),a.i.currentTime=e)}}))}function Fu(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Hu(e,t){var n=Math.max(e.A,e.l.rebufferingGoal),r=e.l.safeSeekOffset,i=e.g.Fb(),o=e.g.Na(),a=e.g.getDuration();3>o-i&&(i=o-3);var s=e.g.hc(n),u=e.g.hc(r);return n=e.g.hc(n+r),t>=a?Fu(e,t):t>o?o:t<i?Js(e.i.buffered,u)?u:n:t>=s||Js(e.i.buffered,t)?t:n}function Vu(e,t){var n=e.g.Fb();return t<n?n:t>(e=e.g.Na())?e:t}function Gu(e){var t=this;this.h=e,this.g=new Set,this.i=new It((function(){qu(t,!1)})).sa(.25)}function qu(e,t){for(var n=l(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function zu(e){xo.call(this),this.g=new Map,this.h=e}function Ku(e){xo.call(this);var t=this;this.g=new Set,this.i=e,this.h=new It((function(){for(var e=t.i(),n=l(t.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<e.start&&(t.g.delete(r),r=new To("regionremove",new Map([["region",r]])),t.dispatchEvent(r))})).sa(2)}function Wu(e,t){xo.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{vb:null,ub:Zu,ob:function(e,t){return Xu(n,"enter",e,t)}},{vb:Yu,ub:Zu,ob:function(e,t){return Xu(n,"enter",e,t)}},{vb:$u,ub:Zu,ob:function(e,t){return Xu(n,"enter",e,t)}},{vb:Zu,ub:Yu,ob:function(e,t){return Xu(n,"exit",e,t)}},{vb:Zu,ub:$u,ob:function(e,t){return Xu(n,"exit",e,t)}},{vb:Yu,ub:$u,ob:function(e,t){return Xu(n,"skip",e,t)}},{vb:$u,ub:Yu,ob:function(e,t){return Xu(n,"skip",e,t)}}],this.h=new Oa,this.h.J(this.i,"regionremove",(function(e){n.g.delete(e.region)}))}function Xu(e,t,n,r){t=new To(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}Nu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},ju.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},(r=Bu.prototype).gd=function(){var e=this;ku(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){null==e.h||0==e.h?e.j=!0:(e.i.oa(e.g,"seeking",(function(){e.j=!0})),e.g.currentTime=Math.max(0,e.g.currentTime+e.h))}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},r.hd=function(e){this.h=this.j?this.h:e},r.yc=function(){return(this.j?this.g.currentTime:this.h)||0},r.de=function(){return 0},r.ce=function(){return 0},r.xe=function(){},(r=Uu.prototype).gd=function(){this.m.sa(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},r.hd=function(e){Pu(this.h,e)},r.yc=function(){var e=Iu(this.h);return 0<this.i.readyState&&!this.i.paused?Vu(this,e):e},r.de=function(){return this.o?this.o.o:0},r.ce=function(){return this.j.C},r.xe=function(){this.j.Kd()},Gu.prototype.release=function(){this.i.stop();for(var e=l(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},y(zu,xo),zu.prototype.release=function(){this.g.clear(),xo.prototype.release.call(this)},zu.prototype.j=function(e){for(var t=l(this.g.values()),n=t.next();!n.done;n=t.next()){e:{for(var r=(n=n.value).oc,i=r.length-1;0<=i;i--){var o=r[i];if(o.position<=e){r=o.Cd;break e}}r=null}if((i=r)&&(i=!((i=n.je)===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width)),i)e:{if(i=e,o=r.contentType,(o=this.h()[o])&&0<o.length){var a=o[o.length-1].end;if(i>=o[0].start&&i<a){i=!0;break e}}i=!1}i&&(n.je=r,JSON.stringify(r),n=new To("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}},y(Ku,xo),Ku.prototype.release=function(){this.g.clear(),this.h.stop(),xo.prototype.release.call(this)},y(Wu,xo),Wu.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,xo.prototype.release.call(this)},Wu.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=l(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=e<r.startTime?Yu:e>r.endTime?$u:Zu;this.g.set(r,o);for(var a=l(this.m),s=a.next();!s.done;s=a.next())(s=s.value).vb==i&&s.ub==o&&s.ob(r,t)}}};var Yu=1,Zu=2,$u=3;function Ju(e,t,n){this.j=e,this.h=t,this.i=0,this.l=n,this.g=new Map}function Qu(e){if(0!==e.g.size){for(var t=l(e.g.keys()),n=t.next();!n.done;n=t.next())(n=n.value)&&ec(e,n);e.i=0}}function ec(e,t){var n=e.g.get(t);e.g.delete(t),n&&n.abort()}function tc(e){this.i=e,this.g=this.h=null}function nc(e,t,n){e.g=e.i(t,n,(function(t){return I((function(n){return e.h?E(n,e.h(t),0):n.B(0)}))}))}function rc(e,t){var n=this;this.g=t,this.m=e,this.i=null,this.u=1,this.o=this.j=null,this.D=0,this.C=!1,this.h=new Map,this.A=!1,this.F=null,this.s=!1,this.l=new Sa((function(){return function(e){var t,n,r,i;return I((function(o){if(1==o.g){for(t=[],n=l(e.h.values()),r=n.next();!r.done;r=n.next())vc(i=r.value),t.push(bc(i));return E(o,Promise.all(t),2)}e.h.clear(),e.g=null,e.m=null,e.i=null,T(o)}))}(n)}))}function ic(e,t){var n=e.h.get("video");if(n){var r=n.stream;r&&(t?(t=r.trickModeVideo)&&!n.rb&&(sc(e,t,!1,0,!1),n.rb=r):(r=n.rb)&&(n.rb=null,sc(e,r,!0,0,!1)))}}function oc(e,t,n,r,i,o){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,o=void 0!==o&&o,e.j=t,e.A&&(t.video&&sc(e,t.video,n,r,i,o),t.audio&&sc(e,t.audio,n,r,i,o))}function ac(e,t){I((function(n){if(1==n.g)return e.o=t,e.A?t.segmentIndex?n.B(2):E(n,t.createSegmentIndex(),2):n.return();sc(e,t,!0,0,!1),T(n)}))}function sc(e,t,n,r,i,o){var a=e.h.get(t.type);a||t.type!=it?a&&(a.rb&&(t.trickModeVideo?(a.rb=t,t=t.trickModeVideo):a.rb=null),a.stream!=t||i)&&(a.ra&&function(e,t){t&&t!==e.h&&(Qu(e),e.h=t)}(a.ra,t),t.type==it&&(i=ut(t.mimeType,t.codecs),cu(e.g.N,i,e.m.sequenceMode,t.external)),a.stream.closeSegmentIndex&&a.stream.closeSegmentIndex(),a.stream=t,a.X=null,a.ee=!!o,n&&(a.$b?a.Zc=!0:a.pa?(a.eb=!0,a.Ac=r,a.Zc=!0):(vc(a),mc(e,a,!0,r).catch((function(t){e.g&&e.g.onError(t)})))),function(e,t){var n,r;return I((function(i){if(1==i.g)return t.qa?(n=t.stream,r=t.qa,n.segmentIndex?i.B(2):E(i,n.createSegmentIndex(),2)):i.return();if(t.qa!=r||t.stream!=n)return i.return();var o=e.g.Hc(),a=hu(e.g.N,t.type),s=t.stream.segmentIndex.find(t.na?t.na.endTime:o),u=null==s?null:t.stream.segmentIndex.get(s);s=u&&u.i?u.i-u.j:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(t.stream.bandwidth||0)/8),s?((u=u.g)&&(s+=(u.i?u.i-u.j:null)||0),o=8*s/(u=e.g.getBandwidthEstimate())<(a||0)-o-Math.max(e.m.minBufferTime||0,e.i.rebufferingGoal)||t.qa.h.g>s):o=!1,o&&t.qa.abort(),T(i)}))}(e,a).catch((function(t){e.g&&e.g.onError(t)}))):function(e,t){var n,r,i,o,a;I((function(s){switch(s.g){case 1:return n=ot,e.D++,r=e.D,x(s,2),E(s,gu(e.g.N,n.da),4);case 4:A(s,3);break;case 2:i=S(s),e.g&&e.g.onError(i);case 3:o=ut(t.mimeType,t.codecs),cu(e.g.N,o,e.m.sequenceMode,t.external),(e.g.N.u.isTextVisible()||e.i.alwaysStreamText)&&e.D==r&&(a=cc(e,t),e.h.set(n.da,a),yc(e,a,0)),T(s)}}))}(e,t)}function uc(e,t){t.$b||t.eb||(t.pa?(t.eb=!0,t.Ac=0):null==fu(e.g.N,t.type)?null==t.Ha&&yc(e,t,0):(vc(t),mc(e,t,!1,0).catch((function(t){e.g&&e.g.onError(t)}))))}function cc(e,t){return{stream:t,type:t.type,X:null,ra:lc(e,t),na:null,Ib:null,yd:null,wd:null,vd:null,rb:null,endOfStream:!1,pa:!1,Ha:null,eb:!1,Ac:0,Zc:!1,$b:!1,rc:!0,Fd:!1,Qd:!1,kc:!1,qa:null}}function lc(e,t){return"video"!==t.type&&"audio"!==t.type?null:0<e.i.segmentPrefetchLimit?new Ju(e.i.segmentPrefetchLimit,t,(function(t,n,r){return gc(e,t,n,r)})):null}function fc(t,n){var r,i,o,a,s;return I((function(u){switch(u.g){case 1:if(_a(t.l),n.pa||null==n.Ha||n.$b)return u.return();if(n.Ha=null,!n.eb){u.B(2);break}return E(u,mc(t,n,n.Zc,n.Ac),3);case 3:return u.return();case 2:if(n.stream.segmentIndex){u.B(4);break}return r=n.stream,E(u,n.stream.createSegmentIndex(),5);case 5:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.pa||n.Ha||yc(t,n,0),u.return();case 4:x(u,6),i=function(t,n){if(dc(n))return function(e,t){var n=hu(e,"video")||0;yt(e.g,t,n)}(t.g.N,n.stream.originalId||""),null;n.type==it&&function(e){e.g&&yt(e.g,"",0)}(t.g.N);var r=t.g.Hc(),i=n.na?n.na.endTime:r,o=function(e,t,n){return e.o?0:t==it?null==(e=e.g).h||e.h<n?0:e.h-Math.max(n,e.g):Qs(e=du(e,t),n)}(t.g.N,n.type,r),a=Math.max(t.m.minBufferTime||0,t.i.rebufferingGoal,t.i.bufferingGoal)*t.u,s=t.m.presentationTimeline.getDuration()-i,u=hu(t.g.N,n.type);if(1e-6>s&&u)return n.endOfStream=!0,"video"==n.type&&(t=t.h.get(it))&&dc(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,o>=a)return t.i.updateIntervalSeconds/2;if(o=function(e,t,n,r){if(t.X)return t.X.current();if(t.na||r)return n=t.na?t.na.endTime:r,t.Fd=!0,t.X=t.stream.segmentIndex.kb(n),t.X&&t.X.next().value;e=e.i.inaccurateManifestTolerance,r=Math.max(n-e,0);var i=null;return e&&(t.X=t.stream.segmentIndex.kb(r),i=t.X&&t.X.next().value),i||(t.X=t.stream.segmentIndex.kb(n),i=t.X&&t.X.next().value),i}(t,n,r,u),!o)return t.i.updateIntervalSeconds;for(a=1/0,s=l(s=Array.from(t.h.values())),u=s.next();!u.done;u=s.next())dc(u=u.value)||u.X&&!u.X.current()||(a=Math.min(a,u.na?u.na.endTime:r));return i>=a+t.m.presentationTimeline.g?t.i.updateIntervalSeconds:(n.ra&&n.X&&function(e,t){if(e.h.segmentIndex){var n=e.h.segmentIndex.kb(Math.max(t.startTime,e.i));if(n)for(;e.g.size<e.j&&null!=t;){var r=!0;t.u&&null!=t.i&&(r=!1),2==t.jc()&&(r=!1),r&&!e.g.has(t)&&(nc(r=new tc(e.l),t,e.h),e.g.set(t,r)),e.i=t.startTime,t=n.next().value}}}(n.ra,o),function(t,n,r,i){var o,a,s,u,c,l,f,h,d,p,g,m,y,v;return I((function(b){switch(b.g){case 1:if(o=ot,a=n.stream,s=n.X,n.pa=!0,x(b,2),2==i.jc())throw new Ye(1,1,1011);return E(b,function(e,t,n){var r,i,o,a,s,u,c,l,f,h,d,p,g;return I((function(m){return r=ot,i=[],o=Math.max(0,n.L-.1),a=n.K+.01,s=dt(t.stream.codecs)[0],u=t.stream.mimeType.split(";")[0],(c=n.m)==t.yd&&o==t.wd&&a==t.vd&&s==t.Pc&&u==t.xd||((t.Pc&&s!=t.Pc||t.xd&&u!=t.xd)&&(t.type===r.Aa?(l=e.h.get(r.xb))&&(l.Ib=null,bc(l)):t.type===r.xb&&(f=e.h.get(r.Aa))&&(f.Ib=null,bc(f))),h=function(){var n,i,l;return I((function(f){if(1==f.g)return n=new Map,e.j.audio&&n.set(r.xb,e.j.audio),e.j.video&&n.set(r.Aa,e.j.video),x(f,2),t.wd=o,t.vd=a,t.Pc=s,t.xd=u,t.yd=c,i=e.m.sequenceMode||"HLS"==e.m.type,E(f,mu(e.g.N,t.type,c,o,a,i,t.stream,n),4);if(2!=f.g)return A(f,0);throw l=S(f),t.wd=null,t.vd=null,t.Pc=null,t.yd=null,l}))},i.push(h())),!function(e,t){return e&&t?e.ic()==t.ic()&&e.ec()==t.ec()&&he(e.Oa(),t.Oa())&&ee(e.g,t.g):e==t}(n.g,t.Ib)&&(t.Ib=n.g)&&(d=pc(e,t,n.g,void 0,!0),p=function(){var i,o,a,s,u;return I((function(c){switch(c.g){case 1:return x(c,2),E(c,d,4);case 4:return i=c.h,_a(e.l),o=null,a=new Map,(new Gr).box("moov",qr).box("trak",qr).box("mdia",qr).R("mdhd",(function(e){o=Qr(e.reader,e.version).timescale})).box("hdlr",(function(e){(e=e.reader).skip(8),e=e.$a(4);var t=String.fromCharCode(e[0]);switch(t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])){case"soun":a.set(r.xb,o);break;case"vide":a.set(r.Aa,o)}o=null})).parse(i),a.has(t.type)?n.g.timescale=a.get(t.type):null!=o&&(n.g.timescale=o),s=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,E(c,e.g.fe(t.type,i),5);case 5:return E(c,pu(e.g.N,t.type,i,null,t.stream,s),6);case 6:A(c,0);break;case 2:throw u=S(c),t.Ib=null,u}}))},e.g.Qf(n.startTime,n.g),i.push(p())),g=t.na?t.na.o:null,e.m.sequenceMode?(n.o!=g||t.Fd)&&(t.Fd=!1,i.push(yu(e.g.N,t.type,n.startTime))):e.m.ignoreManifestTimestampsInSegmentsMode&&n.o!=g&&i.push(yu(e.g.N,t.type,n.m)),E(m,Promise.all(i),0)}))}(t,n,i),4);case 4:return _a(t.l),t.s?b.return():(u="video/mp4"==a.mimeType||"audio/mp4"==a.mimeType,c=e.ReadableStream,t.i.lowLatencyMode&&c&&u&&("HLS"!=t.m.type||i.A)?(f=new Uint8Array(0),d=h=!1,p=function(e){var o,s,u;return I((function(c){return h?c.return():(d=!0,_a(t.l),t.s?c.return():(f=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(f,e),o=!1,s=0,(new Gr).box("mdat",(function(e){s=e.size+e.start,o=!0})).parse(f,!1,!0),o?(u=f.subarray(0,s),f=f.subarray(s),E(c,hc(t,n,r,a,i,u),0)):c.B(0)))}))},E(b,pc(t,n,i,p),11)):E(b,pc(t,n,i),7));case 7:if(l=b.h,_a(t.l),t.s)return b.return();if(!i.C){b.B(8);break}return E(b,function(t,n,r){var i,o,a,s;return I((function(u){if(1==u.g)return(i=n.C).cryptoKey?u.B(2):E(u,i.fetchKey(),3);if(!(o=i.iv))for(o=re(new ArrayBuffer(16)),a=i.firstMediaSequenceNumber+r.g,s=o.byteLength-1;0<=s;s--)o[s]=255&a,a>>=8;return u.return(e.crypto.subtle.decrypt({name:"AES-CBC",iv:o},i.cryptoKey,t))}))}(l,i,s),9);case 9:l=b.h;case 8:return _a(t.l),n.eb?(n.pa=!1,yc(t,n,0),b.return()):E(b,hc(t,n,r,a,i,l),6);case 11:if(g=b.h,d){b.B(6);break}return h=!0,_a(t.l),t.s?b.return():n.eb?(n.pa=!1,yc(t,n,0),b.return()):E(b,hc(t,n,r,a,i,g),6);case 6:if(_a(t.l),t.s)return b.return();n.na=i,s.next(),n.pa=!1,n.Qd=!1,m=t.g.N.Ma(),y=m[n.type],JSON.stringify(y),n.eb||t.g.Kd(i.startTime,i.endTime,n.type),yc(t,n,0),A(b,0);break;case 2:if(v=S(b),_a(t.l,v),t.s)return b.return();if(n.pa=!1,7001==v.code)n.pa=!1,vc(n),yc(t,n,0),b.B(0);else if(n.type==o.da&&t.i.ignoreTextStreamFailures)t.h.delete(o.da),b.B(0);else{if(3017!=v.code)return n.kc=!0,v.severity=2,E(b,wc(t,n,v),0);(function(e,t,n){if(!Array.from(e.h.values()).some((function(e){return e!=t&&e.Qd}))){var r=Math.round(100*e.u);if(20<r)e.u-=.2;else{if(!(4<r))return t.kc=!0,e.s=!0,void e.g.onError(n);e.u-=.04}t.Qd=!0}yc(e,t,4)})(t,n,v),b.B(0)}}}))}(t,n,r,o).catch((function(){})),null)}(t,n),null!=i&&(yc(t,n,i),n.kc=!1),A(u,7);break;case 6:return o=S(u),E(u,wc(t,n,o),8);case 8:return u.return();case 7:if(a=Array.from(t.h.values()),!t.A||!a.every((function(e){return e.endOfStream}))){u.B(0);break}return E(u,t.g.N.endOfStream(),10);case 10:_a(t.l),0!=(s=t.g.N.getDuration())&&s<t.m.presentationTimeline.getDuration()&&t.m.presentationTimeline.Va(s),T(u)}}))}function hc(e,t,n,r,i,o){var a,s,u,c,l,f;return I((function(h){switch(h.g){case 1:return a=r.closedCaptions&&0<r.closedCaptions.size,u=null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length||e.i.dispatchAllEmsgBoxes,c=e.i.parsePrftBox&&!e.C,(u||c)&&(s=new Gr),u&&s.R("emsg",(function(t){var n=r.emsgSchemeIdUris;if(0===t.version)var o=t.reader.pc(),a=t.reader.pc(),s=t.reader.H(),u=t.reader.H(),c=t.reader.H(),l=t.reader.H(),f=i.startTime+u/s;else s=t.reader.H(),u=(f=t.reader.Mb()/s+i.m)-i.startTime,c=t.reader.H(),l=t.reader.H(),o=t.reader.pc(),a=t.reader.pc();t=t.reader.$a(t.reader.getLength()-t.reader.aa()),(n&&n.includes(o)||e.i.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==o?e.g.Rf():((n=new To("emsg",n=(new Map).set("detail",{startTime:f,endTime:f+c/s,schemeIdUri:o,value:a,timescale:s,presentationTimeDelta:u,eventDuration:c,id:l,messageData:t}))).cancelable=!0,e.g.onEvent(n),n.defaultPrevented||"https://aomedia.org/emsg/ID3"!=o&&"https://developer.apple.com/streaming/emsg-id3"!=o||(o=Ai(t)).length&&i&&e.g.Sf([{cueTime:i.startTime,data:t,frames:o,dts:i.startTime,pts:i.startTime}],0,i.endTime)))})),c&&s.R("prft",(function(t){if(!e.C&&i.g.timescale){var n=t.reader,r=t.version;n.H(),t=1e3*(t=n.H())+n.H()/Math.pow(2,32)*1e3,0===r?n=n.H():(r=n.H(),n=n.H(),n=r*Math.pow(2,32)+n),t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+t).getTime(),n=new To("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/i.g.timescale*1e3)})),e.g.onEvent(n),e.C=!0}})),(u||c)&&s.parse(o),E(h,function(e,t,n){var r,i,o;return I((function(a){if(1==a.g)return r=Math.max(e.i.bufferBehind,e.m.presentationTimeline.g),null==(i=fu(e.g.N,t.type))||.01>=(o=n-i-r)?a.return():E(a,e.g.N.remove(t.type,i,i+o),2);_a(e.l),T(a)}))}(e,t,n),2);case 2:return _a(e.l),l=t.rc,t.rc=!1,f=t.ee,t.ee=!1,E(h,e.g.fe(t.type,o),3);case 3:return E(h,pu(e.g.N,t.type,o,i,r,a,l,f),4);case 4:_a(e.l),T(h)}}))}function dc(e){return e&&e.type==it&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function pc(e,t,n,r,i){var o,a,s;return I((function(u){if(1==u.g){if(n instanceof Vo&&(o=n.g))return u.return(o);if(a=null,t.ra&&n instanceof Go){var c=t.ra;if(c.g.has(n)){var l=c.g.get(n);r&&(l.h=r),c.g.delete(n),a=l.g}else a=null}return a||(a=gc(e,n,t.stream,r,i)),t.qa=a,E(u,a.promise,2)}return s=u.h,t.qa=null,u.return(s.data)}))}function gc(e,t,n,r,i){i=i?0:1;var o=t instanceof Go?t:void 0;return t=Aa(t.Oa(),t.j,t.i,e.i.retryParameters,r),e.g.mc.request(Lo,t,{type:i,stream:n,segment:o})}function mc(e,t,n,r){var i,o;return I((function(a){return 1==a.g?(t.eb=!1,t.Zc=!1,t.Ac=0,t.$b=!0,t.na=null,t.Ib=null,t.X=null,t.ra&&Qu(t.ra),r?(i=e.g.Hc(),o=e.g.N.getDuration(),E(a,e.g.N.remove(t.type,i+r,o),3)):E(a,gu(e.g.N,t.type),4)):3!=a.g?(_a(e.l),n?E(a,e.g.N.flush(t.type),3):a.B(3)):(_a(e.l),t.$b=!1,t.endOfStream=!1,t.pa||t.Ha||yc(e,t,0),void T(a))}))}function yc(e,t,n){var r=t.type;(r!=it||e.h.has(r))&&(t.Ha=new Nt((function(){var n;return I((function(r){return 1==r.g?(x(r,2),E(r,fc(e,t),4)):2!=r.g?A(r,0):(n=S(r),e.g&&e.g.onError(n),void T(r))}))})).V(n))}function vc(e){null!=e.Ha&&(e.Ha.stop(),e.Ha=null)}function bc(e){return I((function(t){return e.qa?E(t,e.qa.abort(),0):t.B(0)}))}function wc(e,t,n){var r;return I((function(i){if(1==i.g)return E(i,po(e.F),2);_a(e.l),r=0===e.i.maxDisabledTime&&1011==n.code?1:e.i.maxDisabledTime,1===n.category&&0<r&&(n.handled=e.g.kd(t.stream,r),n.handled&&(n.severity=1)),e.g.onError(n),n.handled||e.i.failureCallback(n),T(i)}))}function Ec(e){if(e=Tc(e))e:{for(var t=(e=l(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())if(t=Hi(t.value,"LA_URL")){e=t.textContent;break e}e=""}else e="";return e}function Tc(e){return(e=function(e){var t=0,n=ie(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,1&i||i+e>n.byteLength){n=[];break e}var o=re(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}(e=ki(e.textContent)).filter((function(e){return e.type===xc}))[0])&&(e=io(e=kr(e.value,!0),"WRMHEADER"))?e:null}tc.prototype.abort=function(){this.g&&this.g.abort()},(r=rc.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e){this.i=e,this.F=new ho({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0);for(var t=l(this.h.keys()),n=t.next();!n.done;n=t.next())if((n=this.h.get(n.value)).ra){var r=n.ra,i=e.segmentPrefetchLimit;r.j=i;for(var o=Array.from(r.g.keys());o.length>i;){var a=o.pop();a&&ec(r,a)}0<e.segmentPrefetchLimit||(n.ra=null)}else 0<e.segmentPrefetchLimit&&(n.ra=lc(this,n.stream))},r.start=function(){var e=this;return I((function(t){if(1==t.g)return E(t,function(e){var t,n,r,i,o,a,s,u;return I((function(c){if(1==c.g){if(t=ot,!e.j)throw new Ye(2,5,5006);return n=new Map,r=new Set,e.j.audio&&(n.set(t.xb,e.j.audio),r.add(e.j.audio)),e.j.video&&(n.set(t.Aa,e.j.video),r.add(e.j.video)),e.o&&(n.set(t.da,e.o),r.add(e.o)),E(c,e.g.N.init(n,e.m.sequenceMode,e.m.type,e.m.ignoreManifestTimestampsInSegmentsMode),2)}for(_a(e.l),e.updateDuration(),i=l(n.keys()),o=i.next();!o.done;o=i.next())a=o.value,s=n.get(a),e.h.has(a)||(u=cc(e,s),e.h.set(a,u),yc(e,u,0));T(c)}))}(e),2);_a(e.l),e.A=!0,T(t)}))},r.rc=function(){if(this.g)for(var e=this.g.Hc(),t=l(this.h.keys()),n=t.next();!n.done;n=t.next()){var r=n.value,i=null;(n=this.h.get(r)).X&&(i=n.X.current()),(!i||i.startTime>e||i.endTime<e)&&(n.X=null),(i=this.g.N).o?i=!1:r==it?i=null!=(i=i.g).g&&null!=i.h&&(e>=i.g&&e<i.h):i=Js(i=du(i,r),e),i||((null!=hu(this.g.N,r)||n.pa)&&uc(this,n),n.qa&&(n.qa.abort(),n.qa=null),r===it&&((r=this.g.N).D&&r.D.i()),n.rc=!0)}},r.updateDuration=function(){var e=this.m.presentationTimeline.getDuration();1/0>e?this.g.N.Va(e):this.g.N.Va(Math.pow(2,32))};var xc=1,Ac=(new Map).set("com.microsoft.playready",Ec).set("com.microsoft.playready.recommendation",Ec).set("com.microsoft.playready.software",Ec).set("com.microsoft.playready.hardware",Ec);function Sc(e){if(!Pc){Pc=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);zc=Ic("ftyp",t,r,t,n),t=Ic("dref",Kc),Wc=Ic("dinf",t)}this.g=e}function _c(e){var t=Ic,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var r=e.stream.height||0;if(0<e.ga.byteLength)var i=Ic("avcC",e.ga);else{i=Ic;for(var o=7,a=[],s=[],u=0,c=0,l=0,h=0;h<e.xa.length;h++){var d=Nc(e.xa[h]);switch(31&d[0]){case 7:a.push(d),o+=d.length+2;break;case 8:s.push(d),o+=d.length+2}}for(0<a.length&&(u=a[0][1],l=a[0][2],c=a[0][3]),h=0,(o=new Uint8Array(o))[h++]=1,o[h++]=u,o[h++]=l,o[h++]=c,o[h++]=255,o[h++]=224|a.length,u=0;u<a.length;u++)o[h++]=(65280&a[u].length)>>8,o[h++]=255&a[u].length,o.set(a[u],h),h+=a[u].length;for(o[h++]=s.length,a=0;a<s.length;a++)o[h++]=(65280&s[a].length)>>8,o[h++]=255&s[a].length,o.set(s[a],h),h+=s[a].length;i=i("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(f(Cc(n,2)),f(Cc(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=new Uint8Array([]),e.encrypted&&(s=Rc(e),r="encv"),n=Ic(r,n,i,s)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.ga.byteLength&&(n=Ic("hvcC",e.ga)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(f(Cc(r,2)),f(Cc(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=new Uint8Array([]),e.encrypted&&(s=Rc(e),i="encv"),n=Ic(i,r,n,s));break;case"audio":e.codecs.includes("mp3")?e=Ic(".mp3",Oc(e)):e.codecs.includes("ac-3")?(n=Ic("dac3",e.Y),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=Rc(e),r="enca"),e=Ic(r,Oc(e),n,i)):e.codecs.includes("ec-3")?(n=Ic("dec3",e.Y),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=Rc(e),r="enca"),e=Ic(r,Oc(e),n,i)):(0<e.Y.byteLength?n=Ic("esds",e.Y):(n=Ic,r=e.id+1,i=e.stream.bandwidth||0,s=e.stream.channelsCount||2,u=e.stream.audioSamplingRate||44100,c=nt("audio",e.codecs.split(",")),a=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[u],"mp4a.40.5"!==c&&"mp4a.40.29"!==c||(a=l[2*u]),u=parseInt(c.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(f(Cc(r,2)),[0,4,17,64,21,0,6,0],f(Cc(i,4)),f(Cc(i,4)),[5,2,u<<3|a>>>1,a<<7|s<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=Rc(e),r="enca"),e=Ic(r,Oc(e),n,i)),n=e}return t("stbl",e=Ic("stsd",qc,n),Ic("stts",Bc),Ic("stsc",Uc),Ic("stsz",Hc),Ic("stco",Fc))}function Oc(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(f(Cc(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Rc(e){for(var t=Ic,n=e.codecs.substring(0,e.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=Ic("frma",n=new Uint8Array([].concat(f(Cc(r,4))))),r=Ic("schm",r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0])),i=Ic;for(var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=(e=l(e.stream.drmInfos)).next();!a.done;a=e.next())if((a=a.value)&&a.keyIds&&a.keyIds.size)for(var s=(a=l(a.keyIds)).next();!s.done;s=a.next())o=Nc(s.value);return t("sinf",n,r,i("schi",o=Ic("tenc",e=new Uint8Array([0,0,0,0,0,0,1,8]),o)))}function kc(e){for(var t=new Uint8Array([]),n=(e=l(e.g)).next();!n.done;n=e.next()){n=n.value;var r,i=Ic,o=new Uint8Array([0,0,0,0].concat(f(Cc(n.data?n.data.Ua:0,4))));o=Ic("mfhd",o);var a=n.data?n.data.wa:[],s=new Uint8Array(4+a.length);for(r=0;r<a.length;r++){var u=a[r].flags;s[r+4]=u.Ca<<4|u.Fa<<2|u.Ea}var c=(a=Ic("sdtp",s)).length+92;s=Ic,r=Ic("tfhd",r=new Uint8Array([0,0,0,58].concat(f(Cc(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),u=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(u%(Lc+1));u=Ic("tfdt",u=new Uint8Array([1,0,0,0].concat(f(Cc(Math.floor(u/(Lc+1)),4)),f(Cc(h,4)))));var d=c,p=12+16*(h=(c=n.data?n.data.wa:[]).length),g=new Uint8Array(p);for(d+=8+p,g.set(["video"===n.type?1:0,0,15,1].concat(f(Cc(h,4)),f(Cc(d,4))),0),d=0;d<h;d++){var m=c[d];p=Cc(m.duration,4);var y=Cc(m.size,4),v=m.flags;m=Cc(m.Ja,4),g.set([].concat(f(p),f(y),[v.Pa<<2|v.Ca,v.Fa<<6|v.Ea<<4|v.Qa,61440&v.Ba,15&v.Ba],f(m)),12+16*d)}for(i=i("moof",o,a=s("traf",r,u,c=Ic("trun",g),a)),o=n.data?n.data.wa:[],n=new Uint8Array([]),a=(o=l(o)).next();!a.done;a=o.next())n=Ii(n,a.value.data);t=Ii(t,i,n=Ic("mdat",n))}return t}function Cc(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function Nc(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function Ic(e){var t=P.apply(1,arguments),n=Mc[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Mc[e]=n);for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}Sc.prototype.initSegment=function(){for(var e=new Uint8Array([]),t=l(this.g),n=t.next();!n.done;n=t.next()){var r=e;e=n.value,n=Ic;var i=e.id+1,o=e.stream.width||0,a=e.stream.height||0;"audio"==e.type&&(a=o=0);var s=e.duration*e.timescale,u=Math.floor(s/(Lc+1));switch(s=Math.floor(s%(Lc+1)),i=Ic("tkhd",i=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(f(Cc(i,4)),[0,0,0,0],f(Cc(u,4)),f(Cc(s,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],f(Cc(o,2)),[0,0],f(Cc(a,2)),[0,0]))),o=Ic,u=e.duration*e.timescale,a=Math.floor(u/(Lc+1)),u=Math.floor(u%(Lc+1)),s=(s=e.stream.language).charCodeAt(0)-96<<10|s.charCodeAt(1)-96<<5|s.charCodeAt(2)-96,a=Ic("mdhd",a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(f(Cc(e.timescale,4)),f(Cc(a,4)),f(Cc(u,4)),f(Cc(s,2)),[0,0]))),u=e,s=new Uint8Array([]),u.type){case"video":s=jc;break;case"audio":s=Dc}u=Ic("hdlr",s);e:{switch(e.type){case"video":e=Ic("minf",Ic("vmhd",Vc),Wc,_c(e));break e;case"audio":e=Ic("minf",Ic("smhd",Gc),Wc,_c(e));break e}e=new Uint8Array([])}e=Ii(r,n=n("trak",i,e=o("mdia",a,u,e)))}for(t=Ic,i=(n=this.g[0]).duration*n.timescale,r=Math.floor(i/(Lc+1)),i=Math.floor(i%(Lc+1)),r=Ic("mvhd",r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(f(Cc(n.timescale,4)),f(Cc(r,4)),f(Cc(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),o=new Uint8Array([]),a=(i=l(this.g)).next();!a.done;a=i.next())o=Ii(o,a=Ic("trex",a=new Uint8Array([0,0,0,0].concat(f(Cc(a.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))));if(i=Ic("mvex",o),o=new Uint8Array([]),n.encrypted)for(a=(n=l(n.stream.drmInfos)).next();!a.done;a=n.next())if((a=a.value).initData)for(u=(a=l(a.initData)).next();!u.done;u=a.next())o=Ii(o,u.value.initData);return t=t("moov",r,e,i,o),(r=new Uint8Array(zc.byteLength+t.byteLength)).set(zc),r.set(t,zc.byteLength),r};var Pc=!1,Lc=Math.pow(2,32)-1,Mc={},jc=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Dc=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Bc=new Uint8Array([0,0,0,0,0,0,0,0]),Uc=new Uint8Array([0,0,0,0,0,0,0,0]),Fc=new Uint8Array([0,0,0,0,0,0,0,0]),Hc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Vc=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Gc=new Uint8Array([0,0,0,0,0,0,0,0]),qc=new Uint8Array([0,0,0,0,0,0,0,1]),zc=new Uint8Array([]),Kc=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Wc=new Uint8Array([]);function Xc(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.A=new H(5),this.o=new It((function(){!function(e){var t;I((function(n){switch(n.g){case 1:return x(n,2),E(n,Yc(e),4);case 4:A(n,3);break;case 2:t=S(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();T(n)}}))}(e)})),this.u=new _o,this.m=new Map}function Yc(e){var t,n,r,i,o,a,s;return I((function(u){if(1==u.g)return t=Co(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5}),Oo(e.u,i),E(u,i.promise,2);if(o=u.h,!e.h)return u.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var c=o.uri,h=oo(o.data,"SmoothStreamingMedia");if(!h)throw new Ye(2,4,4046,c);if((c=e.g.mss.manifestPreprocessor)&&c(h),e.i||(e.i=new xa(null,0)),c=Xi(h,"IsLive",no,!1))throw new Ye(2,4,4047);e.i.Yd(!c);var d=Xi(h,"TimeScale",eo,1e7),p=Xi(h,"DVRWindowLength",eo);c&&(0===p||isNaN(p))&&(p=1/0);var g,m=Xi(h,"CanSeek",no,!1);for(0===p&&m&&(p=1/0),m=null,p&&0<p&&(m=p/d),c&&!isNaN(e.g.availabilityWindowOverride)&&(m=e.g.availabilityWindowOverride),null==m&&(m=1/0),e.i.Xd(m),p=Xi(h,"Duration",eo,1/0),c||e.i.Va(p/d),c={variants:[],textStreams:[],timescale:d,duration:p/d},m=Gi(h,"Protection"),d=e.g.mss.keySystemsBySystemId,p=[],g=(m=l(m)).next();!g.done;g=m.next())p=p.concat(Gi(g.value,"ProtectionHeader"));if(p.length){for(m=[],g=0;g<p.length;g++){var y=p[g],v=y.getAttribute("SystemID").toLowerCase(),b=d[v];if(b){var w=Tc(y);if(w)e:{for(var x=(w=l(w.getElementsByTagName("DATA"))).next();!x.done;x=w.next())if(x=Hi(x.value,"KID")){w=ki(x.textContent),w=Ni(w=new Uint8Array([w[3],w[2],w[1],w[0],w[5],w[4],w[7],w[6]].concat(f(w.slice(8)))));break e}w=null}else w=null;v=tt(b,v=[{initData:Fi(x=ki(y.textContent),v=Ci(v.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:w}]),w&&v.keyIds.add(w),(b=Ac.get(b))&&(v.licenseServerUri=b(y)),m.push(v)}}d=m}else d=[];for(g=d,m=[],d=[],p=[],y=(h=l(h=Gi(h,"StreamIndex"))).next();!y.done;y=h.next()){b=Gi(y=y.value,"QualityLevel"),v=c.timescale,w=c.duration,x=Gi(y,"c");for(var A=[],S=0,_=0;_<x.length;++_){var O=x[_],R=x[_+1],k=Xi(O,"t",eo),C=Xi(O,"d",eo);if(O=Xi(O,"r",Ji),!C)break;if(k=null!=k?k:S,0>(O=O||0))if(R){if(null==(R=Xi(R,"t",eo)))break;if(k>=R)break;O=Math.ceil((R-k)/C)-1}else{if(1/0==w)break;if(k/v>=w)break;O=Math.ceil((w*v-k)/C)-1}for(R=0;R<=O;++R)S=k+C,A.push({start:k/v,end:S/v,be:k}),k=S}for(v=A,w=(b=l(b)).next();!w.done;w=b.next())(w=Zc(e,y,w.value,v,g,c))&&("audio"!=w.type||e.g.disableAudio?"video"!=w.type||e.g.disableVideo?w.type!=it||e.g.disableText||p.push(w):d.push(w):m.push(w))}for(h=[],g=(m=l(0<m.length?m:[null])).next();!g.done;g=m.next())for(g=g.value,w=(y=l(0<d.length?d:[null])).next();!w.done;w=y.next())v=(b=h).push,w=w.value,x=0,g&&g.bandwidth&&0<g.bandwidth&&(x+=g.bandwidth),w&&w.bandwidth&&0<w.bandwidth&&(x+=w.bandwidth),w={id:e.s++,language:g?g.language:"und",disabledUntilTime:0,primary:!!g&&g.primary||!!w&&w.primary,audio:g,video:w,bandwidth:x,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},v.call(b,w);c.variants=h,c.textStreams=p,e.j?(e.j.variants=c.variants,e.j.textStreams=c.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:c.variants,textStreams:c.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null},e.i.zd()),Promise.resolve(),a=Date.now(),s=(a-r)/1e3,e.A.sample(1,s),T(u)}))}function Zc(e,t,n,r,i,o){var a=t.getAttribute("Type");if("audio"!==a&&"video"!==a&&"text"!==a)return K("Ignoring unrecognized type:",a),null;var s=t.getAttribute("Language"),u=e.s++,c=Xi(n,"Bitrate",Qi),f=Xi(n,"MaxWidth",Qi),h=Xi(n,"MaxHeight",Qi),d=Xi(n,"Channels",Qi),p=Xi(n,"SamplingRate",Qi),g=o.duration;r.length&&(g=r[r.length-1].end-r[0].start);var m=e.i.getDuration();e.i.Va(Math.min(g,m));var y={id:u,originalId:t.getAttribute("Name")||String(u),createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:c||0,width:f||void 0,height:h||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:At(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:d,audioSamplingRate:p,spatialAudio:!1,closedCaptions:null,hdr:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1};if((i=t.getAttribute("Subtype"))&&((i=Jc[i])&&y.roles.push(i),"main"===i&&(y.primary=!0)),null!==(i=n.getAttribute("FourCC"))&&""!==i||(i=t.getAttribute("FourCC")),!i)if("audio"===a)i="AAC";else if("video"===a)return K('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!$c.includes(i.toUpperCase()))return K("Codec not supported:",i),null;switch(n=function(e,t,n,r){if(e=e.getAttribute("CodecPrivateData"))return e;if("audio"!==t)return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],"AACH"===n?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,a,i,y),y.mssPrivateData.codecPrivateData=n,a){case"audio":if(!n)return K("Quality unsupported without CodecPrivateData",a),null;y.type="audio",y.mimeType="mss/audio/mp4",y.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return K("Quality unsupported without CodecPrivateData",a),null;y.type="video",y.mimeType="mss/video/mp4",y.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":y.type=it,y.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(y.codecs="stpp")}return y.createSegmentIndex=function(){if(y.segmentIndex)return Promise.resolve();if(e.m.has(y.id))var n=e.m.get(y.id);else n=[],"video"==y.type&&(n=y.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=new Sc([n={id:y.id,type:y.type,codecs:y.codecs,encrypted:y.encrypted,timescale:y.mssPrivateData.timescale,duration:y.mssPrivateData.duration,xa:n,Y:new Uint8Array([]),ga:new Uint8Array([]),data:null,stream:y}]).initSegment(),e.m.set(y.id,n);return n=function(e,t,n,r,i){var o=r.getAttribute("Url").replace("{bitrate}",String(n.bandwidth));r=[];for(var a={},s=(i=l(i)).next();!s.done;a={Ub:a.Ub},s=i.next())a.Ub=s.value,r.push(new Go(a.Ub.start,a.Ub.end,function(t){return function(){return et(e.l,[o.replace("{start time}",String(t.Ub.be))])}}(a),0,null,t,0,0,n.mssPrivateData.duration));return r}(e,new Vo((function(){return[]}),0,null,null,void 0,n),y,t,r),y.segmentIndex=new Wo(n),Promise.resolve()},y.closeSegmentIndex=function(){y.segmentIndex&&(y.segmentIndex.release(),y.segmentIndex=null)},y}(r=Xc.prototype).configure=function(e){this.g=e},r.start=function(e,t){var n=this;return I((function(r){if(1==r.g)return n.l=[e],n.h=t,E(r,Yc(n),2);if(!n.h)throw new Ye(2,7,7001);return r.return(n.j)}))},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.u.destroy()},r.update=function(){var e,t=this;return I((function(n){return 1==n.g?(x(n,2),E(n,Yc(t),4)):2!=n.g?A(n,0):(e=S(n),t.h&&e?(t.h.onError(e),void T(n)):n.return())}))},r.onExpirationUpdated=function(){},F("shaka.mss.MssParser",Xc);var $c="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Jc={CAPT:"main",SUBT:"alternate",DESC:"main"};function Qc(e,t,n,r,i,o){if(200<=n&&299>=n&&202!=n)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=Cr(t)}catch(a){}throw new Ye(401==n||403==n?2:1,1,1001,r,n,i,e,o)}function el(){}function tl(e,t,n,r,i){var o=new sl;Ca(t.headers).forEach((function(e,t){o.append(t,e)}));var a=new ol,s={he:!1,Le:!1};if(e=function(e,t,n,r,i,o,a){var s,u,c,l,f,h,d,p,g,m,y,v;return I((function(b){switch(b.g){case 1:return s=il,u=al,h=f=0,d=Date.now(),x(b,2),E(b,s(e,n),4);case 4:if(c=b.h,o(nl(c.headers)),"HEAD"==n.method){b.B(5);break}return p=c.clone().body.getReader(),m=(g=c.headers.get("Content-Length"))?parseInt(g,10):0,new u({start:function(e){function t(){var n,r;return I((function(o){switch(o.g){case 1:return x(o,2),E(o,p.read(),4);case 4:n=o.h,A(o,3);break;case 2:return S(o),o.return();case 3:if(n.done){o.B(5);break}if(f+=n.value.byteLength,!a){o.B(5);break}return E(o,a(n.value),5);case 5:(100<(r=Date.now())-d||n.done)&&(i(r-d,f-h,m-f),h=f,d=r),n.done?e.close():(e.enqueue(n.value),t()),T(o)}}))}t()}}),E(b,c.arrayBuffer(),6);case 6:l=b.h;case 5:A(b,3);break;case 2:if(y=S(b),r.he)throw new Ye(1,1,7001,e,t);if(r.Le)throw new Ye(1,1,1003,e,t);throw new Ye(1,1,1002,e,y,t);case 3:return v=nl(c.headers),b.return(Qc(v,l,c.status,e,c.url,t))}}))}(e,n,{body:t.body||void 0,headers:o,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},s,r,i,t.streamDataCallback),e=new mo(e,(function(){return s.he=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var u=new It((function(){s.Le=!0,a.abort()}));u.V(t/1e3),e.finally((function(){u.stop()}))}return e}function nl(e){var t={};return e.forEach((function(e,n){t[n.trim()]=e})),t}function rl(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(bp){return!1}return!!e.Response&&(!!new Response("").body&&!(!e.fetch||!e.AbortController))}Ta.ism=function(){return new Xc},Ea["application/vnd.ms-sstr+xml"]=function(){return new Xc},F("shaka.net.HttpFetchPlugin",el),el.isSupported=rl,el.parse=tl;var il=e.fetch,ol=e.AbortController,al=e.ReadableStream,sl=e.Headers;function ul(){}function cl(e,t,n,r,i){var o=new fl,a=Date.now(),s=0;return new mo(new Promise((function(u,c){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){c(new Ye(1,1,7001,e,n))};var l=!1;for(var f in o.onreadystatechange=function(){if(2==o.readyState&&!l){var e=ll(o);i(e),l=!0}},o.onload=function(){var t=ll(o),r=o.response;try{var i=Qc(t,r,o.status,e,o.responseURL,n);u(i)}catch(a){c(a)}},o.onerror=function(t){c(new Ye(1,1,1002,e,t,n))},o.ontimeout=function(){c(new Ye(1,1,1003,e,n))},o.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(r(t-a,e.loaded-s,e.total-e.loaded),s=e.loaded,a=t)},t.headers)o.setRequestHeader(f.toLowerCase(),t.headers[f]);o.send(t.body)})),(function(){return o.abort(),Promise.resolve()}))}function ll(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={};for(var n=(t=l(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}rl()&&(ko("http",tl,2,!0),ko("https",tl,2,!0),ko("blob",tl,2,!0)),F("shaka.net.HttpXHRPlugin",ul),ul.parse=cl;var fl=e.XMLHttpRequest;function hl(e,t){var n=eh(),r=this;this.j=t,this.i=e,this.l=n,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function(e){return I((function(t){if(e.s.g)t=t.B(0);else{if(0==e.m.length||e.g&&!e.g.nb)var n=!1;else{e.g&&(e.g.Ga.qb(),e.g=null);var r=(n=e.m.shift()).create(e.l);r?(n.Ga.Kb(),e.g={node:r.node,S:r.S,nb:r.nb,Ga:n.Ga}):n.Ga.Vc(),n=!0}n?n=Promise.resolve():e.g?n=function(e){var t,n;return I((function(r){switch(r.g){case 1:return e.i=e.j.rf(e.i,e.l,e.g.node,e.g.S),x(r,2),e.h=e.j.Ze(e.i,e.l,e.g.S),E(r,e.h.promise,4);case 4:e.h=null,e.i==e.g.node&&(e.g.Ga.Uc(),e.g=null),A(r,0);break;case 2:return 7001==(t=S(r)).code?e.g.Ga.qb():e.g.Ga.onError(t),e.g=null,e.h=null,n=e,E(r,e.j.handleError(e.l,t),5);case 5:n.i=r.h,T(r)}}))}(e):(e.j.Pf(e.i),e.o=new go,n=e.o),t=E(t,n,1)}return t}))}(r)})),this.s=new Sa((function(){return function(e){var t,n;return I((function(r){if(1==r.g)return e.h&&e.h.abort(),pl(e),E(r,e.u,2);for(e.g&&e.g.Ga.qb(),t=l(e.m),n=t.next();!n.done;n=t.next())n.value.Ga.qb();e.g=null,e.m=[],e.j=null,T(r)}))}(r)}))}function dl(e,t){var n={Kb:function(){},Uc:function(){},qb:function(){},onError:function(){},Vc:function(){},xg:function(){}};return e.m.push({create:t,Ga:n}),e.h&&e.h.abort(),pl(e),n}function pl(e){e.o&&(e.o.resolve(),e.o=null)}function gl(e){if(e.s)return"\n";if(e.g.length)return e.g.map(gl).join("");var t=[],n=700<=e.C,r="italic"==e.m,i=e.o.includes("underline");return n&&t.push(["b"]),r&&t.push(["i"]),i&&t.push(["u"]),n="",(r=ml(e.l))&&(n+="."+r),(r=ml(e.backgroundColor))&&(n+=".bg_"+r),n&&t.push(["c",n]),t.reduceRight((function(e,t){var n=l(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"}),e.S)}function ml(e){switch(e.toLowerCase()){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function yl(e){for(var t=[],n=(e=l(e)).next();!n.done;n=e.next()){var r=(n=n.value).clone();r.g=[],r.S=gl(n),t.push(r)}return t}function vl(e){this.g=null;for(var t=l(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.g=n);this.g||(this.g=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function bl(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.S);t.lineAlign=e.i,t.positionAlign=e.D,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.u&&(t.snapToLines=!1),null!=e.h&&(t.line=e.h),null!=e.position&&(t.position=e.position),t}function wl(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=l(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function El(){}function Tl(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function xl(t,n){var r=this;this.j=!1,this.i=[],this.A=t,this.m=n,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new It((function(){_l(r)})).sa(.25),this.h=new Map,this.s=new Oa,this.s.J(document,"fullscreenchange",(function(){_l(r,!0)})),this.l=null,"ResizeObserver"in e&&(this.l=new ResizeObserver((function(){_l(r,!0)})),this.l.observe(this.g)),this.o=new Map}function Al(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function Sl(e,t,n,r,i){for(var o=!1,a=[],s=[],u=(t=l(t)).next();!u.done;u=t.next()){u=u.value,i.push(u);var c=e.h.get(u),f=u.startTime<=r&&u.endTime>r,h=c?c.Pe:null;c&&(a.push(c.jd),c.qc&&a.push(c.qc),f||(o=!0,e.h.delete(u),c=null)),f&&(s.push(u),c?Al(e,h)||(o=!0):(Ol(e,u,i),h=(c=e.h.get(u)).Pe,o=!0)),0<u.g.length&&h&&Sl(e,u.g,h,r,i),i.pop()}if(o){for(i=(r=l(a)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),u=(s=l(s)).next();!u.done;u=s.next())(r=e.h.get(u.value)).qc?(n.appendChild(r.qc),r.qc.appendChild(r.jd)):n.appendChild(r.jd)}}function _l(e,t){if(e.g){var n=e.A.currentTime;if(!e.j||void 0!==t&&t){for(var r=(t=l(e.o.values())).next();!r.done;r=t.next())Tl(r.value);Tl(e.g),e.h.clear(),e.o.clear()}if(e.j){t=new Map;for(var i=(r=l(e.h.keys())).next();!i.done;i=r.next())i=i.value,t.set(i,e.h.get(i));Sl(e,e.i,e.g,n,[])}}}function Ol(e,t,n){var r=1<n.length,i=r?"span":"div";t.s&&(i="br"),r=!r&&0<t.g.length;var o=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var o=t.style,a=0==n.g.length,s=1<r.length;o.whiteSpace="pre-wrap";var u=n.S.replace(/\s+$/g,(function(e){return" ".repeat(e.length)}));if(o.webkitTextStrokeColor=n.W,o.webkitTextStrokeWidth=n.Z,o.color=n.l,o.direction=n.direction,o.opacity=n.O,o.paddingLeft=Rl(n,e.m),o.paddingRight=Rl(n,e.m),o.textShadow=n.P,n.g.length)var c=t;else c=document.createElement("span"),t.appendChild(c);n.A&&(c.style.border=n.A),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,(function(e){return e.backgroundColor})))?c.style.backgroundColor=t:u&&(c.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(c.textContent=u),s?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",o.justifyContent="before"==n.j?"flex-start":"center"==n.j?"center":"flex-end"),a||(o.margin="0"),o.fontFamily=n.I,o.fontWeight=n.C.toString(),o.fontStyle=n.m,o.letterSpacing=n.K,o.fontSize=Rl(n,e.m),null!=n.h&&(e=n.u,0==n.h&&e==we&&(e=1),1==e&&(o.position="absolute",n.writingMode==be?(o.width="100%",n.i==Ee?o.top=n.h+"%":"end"==n.i&&(o.bottom=100-n.h+"%")):"vertical-lr"==n.writingMode?(o.height="100%",n.i==Ee?o.left=n.h+"%":"end"==n.i&&(o.right=100-n.h+"%")):(o.height="100%",n.i==Ee?o.right=n.h+"%":"end"==n.i&&(o.left=100-n.h+"%")))),o.lineHeight=n.L,null!=n.position&&(n.writingMode==be?o.paddingLeft=n.position:o.paddingTop=n.position),e=function(e){var t=e.direction,n=e.D;return e=e.textAlign,n!==ge?n:"left"===e||"start"===e&&t===ve||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===ve?"line-right":"center"}(n),"line-left"==e?o.cssFloat="left":"line-right"==e&&(o.cssFloat="right"),o.textAlign=n.textAlign,o.textDecoration=n.o.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==be?o.width=n.size+"%":o.height=n.size+"%")}(e,o,t,n,r),n=null,t.region&&t.region.id)if(i=(n=t.region).id+"_"+n.width+"x"+n.height+(n.g==Se?"%":"px")+"-0x0"+(n.h==Se?"%":"px"),e.o.has(i))n=e.o.get(i);else{var a=document.createElement("span"),s=n.g==Se?"%":"px",u=n.i==Se?"%":"px",c=n.h==Se?"%":"px";a.id="shaka-text-region---"+i,a.classList.add("shaka-text-region"),a.style.height=n.height+s,a.style.width=n.width+u,a.style.position="absolute",a.style.top=0+c,a.style.left=0+c,a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.justifyContent="before"==t.j?"flex-start":"center"==t.j?"center":"flex-end",e.o.set(i,a),n=a}i=o,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",o.appendChild(i)),e.h.set(t,{jd:o,Pe:i,qc:n})}function Rl(e,t){var n=(n=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(""))?{value:Number(n[1]),unit:n[2]}:null;if(!n)return"";var r=n.value;switch(n.unit){case"%":return r/100*t.clientHeight/e.F.rows+"px";case"c":return t.clientHeight*r/e.F.rows+"px";default:return""}}function kl(e,t){this.h=e,this.g=t,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function Cl(t){return t.j||(t.j=t.g.sessionId||e.crypto.randomUUID()),{v:1,sf:t.o,sid:t.j,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function Nl(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,Cl(e)),n.pr=e.h.Gc();var i=n.ot===jl||n.ot===Dl;if(e.l&&i&&(n.bs=!0,n.su=!0,e.l=!1),null==n.su&&(n.su=e.m),r)e=function(e){for(var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=(t=l(t)).next();!a.done;a=t.next())a=a.value,i[null!=o[a]?o[a]:1][a]=e[a];for(e=0;e<i.length;e++)(o=Il(i[e]))&&(n["CMCD-"+r[e]]=o);return n}(n),Object.keys(e).length&&Object.assign(t.headers,e);else{var o=Il(n);o&&(t.uris=t.uris.map((function(e){return Pl(e,o)})))}}}function Il(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}for(var r,i=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},a=Object.keys(e||{}).sort(),s=(a=l(a)).next();!s.done;s=a.next()){var u=e[s=s.value];if(!(r=u,Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var c=o[s];c&&(u=c(u));var f;f="string"===(c=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===c?s:"symbol"===c?s+"="+u.description:s+"="+u,i.push(f)}}return i.join(",")}function Pl(e,t){return!t||e.includes("offline:")?e:((e=new Me(e)).g.set("CMCD",t),e.toString())}ko("http",cl,1,!0),ko("https",cl,1,!0),ko("blob",cl,1,!0),hl.prototype.destroy=function(){return this.s.destroy()},(r=vl.prototype).remove=function(e,t){return!!this.g&&(wl(this.g,(function(n){return n.startTime<t&&n.endTime>e})),!0)},r.append=function(e){var t=yl(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var r={},i=(t=l(t)).next();!i.done;r={wb:r.wb},i=t.next())r.wb=i.value,e.some(function(e){return function(t){return t.startTime==e.wb.startTime&&t.endTime==e.wb.endTime&&t.text==e.wb.S}}(r))||(i=bl(r.wb))&&n.push(i);for(r=(e=l(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!r.done;r=e.next())this.g.addCue(r.value)},r.destroy=function(){return this.g&&(wl(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.g.mode},r.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"},F("shaka.text.SimpleTextDisplayer",vl),vl.prototype.setTextVisibility=vl.prototype.setTextVisibility,vl.prototype.isTextVisible=vl.prototype.isTextVisible,vl.prototype.destroy=vl.prototype.destroy,vl.prototype.append=vl.prototype.append,vl.prototype.remove=vl.prototype.remove,F("shaka.util.Dom",El),El.removeAllChildren=Tl,(r=xl.prototype).append=function(e){for(var t=[].concat(f(this.i)),n={},r=(e=l(e)).next();!r.done;n={vc:n.vc},r=e.next())n.vc=r.value,t.some(function(e){return function(t){return pe(t,e.vc)}}(n))||this.i.push(n.vc);_l(this)},r.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},r.remove=function(e,t){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter((function(n){return n.startTime<e||n.endTime>=t})),_l(this,n>this.i.length),!0},r.isTextVisible=function(){return this.j},r.setTextVisibility=function(e){this.j=e},F("shaka.text.UITextDisplayer",xl),xl.prototype.setTextVisibility=xl.prototype.setTextVisibility,xl.prototype.isTextVisible=xl.prototype.isTextVisible,xl.prototype.remove=xl.prototype.remove,xl.prototype.destroy=xl.prototype.destroy,xl.prototype.append=xl.prototype.append,F("shaka.text.WebVttGenerator",(function(){})),kl.prototype.configure=function(e){this.g=e};var Ll="m",Ml="a",jl="v",Dl="av",Bl="i",Ul="c",Fl="tt";function Hl(){}function Vl(e,t,n,r,i){var o,a=i in r,s=!0;for(o in t){var u=i+"."+o,c=a?r[i]:n[o];a||o in n?void 0===t[o]?void 0===c||a?delete e[o]:e[o]=Ao(c):c.constructor==Object&&t[o]&&t[o].constructor==Object?(e[o]||(e[o]=Ao(c)),u=Vl(e[o],t[o],c,r,u),s=s&&u):typeof t[o]!=typeof c||null==t[o]||"function"!=typeof t[o]&&t[o].constructor!=c.constructor?(z("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[o]&&n[o].length!=t[o].length&&K("Unexpected number of arguments for "+u),e[o]=t[o]):(z("Invalid config, unrecognized key "+u),s=!1)}return s}function Gl(e,t){for(var n={},r=n,i=0,o=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[o=e.substring(o,i).replace(/\\\./g,".")]={},r=r[o],o=i+1),i+=1;return r[e.substring(o).replace(/\\\./g,".")]=t,n}function ql(e,t){return e&&t}function zl(){}function Kl(e){return new Me(e=Cr(e)).Da}function Wl(e,t,n){function r(e){ie(o).setUint32(a,e.byteLength,!0),a+=4,o.set(re(e),a),a+=e.byteLength}if(!n||!n.byteLength)throw new Ye(2,6,6015);var i;i="string"==typeof t?Ir(t,!0):t,e=Ir(e=Cr(e),!0);var o=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),a=0;return r(e),r(i),r(n),o}function Xl(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Wl(e,n=Cr(e).split("skd://").pop(),t))}function Yl(e,t){2===e&&(t.headers["Content-Type"]="application/octet-stream")}function Zl(){}function $l(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(t,n,r){return e.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,t=Wl(t,r=Kl(t),n)),t},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:jt(),minHdcpVersion:""},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(e){return ql([e],e)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3,sequenceMode:!(Vt("Tizen 3")||Vt("Tizen 2")||Bt()||Ft()),ignoreManifestTimestampsInSegmentsMode:!1},mss:{manifestPreprocessor:function(e){return ql([e],e)},sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return ql([e])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,liveSync:!1,liveSyncMaxLatency:1,liveSyncPlaybackRate:1.1};(Vt("Web0S")||Dt()||Vt("CrKey"))&&(i.stallSkip=0);var o={trackSelectionCallback:function(e){return I((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return I((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?E(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return ql([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5},a={drm:n,manifest:r,streaming:i,mediaSource:{sourceBufferExtraFeatures:"",forceTransmux:!1,insertFakeEncryptionInInit:!0},offline:o,abrFactory:function(){return new On},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:!1}};return o.trackSelectionCallback=function(e){return I((function(t){return t.return(function(e,t){var n=e.filter((function(e){return"variant"==e.type})),r=[],i=Rt(t,n.map((function(e){return e.language})));i&&(r=n.filter((function(e){return At(e.language)==i}))),0==r.length&&(r=n.filter((function(e){return e.primary}))),0==r.length&&(n.map((function(e){return e.language})),r=n);var o=r.filter((function(e){return e.height&&480>=e.height}));for(o.length&&(o.sort((function(e,t){return t.height-e.height})),r=o.filter((function(e){return e.height==o[0].height}))),t=[],r.length&&(n=Math.floor(r.length/2),r.sort((function(e,t){return e.bandwidth-t.bandwidth})),t.push(r[n])),e=l(e),r=e.next();!r.done;r=e.next())(r=r.value).type!=it&&"image"!=r.type||t.push(r);return t}(e,a.preferredAudioLanguage))}))},a}function Jl(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return Vl(e,t,n||$l(),r,"")}function Ql(){this.g=null,this.h=[]}function ef(e,t){if(null==e.g)e.g={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.g.duration=n-e.g.timestamp,e.g.state!=t&&(e.h.push(e.g),e.g={timestamp:n,state:t,duration:0})}}function tf(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var r=(e=l(e.h)).next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function nf(){this.i=this.h=null,this.g=[]}function rf(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function of(){this.u=this.A=this.F=this.C=this.s=this.j=this.D=this.m=this.i=this.O=this.P=this.I=this.K=this.L=this.l=this.o=NaN,this.g=new Ql,this.h=new nf}function af(t,n){xo.call(this);var r=this;this.l=rh,this.Dc=this.h=null,this.ha=!1,this.Nc=new Oa,this.Wb=new Oa,this.o=new Oa,this.Qb=this.i=this.Oc=this.K=this.j=this.fb=this.L=this.Ne=this.W=this.gb=this.O=this.Kc=this.I=this.Bb=this.A=this.D=this.m=this.F=null,this.bc=!1,this.ud=this.s=null,this.Od=1e9,this.g=xf(this),this.Ld={width:1/0,height:1/0},this.u=null,this.yb=new Gs(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel),this.zb=this.g.preferredTextLanguage,this.ac=this.g.preferredTextRole,this.Zb=this.g.preferForcedSubs,this.Yb=[],this.cc=null,n&&n(this),this.W=function(e){return new kl({getBandwidthEstimate:function(){return e.s?e.s.getBandwidthEstimate():NaN},Ma:function(){return e.Ma()},getCurrentTime:function(){return e.h?e.h.currentTime:0},Gc:function(){return e.Gc()},od:function(){return e.od()},Za:function(){return e.Za()},T:function(){return e.T()}},e.g.cmcd)}(this),this.F=function(e){return new Ro((function(t,n){e.s&&e.s.segmentDownloaded(t,n)}),(function(t,n,r){t=(new Map).set("headers",t).set("request",n).set("requestType",r),e.dispatchEvent(uf("downloadheadersreceived",t))}),(function(t,n,r,i){t=(new Map).set("request",t).set("error",n).set("httpResponseCode",r).set("aborted",i),e.dispatchEvent(uf("downloadfailed",t))}),(function(t,n,r){var i=e.W;if(r=void 0===r?{}:r,i.g.enabled)if("HEAD"===n.method)Nl(i,n);else switch(t){case 0:try{if(i.g.enabled){if(r.type){e:{switch(r.type){case 4:var o="d";break e;case 3:case 2:o="h";break e;case 5:o="s";break e}o=void 0}i.o=o}Nl(i,n,{ot:Ll,su:!i.i})}}catch(f){W("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",f)}break;case Lo:t=r;try{if(i.g.enabled){var a=t.segment;o=0,a&&(o=a.endTime-a.startTime);var s={d:1e3*o,st:i.h.T()?"l":"v"};s.ot=function(e){if(0===e.type)return Bl;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?Dl:jl;if("audio"==t)return Ml;if("text"==t)return"application/mp4"===e.mimeType?Fl:Ul}}(t);var u=s.ot===jl||s.ot===Ml||s.ot===Dl||s.ot===Fl,c=t.stream;c&&(u&&(s.bl=function(e,t){if(!(t=e.h.Ma()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):NaN}(i,c.type)),c.bandwidth&&(s.br=c.bandwidth/1e3)),u&&s.ot!==Fl&&(s.tb=function(e,t){var n=e.h.Za();if(!n.length)return NaN;e=n[0];for(var r=(n=l(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case jl:return e.videoBandwidth||NaN;case Ml:return e.audioBandwidth||NaN;default:return e.bandwidth}}(i,s.ot)/1e3),Nl(i,n,s)}}catch(f){W("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",f)}break;case 2:case 5:case 6:Nl(i,n,{ot:"k"});break;case 4:Nl(i,n,{ot:"o"})}}))}(this),this.F.Vd(this.g.streaming.forceHTTPS),this.C=null,ch&&(this.C=ch()),this.Nc.J(e,"online",(function(){Ff(r),r.Rd()})),this.P={name:"detach"},this.Z={name:"attach"},this.ja={name:"unload"},this.Pd={name:"manifest-parser"},this.Id={name:"manifest"},this.Ab={name:"media-source"},this.Bd={name:"drm-engine"},this.ca={name:"load"},this.Sd={name:"src-equals-drm-engine"},this.Cb={name:"src-equals"};var i=new Map;i.set(this.Z,(function(e,t){return wo(function(e,t,n){return null==t.mediaElement&&(t.mediaElement=n.mediaElement,e.Wb.J(t.mediaElement,"error",(function(){var t=Gf(e);t&&Hf(e,t)}))),e.h=t.mediaElement,Promise.resolve()}(r,e,t))})),i.set(this.P,(function(e){return e.mediaElement&&(r.Wb.Nb(),e.mediaElement=null),r.C&&r.C.release(),r.h=null,wo(e=Promise.resolve())})),i.set(this.ja,(function(e){return wo(cf(r,e))})),i.set(this.Ab,(function(e){return e=function(e,t){var n,r,i,o,a;return I((function(s){if(1==s.g)return n=e.g.textDisplayFactory,r=n(),e.Ed=n,i=function(e,t,n,r){return new au(e,t,n,r)}(t.mediaElement,r,(function(t,n,r){lf(e,t,n,r)}),e.L),i.configure(e.g.mediaSource),o=e.g.manifest,a=o.segmentRelativeVttTiming,i.O=a,E(s,i.F,2);e.D=i,T(s)}))}(r,e),wo(e)})),i.set(this.Pd,(function(e,t){return e=function(e,t,n){var r,i,o,a;return I((function(s){if(1==s.g)return t.mimeType=n.mimeType,t.uri=n.uri,r=t.uri,i=e.F,e.Qb=r,o=e,E(s,function(e,t,n,r){var i,o,a,s;return I((function(u){if(1==u.g)return r&&(i=Ea[r.toLowerCase()])?u.return(i):(o=wa(e))&&(a=Ta[o])?u.return(a):r?u.B(2):E(u,ba(e,t,n),3);if(2!=u.g&&(r=u.h)&&(s=Ea[r]))return u.return(s);throw new Ye(2,4,4e3,e)}))}(r,i,e.g.manifest.retryParameters,t.mimeType),2);o.Oc=s.h,e.K=e.Oc(),a=Ao(e.g.manifest),n.mediaElement&&"AUDIO"===n.mediaElement.nodeName&&(a.disableVideo=!0),e.K.configure(a),T(s)}))}(r,e,t),wo(e)})),i.set(this.Id,(function(e){return function(e,t){var n=t.uri;t=e.F,e.gb=new Ku((function(){return e.Ob()})),e.gb.addEventListener("regionadd",(function(t){t=t.region,Vf(e,"timelineregionadded",t),e.C&&e.C.onDashTimedMetadata(t)})),e.fb=null,e.g.streaming.observeQualityChanges&&(e.fb=new zu((function(){return e.Ma()})),e.fb.addEventListener("qualitychange",(function(t){var n=t.quality;t=t.position,n=(new Map).set("mediaQuality",{bandwidth:n.bandwidth,audioSamplingRate:n.audioSamplingRate,codecs:n.codecs,contentType:n.contentType,frameRate:n.frameRate,height:n.height,mimeType:n.mimeType,channelsCount:n.channelsCount,pixelAspectRatio:n.pixelAspectRatio,width:n.width}).set("position",t),e.dispatchEvent(uf("mediaqualitychanged",n))})));var r={networkingEngine:t,filter:function(t){return Af(e,t)},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=l(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=l(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var o=l(i.closedCaptions.keys()),a=o.next();!a.done;a=o.next())if(a=a.value,!n.has(a)){var s=a.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Zo,c=i.closedCaptions.get(a);s={id:e.Od++,originalId:a,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:c,originalLanguage:c,label:null,type:it,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1},t.textStreams.push(s),n.add(a)}}(e,t)},onTimelineRegionAdded:function(t){var n=e.gb;e:{for(var r=l(n.g),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.id==t.id&&i.startTime==t.startTime&&i.endTime==t.endTime){r=i;break e}r=null}null==r&&(n.g.add(t),t=new To("regionadd",new Map([["region",t]])),n.dispatchEvent(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return Hf(e,t)},isLowLatencyMode:function(){return e.g.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.g.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&e.j.updateDuration()},newDrmInfo:function(t){var n=e.m?e.m.g:null;n&&e.m.s&&_f(e,n.keySystem,t)}},i=Date.now()/1e3;return new mo(function(){var t,o,a,s;return I((function(u){if(1==u.g)return t=e,E(u,e.K.start(n,r),2);if(t.i=u.h,o=uf("manifestparsed"),e.dispatchEvent(o),0==e.i.variants.length)throw new Ye(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.i),a=Date.now()/1e3,s=a-i,e.u.D=s,T(u)}))}(),(function(){return e.K.stop()}))}(r,e)})),i.set(this.Bd,(function(e){return e=function(e,t){var n,r;return I((function(i){return 1==i.g?(n=Date.now()/1e3,r=!0,e.m=df(e,{mc:e.F,onError:function(t){Hf(e,t)},ze:function(t){qf(e,t)},onExpirationUpdated:function(t,n){zf(e,t,n)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&r&&(r=!1,e.u.j=Date.now()/1e3-n,e.L&&((t=e.L).g&&t.h.classList.add("shaka-hidden")))}}),e.m.configure(e.g.drm),E(i,La(e.m,e.i.variants,e.i.offlineSessionIds),2)):3!=i.g?E(i,e.m.Xb(t.mediaElement),3):E(i,Af(e,e.i),0)}))}(r,e),wo(e)})),i.set(this.ca,(function(e,t){return wo(function(e,t,n){var r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b,w;return I((function(x){switch(x.g){case 1:for(t.startTime=n.startTime,null!=e.cc&&(t.startTime=e.cc,e.cc=null),r=t.mediaElement,i=t.uri,e.Qb=i,e.I=new Ou({Ic:function(){return r.playbackRate},Ec:function(){return r.defaultPlaybackRate},Wd:function(e){r.playbackRate=e},we:function(e){r.currentTime+=e}}),o=function(){return kf(e)},a=function(){return Rf(e)},e.o.J(r,"playing",o),e.o.J(r,"pause",o),e.o.J(r,"ended",o),e.o.J(r,"ratechange",a),function(e,t){if(t.lcevc.enabled){var n=e.Za();n&&n[0]&&n[0].videoMimeType==lh.ts&&(Mt()||navigator.userAgent.match(/Edge\//))&&(t.mediaSource.forceTransmux||K("LCEVC Warning: For MPEG-2 TS decoding the config.mediaSource.forceTransmux must be enabled.")),sf(e),null==e.L&&(e.L=new Ps(e.h,e.Ne,t.lcevc),e.D&&(e.D.L=e.L))}else sf(e)}(e,e.g),s=e.g.abrFactory,e.s&&e.ud==s||(e.ud=s,e.s=s(),"function"!=typeof e.s.setMediaElement&&(ai("AbrManager","Please use an AbrManager with setMediaElement function."),e.s.setMediaElement=function(){}),e.s.configure(e.g.abr)),e.yb=new Gs(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferredAudioLabel),e.zb=e.g.preferredTextLanguage,e.ac=e.g.preferredTextRole,e.Zb=e.g.preferForcedSubs,Kf(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.s.init((function(t,n,r){e.j&&t!=e.j.j&&Pf(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.s.setMediaElement(r),Wt(e.i,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredAudioChannelCount,e.g.preferredDecodingAttributes),e.j=function(e){return new rc(e.i,{Hc:function(){return e.A?e.A.yc():0},getBandwidthEstimate:function(){return e.s.getBandwidthEstimate()},N:e.D,mc:e.F,onError:function(t){return Hf(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Rf:function(){e.K&&e.K.update&&e.K.update()},Kd:function(t,n,r){e.A&&e.A.xe(),gf(e),t=(new Map).set("start",t).set("end",n).set("contentType",r),e.dispatchEvent(uf("segmentappended",t))},Qf:function(t,n){(n=n.Cd)&&e.fb&&function(e,t,n){var r=function(e,t){var n=e.g.get(t);return n||(n={oc:[],je:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.oc;t.oc=i.filter((function(e,t){return!(e.position<=n&&t+1<i.length&&i[t+1].position<=n||e.position>=r)}))}else t.oc=[]}(e,r),e={Cd:t,position:n},0<=(t=(r=r.oc).findIndex((function(e){return e.position>=n})))?r.splice(t,r[t].position==n?1:0,e):r.push(e)}(e.fb,n,t)},fe:function(t,n){var r=e.m;if(r.h.parseInbandPsshEnabled&&!r.K&&["audio","video"].includes(t)){var i=0,o=l((n=new Ui(re(n))).data);for(t=o.next();!t.done;t=o.next())i+=t.value.length;if(0==i)r=Promise.resolve();else{for(i=new Uint8Array(i),o=0,t=(n=l(n.data)).next();!t.done;t=n.next())t=t.value,i.set(t,o),o+=t.length;ja(r,"cenc",i),r=r.l}}else r=Promise.resolve();return r},Sf:function(t,n,r){lf(e,t,n,r)},kd:function(t,n){return e.kd(t,n)}})}(e),e.j.configure(e.g.streaming),e.l=ih,r.textTracks&&e.o.J(r.textTracks,"addtrack",(function(t){if(t.track&&"chapters"===(t=t.track).kind)hf(e,t)})),e.dispatchEvent(uf("streaming")),u=null,(c=e.j.j)||(u=Nf(e)?e.s.chooseVariant():null),f=[],d=l([(h=c||u).video,h.audio]),p=d.next();!p.done;p=d.next())(g=p.value)&&!g.segmentIndex&&f.push(g.createSegmentIndex());if(!(0<f.length)){x.B(2);break}return E(x,Promise.all(f),2);case 2:if(Kf(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.A=function(e,t){return new Uu(e.h,e.i,e.g.streaming,t,(function(){e.Bb&&qu(e.Bb,!0),e.j&&e.j.rc(),e.O&&gf(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.Bb=function(e,t){t=new Wu(e.gb,e.T()||0<t),t.addEventListener("enter",(function(t){Vf(e,"timelineregionenter",t.region)})),t.addEventListener("exit",(function(t){Vf(e,"timelineregionexit",t.region)})),t.addEventListener("skip",(function(t){var n=t.region;t.seeking||(Vf(e,"timelineregionenter",n),Vf(e,"timelineregionexit",n))}));var n=new Gu(e.h);return n.g.add(t),e.fb&&n.g.add(e.fb),n}(e,t.Xc),m=Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal),pf(e,m),c){x.B(4);break}if(Pf(e,u,!0,!1,0),!e.g.streaming.startAtSegmentBoundary){x.B(4);break}return y=e.A.yc(),E(x,function(e,t){var n,r,i,o,a;return I((function(s){return 1==s.g?(n=e.audio,r=e.video,i=function(e,t){var n,r,i;return I((function(o){return 1==o.g?e?E(o,e.createSegmentIndex(),2):o.return(null):(r=(n=e.segmentIndex.kb(t))?n.next().value:null)?(i=r.startTime,o.return(i)):o.return(null)}))},E(s,i(n,t),2)):3!=s.g?(o=s.h,E(s,i(r,t),3)):null!=(a=s.h)&&null!=o?s.return(Math.max(a,o)):null!=a?s.return(a):null!=o?s.return(o):s.return(t)}))}(u,y),6);case 6:v=x.h,e.A.hd(v);case 4:return e.A.gd(),e.Gb().find((function(e){return e.active}))||((b=mn(e.i.textStreams,e.zb,e.ac,e.Zb)[0]||null)&&rf(e.u.h,b,!0),u&&(b?(u.audio&&function(e,t,n){if(0==e.g.autoShowText)return!1;if(1==e.g.autoShowText)return!0;var r=At(e.g.preferredTextLanguage);return n=At(n.language),2==e.g.autoShowText?Et(n,r):3==e.g.autoShowText?(e=At(t.language),Et(n,r)&&!Et(e,n)):(K("Invalid autoShowText setting!"),!1)}(e,u.audio,b)&&(e.ha=!0),e.ha&&e.D.u.setTextVisibility(!0),Bf(e)):e.ha=!1),b&&(e.g.streaming.alwaysStreamText||e.td())&&ac(e.j,b)),E(x,e.j.start(),7);case 7:e.g.abr.enabled&&(e.s.enable(),Uf(e)),on(e.j?e.j.j:null,e.i),Xf(e.i),Mf(e),Nf(e),e.i.variants.some((function(e){return e.primary})),e.T()&&(e.g.streaming.liveSync||e.i.serviceDescription)&&(w=function(){return Cf(e)},e.o.J(r,"timeupdate",w)),e.bc=!0,e.o.oa(r,"loadedmetadata",(function(){e.u.m=Date.now()/1e3-n.Xc})),T(x)}}))}(r,e,t))})),i.set(this.Sd,(function(e,t){return e=function(e,t,n){var r,i,o,a,s,u,c;return I((function(l){return 1==l.g?(r=ot,i=Date.now()/1e3,o=!0,e.m=df(e,{mc:e.F,onError:function(t){Hf(e,t)},ze:function(t){qf(e,t)},onExpirationUpdated:function(t,n){zf(e,t,n)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&o&&(o=!1,e.u.j=Date.now()/1e3-i)}}),e.m.configure(e.g.drm),a=n.uri||"",s=wa(a),"application/x-mpegurl"==(u=lh[s])&&Ut()&&(u="application/vnd.apple.mpegurl"),u||(u="video/mp4"),c={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:u,codecs:n.mimeType?ht(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.Aa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},e.m.Z=!0,E(l,La(e.m,[c],[]),2)):E(l,e.m.Xb(t.mediaElement),0)}))}(r,e,t),wo(e)})),i.set(this.Cb,(function(e,t){return function(e,t,n){function r(){return kf(e)}t.uri=n.uri,t.startTime=n.startTime,e.Qb=t.uri;var i=t.mediaElement;e.A=new Bu(i);var o=!1;e.Yb.push((function(){o=!0})),null!=t.startTime&&e.A.hd(t.startTime),e.I=new Ou({Ic:function(){return i.playbackRate},Ec:function(){return i.defaultPlaybackRate},Wd:function(e){i.playbackRate=e},we:function(e){i.currentTime+=e}}),pf(e,e.g.streaming.rebufferingGoal),e.o.J(i,"playing",r),e.o.J(i,"pause",r),e.o.J(i,"ended",r),e.o.J(i,"ratechange",(function(){return Rf(e)})),"none"!=i.preload&&e.o.oa(i,"loadedmetadata",(function(){e.u.m=Date.now()/1e3-n.Xc})),i.audioTracks&&(e.o.J(i.audioTracks,"addtrack",(function(){return Mf(e)})),e.o.J(i.audioTracks,"removetrack",(function(){return Mf(e)})),e.o.J(i.audioTracks,"change",(function(){return Mf(e)}))),i.textTracks&&(e.o.J(i.textTracks,"addtrack",(function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.o.J(t,"cuechange",(function(){if(t.activeCues)for(var n=l(t.activeCues),r=n.next();!r.done;r=n.next())r=r.value,ff(e,r.startTime,r.endTime,r.type,r.value),e.C&&e.C.onCueMetadataChange(r.value)}));var n=new It((function(){for(var t=function(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=l(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).Zd().V(.5);e.Yb.push((function(){n.stop()}))}}(e,t);break;case"chapters":hf(e,t);break;default:Mf(e)}})),e.o.J(i.textTracks,"removetrack",(function(){return Mf(e)})),e.o.J(i.textTracks,"change",(function(){return Mf(e)})));var a=wa(t.uri);i.src=function(e,t,n){try{if(!e.g.enabled)return t;var r=Cl(e);e:{switch(n){case"video/webm":case"video/mp4":var i=Dl;break e;case"application/x-mpegurl":i=Ll;break e}i=void 0}return r.ot=i,r.su=!0,Pl(t,Il(r))}catch(a){return W("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),t}}(e.W,t.uri,lh[a]),(Dt()||Vt("Web0S"))&&i.load(),e.l=oh,e.dispatchEvent(uf("streaming"));var s=new go;return ku(i,HTMLMediaElement.HAVE_METADATA,e.o,(function(){e.A.gd(),s.resolve()})),ku(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.o,(function(){var t;return I((function(n){return 1==n.g?(function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.De(t,e.g.preferredVariantRole)}(e),(t=yf(e)).find((function(e){return"disabled"!=e.mode}))?(0<t.length&&(e.ha=!0),n.B(2)):E(n,new Promise((function(t){e.o.oa(i.textTracks,"change",t),new It(t).V(1)})),2)):o?n.return():(function(e){var t=e.g.preferredTextLanguage;""!=t&&e.Ee(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),void T(n))}))})),i.error?s.reject(Gf(e)):"none"==i.preload&&(K('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),e.o.oa(i,"error",(function(){s.reject(Gf(e))})),new mo(s,(function(){return s.reject(new Ye(2,7,7001)),Promise.resolve()})).ka((function(){e.T()&&e.g.streaming.liveSync&&e.o.J(i,"timeupdate",(function(){return Cf(e)})),e.bc=!0}))}(r,e,t)})),this.hb=new hl(this.P,{rf:function(e,t,n,i){var o=null;return e==r.P&&(o=n==r.P?r.P:r.Z),e==r.Z&&(o=n==r.P||t.mediaElement!=i.mediaElement?r.P:n==r.Z?r.Z:n==r.Ab||n==r.ca?r.Ab:n==r.Cb?r.Sd:null),e==r.Ab&&(o=n==r.ca&&t.mediaElement==i.mediaElement?r.Pd:r.ja),e==r.Pd&&(o=Qf(r.ca,r.Id,r.ja,n,t,i)),e==r.Id&&(o=Qf(r.ca,r.Bd,r.ja,n,t,i)),e==r.Bd&&(o=Qf(r.ca,r.ca,r.ja,n,t,i)),e==r.Sd&&(o=n==r.Cb&&t.mediaElement==i.mediaElement?r.Cb:r.ja),e!=r.ca&&e!=r.Cb||(o=r.ja),e==r.ja&&(o=i.mediaElement&&t.mediaElement==i.mediaElement?r.Z:r.P),o},Ze:function(e,t,n){return r.dispatchEvent(uf("onstatechange",(new Map).set("state",e.name))),i.get(e)(t,n)},handleError:function(e){return I((function(t){return 1==t.g?E(t,cf(r,e),2):t.return(e.mediaElement?r.Z:r.P)}))},Pf:function(e){r.dispatchEvent(uf("onstateidle",(new Map).set("state",e.name)))}}),this.Mc=new It((function(){return function(e){function t(e){var t="";return e.video&&(t+="video:"+e.video.id),e.audio&&(t=t+(t?"&":"")+"audio:"+e.audio.id),t}for(var n=Date.now()/1e3,r=!1,i=l(e.i.variants),o=i.next();!o.done;o=i.next())0<(o=o.value).disabledUntilTime&&o.disabledUntilTime<=n&&(o.disabledUntilTime=0,r=!0,t(o));e.i.variants.every((function(e){return 0===e.disabledUntilTime}))&&e.Mc.stop(),r&&If(e,!0,void 0,!1,!1)}(r)})),t&&this.Xb(t,!0)}function sf(e){null!=e.L&&(e.L.release(),e.L=null)}function uf(e,t){return new To(e,t)}function cf(e,t){var n,r,i,o,a,s,u,c,f;return I((function(h){switch(h.g){case 1:return e.l!=nh&&(e.l=rh),n=e.Yb.map((function(e){return e()})),e.Yb=[],E(h,Promise.all(n),2);case 2:if(e.dispatchEvent(uf("unloading")),t.mimeType=null,t.startTime=null,t.uri=null,e.gb&&(e.gb.release(),e.gb=null),t.mediaElement&&e.o.Nb(),e.Mc.stop(),e.Bb&&(e.Bb.release(),e.Bb=null),e.Kc&&(e.Kc.stop(),e.Kc=null),!e.K){h.B(3);break}return E(h,e.K.stop(),4);case 4:e.K=null,e.Oc=null;case 3:if(!e.s){h.B(5);break}return E(h,e.s.stop(),5);case 5:if(!e.j){h.B(7);break}return E(h,e.j.destroy(),8);case 8:e.j=null;case 7:if(e.I&&(e.I.release(),e.I=null),e.A&&(e.A.release(),e.A=null),!e.D){h.B(9);break}return E(h,e.D.destroy(),10);case 10:e.D=null;case 9:if(e.C&&e.C.onAssetUnload(),!t.mediaElement||!t.mediaElement.src){h.B(11);break}return E(h,new Promise((function(e){return new It(e).V(.1)})),12);case 12:for(t.mediaElement.removeAttribute("src"),t.mediaElement.load();t.mediaElement.lastChild;)t.mediaElement.removeChild(t.mediaElement.firstChild);case 11:if(!e.m){h.B(13);break}return E(h,e.m.destroy(),14);case 14:e.m=null;case 13:if(e.Qb=null,e.O=null,e.i){for(r=l(e.i.variants),i=r.next();!i.done;i=r.next())for(o=i.value,a=l([o.audio,o.video]),s=a.next();!s.done;s=a.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(c=l(e.i.textStreams),s=c.next();!s.done;s=c.next())(f=s.value).segmentIndex&&f.segmentIndex.release()}e.i=null,e.u=new of,e.Ed=null,Of(e),T(h)}}))}function lf(e,t,n,r){for(var i=(t=l(t)).next();!i.done;i=t.next())if((i=i.value).data&&i.cueTime&&i.frames){var o=i.cueTime+n,a=r;a&&o>a&&(a=o);for(var s=l(i.frames),u=s.next();!u.done;u=s.next())ff(e,o,a,"org.id3",u.value);e.C&&e.C.onHlsTimedMetadata(i,o)}}function ff(e,t,n,r,i){t=(new Map).set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(uf("metadata",t))}function hf(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new It((function(){t.mode="hidden"})).Zd().V(.5);e.Yb.push((function(){n.stop()}))}}function df(e,t){return new Pa(t,e.g.drm.updateExpirationTime)}function pf(e,t){e.O=new qs,e.O.g=Ks,zs(e.O,t,Math.min(.5,t/2)),Of(e),e.Kc=new It((function(){gf(e)})).sa(.25)}function gf(e){switch(e.l){case oh:if(e.h.ended)var t=!0;else{var n=$s(e.h.buffered);t=null!=n&&n>=e.h.duration-1}break;case ih:e:if(e.h.ended||lu(e.D))t=!0;else{if(e.i.presentationTimeline.T()){n=e.i.presentationTimeline.lb();var r=$s(e.h.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=Qs(e.h.buffered,e.h.currentTime);var i=t,o=(n=e.O).h.get(n.g);t=n.g,r=i||r>=o?Ws:Ks,n.g=r,t!=r&&Of(e)}function mf(e){if(e.K){var t=Ao(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(t.disableVideo=!0),e.K.configure(t)}if(e.m&&e.m.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{Sf(e,e.i)}catch(o){Hf(e,o)}e.s&&Nf(e),!(t=e.j.j)||t.allowedByApplication&&t.allowedByKeySystem||If(e)}if(e.F&&e.F.Vd(e.g.streaming.forceHTTPS),e.D&&(e.D.configure(e.g.mediaSource),e.D.O=e.g.manifest.segmentRelativeVttTiming,t=e.g.textDisplayFactory,e.Ed!=t)){var n=t(),r=e.D,i=r.u;r.u=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.g&&(r.g.j=n),e.Ed=t,e.j&&((n=(t=e.j).h.get(it))&&sc(t,n.stream,!0,0,!0))}e.s&&(e.s.configure(e.g.abr),e.g.abr.enabled?e.s.enable():e.s.disable(),Uf(e)),e.O&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),zs(e.O,t,Math.min(.5,t/2))),e.i&&Kf(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.C&&e.C.configure(e.g.ads),e.W&&e.W.configure(e.g.cmcd)}function yf(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function vf(e){return Array.from(e.h.textTracks).filter((function(e){return"chapters"==e.kind}))}function bf(e,t){var n,r;return I((function(i){switch(i.g){case 1:return n=wa(t),(r=fh[n])?i.return(r):(x(i,2),E(i,ba(t,e.F,e.g.streaming.retryParameters),4));case 4:r=i.h,A(i,3);break;case 2:S(i);case 3:if(r)return i.return(r);throw new Ye(1,2,2011,n)}}))}function wf(e,t,n,r,i,o,a){var s,u,c,l;return I((function(f){if(1==f.g)return"text/vtt"!=i||a.length?E(f,Ef(e,t,e.F,e.g.streaming.retryParameters),3):f.B(2);2!=f.g&&(s=f.h,u=Tf(e,s,i,a),c=new Blob([u],{type:"text/vtt"}),t=Su(c),i="text/vtt"),l=document.createElement("track");var h=e.W,d=t;try{if(h.g.enabled){var p=Cl(h);p.ot=Ul,p.su=!0;var g=Pl(d,Il(p))}else g=d}catch(m){W("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",m),g=d}return l.src=g,l.label=o,l.kind=r,l.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(l),f.return(l)}))}function Ef(e,t,n,r){var i,o,a;return I((function(s){if(1==s.g){i=Lo,(o=Co([t],r)).method="GET";var u=e.W;try{u.g.enabled&&Nl(u,o,{ot:Ul,su:!0})}catch(c){W("CMCD_TEXT_ERROR","Could not generate text CMCD data.",c)}return E(s,n.request(i,o).promise,2)}return a=s.h,s.return(a.data)}))}function Tf(e,t,n,r){var i=bt[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=re(t),function(e,t){function n(e){for(var n=e,r=l(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=yl(e);e="WEBVTT\n\n";for(var i=(r=l(r)).next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case me:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.S+"\n\n";return e}(t=n.parseMedia(t,e),r);throw new Ye(2,2,2014,n)}function xf(e){var t=$l();return t.streaming.failureCallback=function(t){if(e.T()){var n=null;1001==t.code||1002==t.code?n=1:1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.Rd(n))}},t.textDisplayFactory=function(){return e.Dc?new xl(e.h,e.Dc):new vl(e.h)},t}function Af(e,t){return I((function(n){if(1==n.g)return E(n,function(e,t){return I((function(n){if(1==n.g)return E(n,$t(e.j?e.j.j:null,t),2);Xf(t),T(n)}))}(e,t),2);Sf(e,t),T(n)}))}function Sf(e,t){if(e.l!=nh){for(var n=e.g.restrictions,r=e.Ld,i=!1,o=l(t.variants),a=o.next();!a.done;a=o.next()){var s=(a=a.value).allowedByApplication;a.allowedByApplication=Zt(a,n,r),s!=a.allowedByApplication&&(i=!0)}if(i&&e.j&&Mf(e),(n=e.m?e.m.g:null)&&e.m.s)for(i=(r=l(t.variants)).next();!i.done;i=r.next())i=i.value,_f(e,n.keySystem,i.video),_f(e,n.keySystem,i.audio);Wf(e,t)}}function _f(e,t,n){if(n)for(var r=(n=l(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t)for(var i=(r=l(r.initData||[])).next();!i.done;i=r.next())i=i.value,ja(e.m,i.initDataType,i.initData)}function Of(e){var t=e.te();if(e.u&&e.O&&e.A){var n=e.I;n.j=t,Ru(n),e.W&&(n=e.W,t||n.i||(n.i=!0),n.i&&t&&(n.l=!0),n.m=t),kf(e)}t=(new Map).set("buffering",t),e.dispatchEvent(uf("buffering",t))}function Rf(e){var t=e.h.playbackRate;0!=t&&(e.I&&e.I.set(t),t=uf("ratechange"),e.dispatchEvent(t))}function kf(e){if(e.u&&e.O){var t=e.u.g;e.O.g==Ks?ef(t,"buffering"):e.h.paused?ef(t,"paused"):e.h.ended?ef(t,"ended"):ef(t,"playing")}}function Cf(e){if(e.T()){var t=e.Ob();if(Number.isFinite(t.end)&&!(e.h.currentTime<t.start)){if(e.g.streaming.liveSync)var n=e.g.streaming.liveSyncMaxLatency,r=e.g.streaming.liveSyncPlaybackRate;else e.i&&e.i.serviceDescription&&(n=e.i.serviceDescription.maxLatency||e.g.streaming.liveSyncMaxLatency,r=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSyncPlaybackRate);var i=e.h.playbackRate,o=t.end-e.h.currentTime,a=0;if(e.l==oh){var s=e.h.buffered;0<s.length&&(a=s.end(s.length-1),a=Math.max(r,a-t.end))}n&&r&&o-a>n?i!=r&&e.Me(r):1!==i&&0!==i&&e.ge()}}}function Nf(e){try{Wf(e,e.i)}catch(n){return Hf(e,n),!1}var t=function(e){return e.filter((function(e){return pn(e)}))}(e.i.variants);return t=e.yb.create(t),e.s.setVariants(Array.from(t.values())),!0}function If(e,t,n,r,i){var o;t=void 0===t||t,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(o=Nf(e)?e.s.chooseVariant():null)&&Pf(e,o,i,t,n,r)}function Pf(e,t,n,r,i,o){o=void 0!==o&&o;var a=e.j.j;if(t==a)r&&oc(e.j,t,r,i,!0);else{var s=e.u.h;s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),oc(e.j,t,r,i,o,n),r=null,a&&(r=sn(a)),t=sn(t),n?(n=(new Map).set("oldTrack",r).set("newTrack",t),e.L&&Ls(e.L,t),Yf(e,n=uf("adaptation",n))):jf(e,r,t)}}function Lf(e,t){var n=Array.from(e.h.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,t.id!==n.id&&(n.enabled=!1),jf(e,n=hn(n),t=hn(t))}function Mf(e){Yf(e,uf("trackschanged"))}function jf(e,t,n){t=(new Map).set("oldTrack",t).set("newTrack",n),e.L&&Ls(e.L,n),Yf(e,n=uf("variantchanged",t))}function Df(e){Yf(e,uf("textchanged"))}function Bf(e){Yf(e,uf("texttrackvisibility"))}function Uf(e){e.g.abr.enabled||Ff(e),Yf(e,uf("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function Ff(e,t){if(t=void 0===t||t,e.l==ih){e.Mc.stop();for(var n=l(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Nf(e)}}function Hf(e,t){if(e.l!=nh){2===t.severity&&Ff(e,!1);var n=uf("error",(new Map).set("detail",t));e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function Vf(e,t,n){n=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(uf(t,n))}function Gf(e){if(!e.h.error)return null;var t=e.h.error.code;if(1==t)return null;var n=e.h.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new Ye(2,3,3016,t,n,e.h.error.message)}function qf(e,t){if(e.j){var n=Object.keys(t),r=1==n.length&&"00"==n[0],i=!1;if(n.length)for(var o=(n=l(e.i.variants)).next();!o.done;o=n.next()){var a=[];(o=o.value).audio&&a.push(o.audio),o.video&&a.push(o.video);for(var s=(a=l(a)).next();!s.done;s=a.next()){var u=s.value;if(s=o.allowedByKeySystem,u.keyIds.size){o.allowedByKeySystem=!0;for(var c=(u=l(u.keyIds)).next();!c.done;c=u.next())c=c.value,c=t[r?"00":c],o.allowedByKeySystem=o.allowedByKeySystem&&!!c&&!sh.includes(c)}s!=o.allowedByKeySystem&&(i=!0)}}i&&!Nf(e)||((t=e.j.j)&&!t.allowedByKeySystem&&If(e),i&&Mf(e))}}function zf(e,t,n){e.K&&e.K.onExpirationUpdated&&e.K.onExpirationUpdated(t,n),t=uf("expirationupdated"),e.dispatchEvent(t)}function Kf(e,t,n){0<t&&(e.T()||e.Je(t)),n<(t=e.getDuration())&&(e.T()||e.Va(n))}function Wf(e,t){e=e.m?e.m.Fc():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var r=!1,i=!1,o=new Set,a=new Set,s=(t=l(t.variants)).next();!s.done;s=t.next()){var u=[];(s=s.value).audio&&u.push(s.audio),s.video&&u.push(s.video);for(var c=(u=l(u)).next();!c.done;c=u.next())if((c=c.value).keyIds.size)for(var f=(c=l(c.keyIds)).next();!f.done;f=c.next()){f=f.value;var h=e[n?"00":f];h?sh.includes(h)&&a.add(h):o.add(f)}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new Ye(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(a)})}function Xf(e){if(!e.variants.some(pn))throw new Ye(2,4,4032)}function Yf(e,t){I((function(n){if(1==n.g)return E(n,Promise.resolve(),2);e.l!=nh&&e.dispatchEvent(t),T(n)}))}function Zf(e){for(var t=new Set,n=(e=l(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(At(n.language)):t.add("und");return t}function $f(e){for(var t=new Map,n=new Map,r=(e=l(e)).next();!r.done;r=e.next()){var i="und",o=[];(r=r.value).language&&(i=At(r.language)),(o="variant"==r.type?r.audioRoles:r.roles)&&o.length||(o=[""]),t.has(i)||t.set(i,new Set);for(var a=(o=l(o)).next();!a.done;a=o.next())a=a.value,t.get(i).add(a),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(a,r.label))}var s=[];return t.forEach((function(e,t){for(var r=(e=l(e)).next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}})),s}function Jf(){return new Ye(2,7,7e3)}function Qf(e,t,n,r,i,o){return r==e&&i.mediaElement==o.mediaElement&&i.uri==o.uri&&i.mimeType==o.mimeType?t:n}function eh(){return{mediaElement:null,mimeType:null,startTime:null,Xc:NaN,uri:null}}function th(e){return new Promise((function(t,n){e.qb=function(){return n(Jf())},e.Uc=function(){return t()},e.onError=function(e){return n(e)},e.Vc=function(){return n(Jf())}}))}F("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",rg:"s",OTHER:"o"}),F("shaka.util.ConfigUtils",Hl),Hl.convertToConfigObject=Gl,Hl.mergeConfigObjects=Vl,F("shaka.util.FairPlayUtils",zl),zl.commonFairPlayResponse=function(e,t){if(2===e){try{var n=Rr(t.data)}catch(i){return}e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(i){}e&&(t.data=ne(ki(n)))}},zl.expressplayFairPlayRequest=function(e,t){Yl(e,t)},zl.conaxFairPlayRequest=function(e,t){Yl(e,t)},zl.ezdrmFairPlayRequest=function(e,t){Yl(e,t)},zl.verimatrixFairPlayRequest=function(e,t){2===e&&(e=Ri(e=re(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Nr("spc="+e))},zl.expressplayInitDataTransform=function(e,t,n){return Xl(e,t,n)},zl.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=Cr(t).split("skd://").pop().split("?").shift(),r=e.atob(r);var i=new ArrayBuffer(2*r.length);i=new Uint16Array(i);for(var o=0,a=r.length;o<a;o++)i[o]=r.charCodeAt(o);return Wl(t,i,n)},zl.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,Wl(e,n=Cr(e).split(";").pop(),t))},zl.verimatrixInitDataTransform=function(e,t,n){return Xl(e,t,n)},zl.initDataTransform=Wl,zl.defaultGetContentId=Kl,zl.isFairPlaySupported=function(){var e;return I((function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},x(t,2),E(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(S(t),t.return(!1))}))},F("shaka.util.PlayerConfiguration",Zl),Zl.mergeConfigObjects=Jl,Zl.createDefault=$l,y(af,xo),(r=af.prototype).destroy=function(){var e,t=this;return I((function(n){switch(n.g){case 1:return t.l==nh?n.return():(sf(t),t.l=nh,e=dl(t.hb,(function(){return{node:t.P,S:eh(),nb:!1}})),E(n,new Promise((function(t){e.Kb=function(){},e.Uc=function(){t()},e.qb=function(){t()},e.onError=function(){t()},e.Vc=function(){t()}})),2));case 2:return E(n,t.hb.destroy(),3);case 3:if(t.Nc&&(t.Nc.release(),t.Nc=null),t.Wb&&(t.Wb.release(),t.Wb=null),t.o&&(t.o.release(),t.o=null),t.ud=null,t.g=null,t.u=null,t.Dc=null,t.W=null,!t.F){n.B(4);break}return E(n,t.F.destroy(),5);case 5:t.F=null;case 4:t.s&&(t.s.release(),t.s=null),xo.prototype.release.call(t),T(n)}}))},r.Xb=function(e,t){if(t=void 0===t||t,this.l==nh)return Promise.reject(Jf());var n=eh();n.mediaElement=e,Pt()||(t=!1);var r=t?this.Ab:this.Z;return(e=dl(this.hb,(function(){return{node:r,S:n,nb:!1}}))).Kb=function(){},th(e)},r.Te=function(e){this.Ne=e},r.detach=function(){var e=this;if(this.l==nh)return Promise.reject(Jf());var t=dl(this.hb,(function(){return{node:e.P,S:eh(),nb:!1}}));return t.Kb=function(){},th(t)},r.ig=function(e){var t=this;if(e=void 0===e||e,this.l==nh)return Promise.reject(Jf());this.bc=!1,Pt()||(e=!1),sf(this);var n=eh(),r=dl(this.hb,(function(r){var i=r.mediaElement&&e?t.Ab:r.mediaElement?t.Z:t.P;return n.mediaElement=r.mediaElement,{node:i,S:n,nb:!1}}));return r.Kb=function(){},th(r)},r.mg=function(e){this.cc=e},r.load=function(e,t,n){var r=this;if(this.cc=null,this.bc=!1,this.l==nh)return Promise.reject(Jf());this.dispatchEvent(uf("loading"));var i=eh();i.uri=e,i.Xc=Date.now()/1e3,n&&(i.mimeType=n),void 0!==t&&(i.startTime=t);var o=function(e,t){if(!Pt())return!0;var n=t.mimeType,r=t.uri||"";if(n||(n=wa(r),n=lh[n]),n){if(""==(t.mediaElement||Gt()).canPlayType(n))return!1;if(!Pt()||!(n in Ea)&&!(wa(r)in Ta)||("application/x-mpegurl"===n||"application/vnd.apple.mpegurl"===n)&&e.g.streaming.preferNativeHls)return!0;if(Ut())return e.g.streaming.useNativeHlsOnSafari}return!1}(this,i)?this.Cb:this.ca,a=dl(this.hb,(function(e){return null==e.mediaElement?null:(i.mediaElement=e.mediaElement,{node:o,S:i,nb:!0})}));return this.u=new of,a.Kb=function(){},new Promise((function(e,t){a.Vc=function(){return t(new Ye(2,7,7002))},a.Uc=function(){e(),r.dispatchEvent(uf("loaded"))},a.qb=function(){return t(Jf())},a.onError=function(e){return t(e)}}))},r.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Gl(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(ai("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(ai("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&e.streaming.lowLatencyMode&&(null==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),null==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01),null==e.streaming.segmentPrefetchLimit&&(e.streaming.segmentPrefetchLimit=2));var n=Jl(this.g,e,xf(this));return mf(this),n},r.getConfiguration=function(){var e=xf(this);return Jl(e,this.g,xf(this)),e},r.df=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.Ob().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},r.Yf=function(){for(var e in this.g)delete this.g[e];Jl(this.g,xf(this),xf(this)),mf(this)},r.kf=function(){return this.l},r.nf=function(){return this.i?this.i.type:null},r.qf=function(){return this.h},r.od=function(){return this.F},r.af=function(){return this.Qb},r.$e=function(){return this.C?this.C:null},r.T=function(){return this.i?this.i.presentationTimeline.T():!(!this.h||!this.h.src)&&1/0==this.h.duration},r.Hb=function(){return!!this.i&&this.i.presentationTimeline.Hb()},r.Gf=function(){if(this.i){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Ob=function(){if(!this.bc)return{start:0,end:0};if(this.i){var e=this.i.presentationTimeline;return{start:e.Fb(),end:e.Na()}}return this.h&&this.h.src&&(e=this.h.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},r.Df=function(){this.T()&&(this.h.currentTime=this.Ob().end)},r.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},r.drmInfo=function(){return this.m?this.m.g:null},r.nd=function(){return this.m?this.m.nd():1/0},r.ld=function(){return this.m?this.m.ld():[]},r.Fc=function(){return this.m?this.m.Fc():{}},r.te=function(){return!!this.O&&this.O.g==Ks},r.Gc=function(){return this.h?this.I?this.I.i:1:0},r.Me=function(e){0==e?K("A trick play rate of 0 is unsupported!"):(this.h.paused&&this.h.play(),this.I.set(e),this.l==ih&&(this.s.playbackRateChanged(e),ic(this.j,1<Math.abs(e))))},r.ge=function(){var e=this.I.Ec();this.l==oh&&this.I.set(e),this.l==ih&&(this.I.set(e),this.s.playbackRateChanged(e),ic(this.j,!1))},r.Za=function(){if(this.i){for(var e=this.j?this.j.j:null,t=[],n=0,r=l(this.i.variants),i=r.next();!i.done;i=r.next())if(pn(i=i.value)){var o=sn(i);o.active=i==e,o.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(e){return hn(e)})):[]},r.Gb=function(){if(this.i){for(var e=this.j?this.j.o:null,t=[],n=l(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=un(r=r.value);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?yf(this).map((function(e){return fn(e)})):[]},r.jf=function(){return this.i?this.i.imageStreams.map((function(e){return cn(e)})):[]},r.yf=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,d,p,g,m,y,v,b,w,T,x=this;return I((function(A){return 1==A.g?x.i?(n=x.i.imageStreams.find((function(t){return t.id==e})))?n.segmentIndex?A.B(3):E(A,n.createSegmentIndex(),3):A.return(null):A.B(2):2!=A.g?null==(r=n.segmentIndex.find(t))?A.return(null):(i=n.segmentIndex.get(r),o=i.tilesLayout||n.tilesLayout,(a=/(\d+)x(\d+)/.exec(o))?(s=n.width||0,u=n.height||0,c=parseInt(a[1],10),l=parseInt(a[2],10),f=s/c,h=u/l,d=c*l,p=i.l-i.startTime,g=i.I||p/d,m=i.startTime,v=y=0,1<d&&(b=Math.floor((t-i.startTime)/g),m=i.startTime+b*g,y=b%c*f,v=Math.floor(b/c)*h),w=!1,(T=i.F)&&(w=!0,h=T.height,y=T.positionX,v=T.positionY,f=T.width),A.return({imageHeight:u,imageWidth:s,height:h,positionX:y,positionY:v,startTime:m,duration:g,uris:i.Oa(),width:f,sprite:w})):A.return(null)):A.return(null)}))},r.Fe=function(e){if(this.i&&this.j){var t=this.i.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.j.o&&(rf(this.u.h,t,!1),ac(this.j,t),Df(this),this.zb=t.language)}else if(this.h&&this.h.src&&this.h.textTracks){for(var n=(t=l(t=yf(this))).next();!n.done;n=t.next())ln(n=n.value)==e.id?n.mode=this.ha?"showing":"hidden":n.mode="disabled";Df(this)}},r.Ud=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.j){this.g.abr.enabled&&K("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.i.variants.find((function(t){return t.id==e.id}));r&&pn(r)&&(Pf(this,r,!1,t,n),this.yb=new Vs(r),Nf(this))}else if(this.h&&this.h.audioTracks)for(n=(t=l(t=Array.from(this.h.audioTracks))).next();!n.done;n=t.next())if(ln(n=n.value)==e.id){Lf(this,n);break}},r.cf=function(){return $f(this.Za())},r.wf=function(){return $f(this.Gb())},r.bf=function(){return Array.from(Zf(this.Za()))},r.vf=function(){return Array.from(Zf(this.Gb()))},r.De=function(e,t,n,r){if(n=void 0===n?0:n,r=void 0===r?0:r,this.i&&this.A){this.yb=new Gs(e,t||"",n,"",""),e=function(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0},t=this.j.j;var i=this.yb.create(this.i.variants);n=null;for(var o=(i=l(i.values())).next();!o.done;o=i.next())o=o.value,(!n||e(n,t)>e(o,t))&&(n=o);n?(e=sn(n),this.Ud(e,!0,r)):If(this)}else this.h&&this.h.audioTracks&&(r=mn(this.Za(),e,t||"",!1)[0])&&this.Ud(r)},r.Ee=function(e,t,n){n=void 0!==n&&n,this.i&&this.A?(this.zb=e,this.ac=t||"",this.Zb=n,(e=mn(this.i.textStreams,this.zb,this.ac,this.Zb)[0]||null)&&e!=this.j.o&&(rf(this.u.h,e,!1),this.g.streaming.alwaysStreamText||this.td())&&(ac(this.j,e),Df(this))):(e=mn(this.Gb(),e,t||"",n)[0])&&this.Fe(e)},r.bg=function(e,t,n){if(t=void 0===t||t,n=void 0===n?0:n,this.i&&this.A){for(var r=null,i=l(this.i.variants),o=i.next();!o.done;o=i.next())if((o=o.value).audio.label==e){r=o;break}null!=r&&(this.yb=new Gs(r.language,"",0,"",e),If(this,t,n))}else if(this.h&&this.h.audioTracks){for(t=null,r=(n=l(n=Array.from(this.h.audioTracks))).next();!r.done;r=n.next())(r=r.value).label==e&&(t=r);t&&Lf(this,t)}},r.td=function(){var e=this.ha;return this.D?this.D.u.isTextVisible():this.h&&this.h.src&&this.h.textTracks?yf(this).some((function(e){return"showing"==e.mode})):e},r.oe=function(){return this.h&&this.h.src&&this.h.textTracks?vf(this).map((function(e){return fn(e)})):[]},r.ef=function(e){var t=At(e),n=vf(this).filter((function(e){return At(e.language)==t}));if(!n||!n.length)return[];e=[];for(var r=new Set,i=(n=l(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var o=(i=l(i.cues)).next();!o.done;o=i.next()){var a=o.value;(o=a.id)&&""!=o||(o=a.startTime+"-"+a.endTime+"-"+a.text),a={id:o,title:a.text,startTime:a.startTime,endTime:a.endTime},r.has(o)||(e.push(a),r.add(o))}return e},r.fg=function(e){if(e=!!e,this.ha!=e){if(this.ha=e,this.l==ih)this.D.u.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.o||0<(e=mn(this.i.textStreams,this.zb,this.ac,this.Zb)).length&&(ac(this.j,e[0]),Df(this)):function(e){var t=e.h.get(it);t&&(vc(t),bc(t).catch((function(){})),e.h.delete(it)),e.o=null}(this.j));else if(this.h&&this.h.src&&this.h.textTracks)for(var t=yf(this),n=(t=l(t)).next();!n.done;n=t.next())"disabled"!=(n=n.value).mode&&(n.mode=e?"showing":"hidden");Bf(this)}},r.tf=function(){if(!this.T())return null;var e=this.hb.l,t=0;if(this.A)t=this.A.yc();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+t)):this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},r.pe=function(){if(!this.T())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.h&&this.h.getStartDate){var e=this.h.getStartDate();return isNaN(e.getTime())?null:e}return null},r.Ma=function(){if(this.l==ih)return this.D.Ma();var e={total:[],audio:[],video:[],text:[]};return this.l==oh&&(e.total=eu(this.h.buffered)),e},r.getStats=function(){if(this.l!=ih&&this.l!=oh)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};kf(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.u;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.A&&(this.u.O=this.A.ce(),this.u.P=this.A.de()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.u;var r=Number(n.totalVideoFrames);t.L=Number(n.droppedVideoFrames),t.K=r,this.u.I=Number(n.corruptedVideoFrames)}this.m?n=(n=this.m).I?n.I:NaN:n=NaN,this.u.s=n,this.l==ih&&((n=this.j.j)&&(this.u.A=(this.I?this.I.i:1)*n.bandwidth),n&&n.video&&(t=this.u,r=n.video.height||NaN,t.o=n.video.width||NaN,t.l=r),this.T()&&(n=this.pe().valueOf()+1e3*this.Ob().end,this.u.C=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.u.F=this.i.presentationTimeline.g),n=this.s.getBandwidthEstimate(),this.u.u=n),this.l==oh&&(n=this.u,t=e.videoHeight||NaN,n.o=e.videoWidth||NaN,n.l=t);var i=this.u;e=i.o,n=i.l,t=i.A,r=i.K;for(var o=i.L,a=i.I,s=i.P,u=i.O,c=i.u,f=i.i,h=i.m,d=i.D,p=i.j,g=tf(i.g,"playing"),m=tf(i.g,"paused"),y=tf(i.g,"buffering"),v=i.s,b=i.C,w=i.F,E=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=l(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(i.g),T=[],x=(i=l(i.h.g)).next();!x.done;x=i.next())x=x.value,T.push({timestamp:x.timestamp,id:x.id,type:x.type,fromAdaptation:x.fromAdaptation,bandwidth:x.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:o,corruptedFrames:a,stallsDetected:s,gapsJumped:u,estimatedBandwidth:c,completionPercent:f,loadLatency:h,manifestTimeSeconds:d,drmTimeSeconds:p,playTime:g,pauseTime:m,bufferingTime:y,licenseTime:v,liveLatency:b,maxSegmentDuration:w,stateHistory:E,switchHistory:T}},r.Re=function(e,t,n,r,i,o,a){a=void 0!==a&&a;var s,u,c,l,f,h,d,p,g,m,y=this;return I((function(v){switch(v.g){case 1:if(y.l!=ih&&y.l!=oh)throw new Ye(1,7,7004);if(r){v.B(2);break}return E(v,bf(y,e),3);case 3:r=v.h;case 2:if(s=[],y.C)try{s=y.C.getServerSideCuePoints()}catch(b){}if(y.l!=oh){v.B(4);break}return a&&(n="forced"),E(v,wf(y,e,t,n,r,o||"",s),5);case 5:if(u=y.Gb(),c=u.find((function(e){return e.language==t&&e.label==(o||"")&&e.kind==n})))return Mf(y),v.return(c);throw new Ye(1,2,2012);case 4:if(l=ot,1/0==(f=y.i.presentationTimeline.getDuration()))throw new Ye(1,4,4033);if(!s.length){v.B(6);break}return E(v,Ef(y,e,y.F,y.g.streaming.retryParameters),7);case 7:h=v.h,d=Tf(y,h,r,s),p=new Blob([d],{type:"text/vtt"}),e=Su(p),r="text/vtt";case 6:if(g={id:y.Od++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Xo(0,f,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:l.da,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!a,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0},m=ut(g.mimeType,g.codecs),!mt(m))throw new Ye(2,2,2014,r);return y.i.textStreams.push(g),Mf(y),v.return(un(g))}}))},r.Se=function(e,t){var n,r,i,o,a,s,u,c,f,h,d,p,g,m,y,v,b=this;return I((function(w){switch(w.g){case 1:if(b.l!=ih&&b.l!=oh)throw new Ye(1,7,7004);if(b.l==oh)throw new Ye(1,2,2016);if(t){w.B(2);break}return E(w,bf(b,e),3);case 3:t=w.h;case 2:if("text/vtt"!=t)throw new Ye(1,2,2017,e);if(n=ot,1/0==(r=b.i.presentationTimeline.getDuration()))throw new Ye(1,4,4045);return E(w,Ef(b,e,b.F,b.g.streaming.retryParameters),4);case 4:if(i=w.h,!(o=bt[t]))throw new Ye(2,2,2014,t);for(a=o(),s={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},u=re(i),c=a.parseMedia(u,s),f=[],h={},d=l(c),p=d.next();!p.done;h={Rb:h.Rb},p=d.next())g=p.value,h.Rb=et([e],[g.S])[0],m=new Go(g.startTime,g.endTime,function(e){return function(){return[e.Rb]}}(h),0,null,null,0,0,1/0),h.Rb.includes("#xywh")&&(4===(y=h.Rb.split("#xywh=")[1].split(",")).length&&m.Ie({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)})),f.push(m);return v={id:b.Od++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Wo(f),mimeType:t||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.fd,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0},b.i.imageStreams.push(v),Mf(b),w.return(cn(v))}}))},r.Qe=function(e,t,n){var r,i,o,a,s=this;return I((function(u){switch(u.g){case 1:if(s.l!=ih&&s.l!=oh)throw new Ye(1,7,7004);if(n){u.B(2);break}return E(u,bf(s,e),3);case 3:n=u.h;case 2:if(r=[],s.C)try{r=s.C.getServerSideCuePoints()}catch(c){}return E(u,wf(s,e,t,"chapters",n,"",r),4);case 4:if(i=u.h,o=s.oe(),!(a=o.find((function(e){return e.language==t})))){u.B(5);break}return E(u,new Promise((function(e,t){s.o.oa(i,"load",e),s.o.oa(i,"error",(function(){t(new Ye(1,2,2015))}))})),6);case 6:return u.return(a);case 5:throw new Ye(1,2,2012)}}))},r.dg=function(e,t){this.Ld.width=e,this.Ld.height=t},r.Rd=function(e){if(this.l==ih){var t=this.j;if(e=void 0===e?.1:e,t.l.g)t=!1;else if(t.s)t=!1;else{for(var n=l(t.h.values()),r=n.next();!r.done;r=n.next())!(r=r.value).kc||r.pa||r.Ha||(r.kc=!1,yc(t,r,e));t=!0}}else t=!1;return t},r.lf=function(){return K("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.mf=function(){return this.Oc},r.gg=function(e){this.Dc=e},r.kd=function(e,t){if(!this.g.abr.enabled||this.l===nh||!navigator.onLine)return!1;if(this.i.variants.some((function(t){return!(!(t=t[e.type])||t.id===e.id)&&("audio"!=e.type||e.language===t.language)}))){for(var n=l(this.i.variants),r=n.next();!r.done;r=n.next()){var i=(r=r.value)[e.type];i&&i.id===e.id&&(r.disabledUntilTime=Date.now()/1e3+t)}return this.Mc.sa(1),If(this,!0,t=this.Ma().video.reduce((function(e,t){return e+t.end-t.start}),0),!0,!1),!0}return!1},F("shaka.Player",af),af.prototype.setVideoContainer=af.prototype.gg,af.prototype.getManifestParserFactory=af.prototype.mf,af.prototype.getManifest=af.prototype.lf,af.prototype.retryStreaming=af.prototype.Rd,af.prototype.setMaxHardwareResolution=af.prototype.dg,af.prototype.addChaptersTrack=af.prototype.Qe,af.prototype.addThumbnailsTrack=af.prototype.Se,af.prototype.addTextTrackAsync=af.prototype.Re,af.prototype.getStats=af.prototype.getStats,af.prototype.getBufferedInfo=af.prototype.Ma,af.prototype.getPresentationStartTimeAsDate=af.prototype.pe,af.prototype.getPlayheadTimeAsDate=af.prototype.tf,af.prototype.setTextTrackVisibility=af.prototype.fg,af.prototype.getChapters=af.prototype.ef,af.prototype.getChaptersTracks=af.prototype.oe,af.prototype.isTextTrackVisible=af.prototype.td,af.prototype.selectVariantsByLabel=af.prototype.bg,af.prototype.selectTextLanguage=af.prototype.Ee,af.prototype.selectAudioLanguage=af.prototype.De,af.prototype.getTextLanguages=af.prototype.vf,af.prototype.getAudioLanguages=af.prototype.bf,af.prototype.getTextLanguagesAndRoles=af.prototype.wf,af.prototype.getAudioLanguagesAndRoles=af.prototype.cf,af.prototype.selectVariantTrack=af.prototype.Ud,af.prototype.selectTextTrack=af.prototype.Fe,af.prototype.getThumbnails=af.prototype.yf,af.prototype.getImageTracks=af.prototype.jf,af.prototype.getTextTracks=af.prototype.Gb,af.prototype.getVariantTracks=af.prototype.Za,af.prototype.cancelTrickPlay=af.prototype.ge,af.prototype.trickPlay=af.prototype.Me,af.prototype.getPlaybackRate=af.prototype.Gc,af.prototype.isBuffering=af.prototype.te,af.prototype.getKeyStatuses=af.prototype.Fc,af.prototype.getActiveSessionsMetadata=af.prototype.ld,af.prototype.getExpiration=af.prototype.nd,af.prototype.drmInfo=af.prototype.drmInfo,af.prototype.keySystem=af.prototype.keySystem,af.prototype.goToLive=af.prototype.Df,af.prototype.seekRange=af.prototype.Ob,af.prototype.isAudioOnly=af.prototype.Gf,af.prototype.isInProgress=af.prototype.Hb,af.prototype.isLive=af.prototype.T,af.prototype.getAdManager=af.prototype.$e,af.prototype.getAssetUri=af.prototype.af,af.prototype.getNetworkingEngine=af.prototype.od,af.prototype.getMediaElement=af.prototype.qf,af.prototype.getManifestType=af.prototype.nf,af.prototype.getLoadMode=af.prototype.kf,af.prototype.resetConfiguration=af.prototype.Yf,af.prototype.getBufferFullness=af.prototype.df,af.prototype.getConfiguration=af.prototype.getConfiguration,af.prototype.configure=af.prototype.configure,af.prototype.load=af.prototype.load,af.prototype.updateStartTime=af.prototype.mg,af.prototype.unload=af.prototype.ig,af.prototype.detach=af.prototype.detach,af.prototype.attachCanvas=af.prototype.Te,af.prototype.attach=af.prototype.Xb,af.probeSupport=function(e){var t,n,r,i,o;return e=void 0===e||e,I((function(a){if(1==a.g)return t={},e?E(a,function(){var e,t,n,r,i,o;return I((function(a){return 1==a.g?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:t}],r=new Map,i=function(e){var t,i,o;return I((function(a){switch(a.g){case 1:if(x(a,2),"org.w3.clearkey"===e&&Ht())throw Error("Unsupported keySystem");return E(a,navigator.requestMediaKeySystemAccess(e,n),4);case 4:return t=a.h,o=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),Vt("Tizen 3")&&(o=!1),r.set(e,{persistentState:o}),E(a,t.createMediaKeys(),5);case 5:A(a,0);break;case 2:S(a),r.set(e,null),T(a)}}))},o=e.map((function(e){return i(e)})),E(a,Promise.all(o),2)):a.return(Na(r))}))}(),3):a.B(2);2!=a.g&&(t=a.h);var s={};if(Pt()){for(var u in Ea)s[u]=!0;for(var c in Ta)s[c]=!0}u={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var h=(c=l(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!h.done;h=c.next())s[h=h.value]=Pt()?!!Ea[h]:Lt(h);for(var d in u)s[d]=Pt()?!!Ta[d]:Lt(u[d]);for(n=s,s={},u=(d=l(d='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(f(pt)))).next();!u.done;u=d.next())s[u=u.value]=Pt()?!!mt(u)||(Y(u)||!!Re(u)):Lt(u),s[c=u.split(";")[0]]=s[c]||s[u];for(o in r={manifest:n,media:s,drm:t},i=uh)r[o]=i[o]();return a.return(r)}))},af.isBrowserSupported=function(){if(e.Promise||K("A Promise implementation or polyfill is required"),!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||Vt("Trident/"))return!1;var t=Ht();return!(t&&13>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Pt()||Lt("application/x-mpegurl"))},af.setAdManagerFactory=function(e){ch=e},af.registerSupportPlugin=function(e,t){uh[e]=t},af.prototype.destroy=af.prototype.destroy;var nh=0,rh=1,ih=2,oh=3;af.LoadMode={DESTROYED:nh,NOT_LOADED:rh,MEDIA_SOURCE:ih,SRC_EQUALS:oh},af.version="4.4.2-npm-dirty";var ah=["","4"];ci=new function(e){this.g=e,this.i=si,this.h=ui}(new oi(Number(ah[0]),Number(ah[1])));var sh=["output-restricted","internal-error"],uh={},ch=null,lh={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},fh={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function hh(){}function dh(e,t){for(e={priority:t||0,Ue:e},t=0;t<ph.length;t++)if(ph[t].priority<e.priority)return void ph.splice(t,0,e);ph.push(e)}F("shaka.polyfill",hh),hh.register=dh,hh.installAll=function(){for(var e=l(ph),t=e.next();!t.done;t=e.next()){t=t.value;try{t.Ue()}catch(n){K("Error installing polyfill!",n)}}};var ph=[];function gh(){this.g=new yh}function mh(){e.AbortController||(e.AbortController=gh,e.AbortSignal=yh)}function yh(){xo.call(this),this.h=!1,this.g=void 0,this.onabort=null}function vh(){}function bh(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=l(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())wh(t.value)}function wh(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function Eh(){}function Th(){vp()}function xh(){}function Ah(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Sh),document.addEventListener("webkitfullscreenerror",Sh),document.addEventListener("mozfullscreenchange",Sh),document.addEventListener("mozfullscreenerror",Sh),document.addEventListener("MSFullscreenChange",Sh),document.addEventListener("MSFullscreenError",Sh)}}function Sh(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function _h(){}function Oh(){var e=!0;(Ut()||Vt("PlayStation 5")||Ft()||Vt("Web0S")||Dt()||Vt("CrKey")||Vt("PC=EOS")||Vt("Hisense")||Vt("VIDAA"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),kh=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Rh)}function Rh(t){var n,r,i,o,a,s,u,c,l,f,h,d,p,g,m,y;return I((function(v){switch(v.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},!t)return v.return(n);if(r=t.video,i=t.audio,"media-source"==t.type){if(!Pt())return v.return(n);if(r){if(Vt("CrKey"))if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var b=r.contentType;r.width&&r.height&&(b+="; width="+r.width+"; height="+r.height),r.framerate&&(b+="; framerate="+r.framerate),"pq"===r.transferFunction&&(b+="; eotf=smpte2084"),o=cast.__platform__.canDisplayType(b)}else o=Y(r.contentType);else Dt()?(a=r.contentType,r.width&&r.height&&(a+="; width="+r.width,a+="; height="+r.height),r.framerate&&(a+="; framerate="+r.framerate),r.bitrate&&(a+="; bitrate="+r.bitrate),o=Y(a)):o=Y(r.contentType);if(!o)return v.return(n)}if(i&&(s=i.contentType,!Y(s)))return v.return(n)}else{if("file"!=t.type)return v.return(n);if(r&&(u=r.contentType,!Lt(u))||i&&(c=i.contentType,!Lt(c)))return v.return(n)}if(!t.keySystemConfiguration)return n.supported=!0,v.return(Promise.resolve(n));if(l=t.keySystemConfiguration,f=[],h=[],l.audio&&(d={robustness:l.audio.robustness||"",contentType:t.audio.contentType},f.push(d)),l.video&&(p={robustness:l.video.robustness||"",contentType:t.video.contentType},h.push(p)),g={initDataTypes:[l.initDataType],distinctiveIdentifier:l.distinctiveIdentifier,persistentState:l.persistentState,sessionTypes:l.sessionTypes},f.length&&(g.audioCapabilities=f),h.length&&(g.videoCapabilities=h),m=(t.video?t.video.contentType:"")+"#"+(t.audio?t.audio.contentType:"")+"#"+t.keySystemConfiguration.keySystem,x(v,3),m in Ch){y=Ch[m],v.B(5);break}return E(v,navigator.requestMediaKeySystemAccess(l.keySystem,[g]),6);case 6:y=v.h,Ch[m]=y;case 5:A(v,4);break;case 3:S(v);case 4:y&&(n.supported=!0,n.keySystemAccess=y);case 2:return v.return(n)}}))}gh.prototype.abort=function(e){var t=this.g;t.h||(t.h=!0,t.g=e,void 0===t.g&&(t.g=new DOMException("signal is aborted without reason","AbortError")),e=new To("abort"),t.onabort&&t.onabort(e),t.dispatchEvent(e))},s.Object.defineProperties(gh.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),hh.AbortController=gh,gh.install=mh,y(yh,xo),s.Object.defineProperties(yh.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),dh(mh),hh.Aria=vh,vh.install=bh,dh(bh),hh.EncryptionScheme=Eh,Eh.install=Th,dh(Th,-2),hh.Fullscreen=xh,xh.install=Ah,dh(Ah),hh.MediaCapabilities=_h,_h.install=Oh;var kh=null;_h.originalMcap=kh;var Ch={};function Nh(){}function Ih(){var t=Ht();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?12>=t?(Ph(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):15>=t&&Ph():Mt()?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(";")[0].split("/")[1]&&e(t)}}():(Vt("Tizen 2")||Vt("Tizen 3")||Vt("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=dt(t)[0]&&e(t)}}()),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Vt("Web0S")||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}()}function Ph(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,P.apply(0,arguments));return t.abort=function(){},t}}function Lh(){}function Mh(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new jh;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new To("change");n.dispatchEvent(e)}))}())}function jh(){xo.call(this),this.type="",this.angle=0}function Dh(){}function Bh(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Uh,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fh,e.MediaKeys=Hh,e.MediaKeySystemAccess=Vh,e.shakaMediaKeysPolyfill=!0)}function Uh(){return Promise.reject(Error("The key system specified is not supported."))}function Fh(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Hh(){throw new TypeError("Illegal constructor.")}function Vh(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Gh(){}function qh(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)rd="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Kh,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Wh,e.MediaKeys=Yh,e.MediaKeySystemAccess=Xh,e.shakaMediaKeysPolyfill=!0}}function zh(e){return rd?rd+e.charAt(0).toUpperCase()+e.slice(1):e}function Kh(e,t){try{var n=new Xh(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Wh(e){var t=this.mediaKeys;return t&&t!=e&&Zh(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Zh(e,this),Promise.resolve()}function Xh(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=(t=l(t)).next();!o.done;o=t.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},s=!1;if(o.audioCapabilities)for(var u=l(o.audioCapabilities),c=u.next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType.split(";")[0],this.g)&&(a.audioCapabilities.push(c),r=!0));if(o.videoCapabilities)for(c=(u=l(o.videoCapabilities)).next();!c.done;c=u.next())(c=c.value).contentType&&(s=!0,i.canPlayType(c.contentType,this.g)&&(a.videoCapabilities.push(c),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==o.persistentState&&(n?(a.persistentState="required",a.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=a)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Yh(e){this.l=e,this.h=null,this.g=new Oa,this.i=[],this.j=new Map}function Zh(e,t){e.h=t,e.g.Nb();var n=rd;t&&(e.g.J(t,n+"needkey",(function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=ne(t.initData),e.h.dispatchEvent(n)})),e.g.J(t,n+"keymessage",(function(t){var n=$h(e,t.sessionId);n&&(t=new To("message",t=(new Map).set("messageType",null==n.keyStatuses.jc()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))})),e.g.J(t,n+"keyadded",(function(t){(t=$h(e,t.sessionId))&&(td(t,"usable"),t.g&&t.g.resolve(),t.g=null)})),e.g.J(t,n+"keyerror",(function(t){var n=$h(e,t.sessionId);n&&n.handleError(t)})))}function $h(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function Jh(e,t,n){xo.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new go,this.keyStatuses=new nd}function Qh(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=re(Nr("LOAD_SESSION|"+n));else{var i=Nr("PERSISTENT|");r=Ii(i,t)}else r=re(t)}catch(a){return Promise.reject(a)}e.h=new go;var o=zh("generateKeyRequest");try{e.j[o](e.i,r)}catch(a){if("InvalidStateError"!=a.name)return e.h=null,Promise.reject(a);new It((function(){try{e.j[o](e.i,r)}catch(t){e.h.reject(t),e.h=null}})).V(.01)}return e.h}function ed(e,t,n){if(e.g)e.g.then((function(){return ed(e,t,n)})).catch((function(){return ed(e,t,n)}));else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var r=Rr(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=ki(i.keys[0].k),i=ki(i.keys[0].kid)}else r=re(n),i=null;var o=zh("addKey");try{e.j[o](e.i,r,i,e.sessionId)}catch(a){e.g.reject(a),e.g=null}}}function td(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new To("keystatuseschange"),e.dispatchEvent(t)}function nd(){this.size=0,this.g=void 0}_h.memoizedMediaKeySystemAccessRequests_=Ch,dh(Oh,-1),hh.MediaSource=Nh,Nh.install=Ih,dh(Ih),hh.Orientation=Lh,Lh.install=Mh,y(jh,xo),jh.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},jh.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},dh(Mh),hh.PatchedMediaKeysNop=Dh,Dh.install=Bh,Hh.prototype.createSession=function(){},Hh.prototype.setServerCertificate=function(){},Hh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},Vh.prototype.getConfiguration=function(){},Vh.prototype.createMediaKeys=function(){},dh(Bh,-10),hh.PatchedMediaKeysWebkit=Gh,Gh.install=qh,Xh.prototype.createMediaKeys=function(){var e=new Yh(this.g);return Promise.resolve(e)},Xh.prototype.getConfiguration=function(){return this.h},Yh.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new Jh(t,this.l,e),this.i.push(e),e},Yh.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Yh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},y(Jh,xo),(r=Jh.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.h?(45==e.systemCode&&(t.message="Unsupported session type."),this.h.reject(t),this.h=null):e.sessionId&&this.g?(this.g.reject(t),this.g=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?td(this,"output-restricted"):td(this,1==t?"expired":"internal-error"))},r.generateRequest=function(e,t){return Qh(this,t,null)},r.load=function(e){return"persistent-license"==this.l?Qh(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new go;return ed(this,t,e),t},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=zh("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=nd.prototype).jc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,$a.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=$a.value();return!(!this.g||!ee(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var rd="";function id(){}function od(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=sd,Object.defineProperty(t,"disablePictureInPicture",{get:cd,set:ld,enumerable:!0,configurable:!0}),document.exitPictureInPicture=ud,document.addEventListener("webkitpresentationmodechanged",ad,!0))}}function ad(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function sd(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function ud(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function cd(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function ld(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function fd(){}function hd(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=dd))}function dd(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function pd(){}function gd(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=md)}function md(){return new Promise((function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(t,n){e({usage:t,quota:n})}),t)}))}function yd(){}function vd(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:bd})}function bd(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function wd(){}function Ed(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}function Td(){}function xd(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||Bt())&&(t.getVideoPlaybackQuality=Ad)}}function Ad(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Sd(){}function _d(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=Od;else if(6==n)t=Rd;else{try{var r=!!Od(1,2,"")}catch(i){r=!1}r&&(t=Od)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function Od(t,n,r){return new e.TextTrackCue(t,n,r)}function Rd(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function kd(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&0<(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)?{Lc:n,M:e}:null}function Cd(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&e[t+2])>>>2;if(r>n.length-1)return null;var i=1+((192&e[t+2])>>>6),o=(1&e[t+2])<<2;return o|=(192&e[t+3])>>>6,{sampleRate:n[r],channelCount:o,Bc:"mp4a.40."+i}}function Nd(e,t){if(t+1<e.length&&255===e[t]&&240==(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var r=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(r<=n)&&((t+=r)===e.length||t+1<e.length&&255===e[t]&&240==(246&e[t+1]))}return!1}function Id(e){this.i=e,this.h=0,this.g=new Map}function Pd(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(3<=n)return null;var r=63&e[t+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var o=e[t+6]>>5,a=0;2===o?a+=2:(1&o&&1!==o&&(a+=2),4&o&&(a+=2)),a=(e[t+6]<<8|e[t+7])>>12-a&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|o<<3|a<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+a,Y:e,M:i}}function Ld(e,t){if(11===e[t]&&119===e[t+1]){var n,r,i=0,o=5;for(t+=o;0<o;){r=e[t];var a=Math.min(o,8),s=8-a;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<a|n:n,t+=1,o-=a}if(16>i)return!0}return!1}function Md(e){this.i=e,this.h=0,this.g=new Map}function jd(e,t){if(t+8>e.length||2935!=(e[t]<<8|e[t+1]))return null;var n=new li(e.subarray(t+2));hi(n,2),hi(n,3);var r=di(n,11)+1<<1,i=di(n,2);if(3==i){i=[24e3,22060,16e3][i=di(n,2)];var o=3}else i=[48e3,44100,32e3][i],o=di(n,2);var a=di(n,3),s=di(n,1);return n=di(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][o])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,i<<6|n<<1,a<<1|s,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][a]+s,Y:e,M:r})}function Dd(e){this.i=e,this.h=0,this.g=new Map}function Bd(e){for(var t=!1,n=new Uint8Array([]),r=e.find((function(e){return 7==e.type})),i=!1,o=(e=l(e)).next();!o.done;o=e.next()){var a=!1;switch((o=o.value).type){case 1:a=i=!0;var s=o.data;r&&4<s.length&&(2===(s=vi(new li(s)))||4===s||7===s||9===s)&&(t=!0);break;case 5:t=a=i=!0;break;case 6:case 7:case 8:case 12:a=!0;break;case 9:i=a=!0;break;default:a=!1}i&&a&&(a=o.La.byteLength,(s=new Uint8Array(4))[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=255&a,n=Ii(n,s,o.La))}return n.byteLength?{data:n,ve:t}:null}dh(qh),hh.PiPWebkit=id,id.install=od,dh(od),hh.RandomUUID=fd,fd.install=hd,dh(hd),hh.StorageEstimate=pd,pd.install=gd,dh(gd),hh.Symbol=yd,yd.install=vd,dh(vd),hh.VideoPlayPromise=wd,wd.install=Ed,dh(Ed),hh.VideoPlaybackQuality=Td,Td.install=xd,dh(xd),hh.VTTCue=Sd,Sd.install=_d,dh(_d),(r=Id.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(ht(t)||"mp4a.40.2")+'"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=re(e),o=Si(i),a=o.length;a<i.length&&!Nd(i,a);a++);if(e=1e3*n.endTime,(o=Ai(o)).length&&n&&(n=o.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(e=n.data),!(n=Cd(i,a)))return Promise.reject(new Ye(2,3,3018));for(t.audioSamplingRate=n.sampleRate,t.channelsCount=n.channelCount,o=[];a<i.length;){var s=kd(i,a);if(!s)return Promise.reject(new Ye(2,3,3018));var u=s.Lc+s.M;a+u<=i.length&&o.push({data:i.subarray(a+s.Lc,a+u),size:s.M,duration:1024,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),a+=u}return i=n.sampleRate,e=Math.floor(e*i/1e3),e=new Sc([r={id:t.id,type:"audio",codecs:n.Bc,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:o},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=e.initSegment(),this.g.set(t.id,r)),t=kc(e),this.h++,t=Ii(r,t),Promise.resolve(t)},F("shaka.transmuxer.AacTransmuxer",Id),Id.prototype.transmux=Id.prototype.transmux,Id.prototype.getOrginalMimeType=Id.prototype.getOrginalMimeType,Id.prototype.convertCodecs=Id.prototype.convertCodecs,Id.prototype.isSupported=Id.prototype.isSupported,Id.prototype.destroy=Id.prototype.destroy,Oe("audio/aac",(function(){return new Id("audio/aac")}),Ce),(r=Md.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ac-3"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=Si(e=re(e)),o=i.length;o<e.length&&!Ld(e,o);o++);var a=1e3*n.endTime;(i=Ai(i)).length&&n&&(n=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(a=n.data),n=0,i=new Uint8Array([]);for(var s=[];o<e.length;){var u=Pd(e,o);if(!u)return Promise.reject(new Ye(2,3,3018));t.audioSamplingRate=u.sampleRate,t.channelsCount=u.channelCount,n=u.sampleRate,i=u.Y,s.push({data:e.subarray(o,o+u.M),size:u.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=u.M}return e=Math.floor(a*n/1e3),e=new Sc([r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:r,xa:[],Y:i,ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:s},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=e.initSegment(),this.g.set(t.id,r)),t=kc(e),this.h++,t=Ii(r,t),Promise.resolve(t)},F("shaka.transmuxer.Ac3Transmuxer",Md),Md.prototype.transmux=Md.prototype.transmux,Md.prototype.getOrginalMimeType=Md.prototype.getOrginalMimeType,Md.prototype.convertCodecs=Md.prototype.convertCodecs,Md.prototype.isSupported=Md.prototype.isSupported,Md.prototype.destroy=Md.prototype.destroy,Oe("audio/ac3",(function(){return new Md("audio/ac3")}),Ce),(r=Dd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=Si(e=re(e)),o=i.length;o<e.length&&2935!=(e[o]<<8|e[o+1]);o++);var a=1e3*n.endTime;(i=Ai(i)).length&&n&&(n=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(a=n.data),n=0,i=new Uint8Array([]);for(var s=[];o<e.length;){var u=jd(e,o);if(!u)return Promise.reject(new Ye(2,3,3018));t.audioSamplingRate=u.sampleRate,t.channelsCount=u.channelCount,n=u.sampleRate,i=u.Y,s.push({data:e.subarray(o,o+u.M),size:u.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=u.M}return e=Math.floor(a*n/1e3),e=new Sc([r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:r,xa:[],Y:i,ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:s},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=e.initSegment(),this.g.set(t.id,r)),t=kc(e),this.h++,t=Ii(r,t),Promise.resolve(t)},F("shaka.transmuxer.Ec3Transmuxer",Dd),Dd.prototype.transmux=Dd.prototype.transmux,Dd.prototype.getOrginalMimeType=Dd.prototype.getOrginalMimeType,Dd.prototype.convertCodecs=Dd.prototype.convertCodecs,Dd.prototype.isSupported=Dd.prototype.isSupported,Dd.prototype.destroy=Dd.prototype.destroy,Oe("audio/ec3",(function(){return new Dd("audio/ec3")}),Ce);var Ud=[100,110,122,244,44,83,86,118,128,138,139,134];function Fd(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){var a=e[t+3]>>6;i=1e3*Vd[14*(3===n?3-r:3===r?3:4)+i-1],o=Gd[3*(3===n?0:2===n?1:2)+o],n=qd[n][r];var s=zd[r],u=Math.floor(n*i/o+(e[t+2]>>1&1))*s,c=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(c=c?parseInt(c[1],10):0)&&87>=c&&2===r&&224e3<=i&&0===a&&(e[t+3]|=128),{sampleRate:o,channelCount:3===a?1:2,M:u,ag:8*n*s}}return null}function Hd(e,t){return!(255!==e[t]||224&~e[t+1]||!(6&e[t+1]))}var Vd=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Gd=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],qd=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zd=[0,1,1,4];function Kd(e){this.i=e,this.h=0,this.g=new Map}function Wd(e){this.h=e,this.g=null}function Xd(e){this.h=e,(this.g=Is.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,(function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)})))}))}e.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),e.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",(function(){for(var e=!0,n=0;16>n;n++)this.usertype[n]!==Zd[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))}))}(this)}function Yd(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}(r=Kd.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},r.getOrginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(n=Si(e=re(e)).length;n<e.length;n++){var i=n;if(i+1<e.length&&Hd(e,i)){var o=Fd(e,i),a=4;o&&o.M&&(a=o.M),i=(i+=a)===e.length||i+1<e.length&&Hd(e,i)}else i=!1;if(i)break}var s;for(i=[];n<e.length;){if(!(o=Fd(e,n)))return Promise.reject(new Ye(2,3,3018));s||(s=o),n+o.M<=e.length&&i.push({data:e.subarray(n,n+o.M),size:o.M,duration:1152,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),n+=o.M}return s?(e=9e4*s.ag/s.sampleRate*this.h,s=new Sc([r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:s.sampleRate,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.h,baseMediaDecodeTime:e,wa:i},stream:t}]),this.g.has(t.id)?r=this.g.get(t.id):(r=s.initSegment(),this.g.set(t.id,r)),t=kc(s),this.h++,t=Ii(r,t),Promise.resolve(t)):Promise.reject(new Ye(2,3,3018))},F("shaka.transmuxer.Mp3Transmuxer",Kd),Kd.prototype.transmux=Kd.prototype.transmux,Kd.prototype.getOrginalMimeType=Kd.prototype.getOrginalMimeType,Kd.prototype.convertCodecs=Kd.prototype.convertCodecs,Kd.prototype.isSupported=Kd.prototype.isSupported,Kd.prototype.destroy=Kd.prototype.destroy,Oe("audio/mpeg",(function(){return new Kd("audio/mpeg")}),Ce),(r=Wd.prototype).destroy=function(){},r.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=ht(e).split(","),n=rt("audio",t);return t=rt("video",t),!(!n||t||"mp3"!=ft(n))&&Y(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},r.getOrginalMimeType=function(){return this.h},r.transmux=function(e){this.g?this.g.clearData():this.g=new Pi,e=re(e);var t=this.g.parse(e);if("mp3"!=(e=t.md()).audio||e.video)return Promise.reject(new Ye(2,3,3018));e=new Uint8Array([]);for(var n=(t=l(t.jb())).next();!n.done;n=t.next())if(n=n.value.data)for(var r=0;r<n.length;){var i=Fd(n,r);i?(r+i.M<=n.length&&(e=Ii(e,n.subarray(r,r+i.M))),r+=i.M):r++}return Promise.resolve(e)},F("shaka.transmuxer.MpegTsTransmuxer",Wd),Wd.prototype.transmux=Wd.prototype.transmux,Wd.prototype.getOrginalMimeType=Wd.prototype.getOrginalMimeType,Wd.prototype.convertCodecs=Wd.prototype.convertCodecs,Wd.prototype.isSupported=Wd.prototype.isSupported,Wd.prototype.destroy=Wd.prototype.destroy,Oe("video/mp2t",(function(){return new Wd("video/mp2t")}),Ne),(r=Xd.prototype).destroy=function(){},r.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?Y(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Y(t)||Y(e)))},r.convertCodecs=function(e,t){return t.replace("mss/","")},r.getOrginalMimeType=function(){return this.h},r.transmux=function(e,t,n){if(!n)return Promise.resolve(re(e));if(!t.mssPrivateData)return Promise.reject(new Ye(2,3,3020));try{var r,i=this.g.parseBuffer(e),o=i.fetch("tfhd");o.track_ID=t.id+1;var a=i.fetch("tfdt"),s=i.fetch("traf");null===a&&((a=this.g.createFullBox("tfdt",s,o)).version=1,a.flags=0,a.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=i.fetch("trun"),c=i.fetch("tfxd");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var l=i.fetch("tfrf");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var f=i.fetch("sepiff");if(null!==f){f.type="senc",f.usertype=void 0;var h=i.fetch("saio");if(null===h){(h=this.g.createFullBox("saio",s)).version=0,h.flags=0,h.entry_count=1,h.offset=[0];var d=this.g.createFullBox("saiz",s);if(d.version=0,d.flags=0,d.sample_count=f.sample_count,d.default_sample_info_size=0,d.sample_info_size=[],2&f.flags)for(r=0;r<f.sample_count;r+=1)d.sample_info_size[r]=10+6*f.entry[r].NumberOfEntries;else d.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,u.flags|=1;var p=i.fetch("moof");u.data_offset=p.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=Yd(p,"traf")+Yd(s,"senc")+16);var m=re(i.write());return Promise.resolve(m)}catch(y){return y instanceof Ye?Promise.reject(y):Promise.reject(new Ye(2,3,3022))}},F("shaka.transmuxer.MssTransmuxer",Xd),Xd.prototype.transmux=Xd.prototype.transmux,Xd.prototype.getOrginalMimeType=Xd.prototype.getOrginalMimeType,Xd.prototype.convertCodecs=Xd.prototype.convertCodecs,Xd.prototype.isSupported=Xd.prototype.isSupported,Xd.prototype.destroy=Xd.prototype.destroy;var Zd=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function $d(e){var t=this;this.m=e,this.j=Is.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=!1,this.j&&(this.g=new this.j.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",(function(e){t.l.push(Ii(e.initSegment,e.data))})),this.g.on("done",(function(){var e=Ii.apply(_i,f(t.l));t.h.resolve(e),t.i=!1})))}function Jd(e,t){if(t=t.replace(/mp2t/i,"mp4"),"audio"==e&&(t=t.replace("video","audio")),e=/avc1\.(66|77|100)\.(\d+)/.exec(t)){var n="avc1.",r=e[1],i=Number(e[2]);n=("66"==r?n+"4200":"77"==r?n+"4d00":n+"6400")+(i>>4).toString(16),n+=(15&i).toString(16),t=t.replace(e[0],n)}return t}function Qd(e){this.j=e,this.g=0,this.h=new Map,this.i=null}Oe("mss/audio/mp4",(function(){return new Xd("mss/audio/mp4")}),Ce),Oe("mss/video/mp4",(function(){return new Xd("mss/video/mp4")}),Ce),(r=$d.prototype).destroy=function(){this.g&&this.g.dispose(),this.g=null},r.isSupported=function(e,t){var n="mp2t"==e.toLowerCase().split(";")[0].split("/")[1];return!(!this.j||!n)&&(t?Y(Jd(t,e)):(t=Jd("audio",e),e=Jd("video",e),Y(t)||Y(e)))},r.convertCodecs=function(e,t){return"mp2t"==t.toLowerCase().split(";")[0].split("/")[1]?Jd(e,t):t},r.getOrginalMimeType=function(){return this.m},r.transmux=function(e){return this.i=!0,this.h=new go,this.l=[],e=re(e),this.g.push(e),this.g.flush(),this.i&&this.h.reject(new Ye(2,3,3018)),this.h},F("shaka.transmuxer.MuxjsTransmuxer",$d),$d.prototype.transmux=$d.prototype.transmux,$d.prototype.getOrginalMimeType=$d.prototype.getOrginalMimeType,$d.prototype.convertCodecs=$d.prototype.convertCodecs,$d.prototype.isSupported=$d.prototype.isSupported,$d.prototype.destroy=$d.prototype.destroy,Oe("video/mp2t",(function(){return new $d("video/mp2t")}),Ce),(r=Qd.prototype).destroy=function(){this.h.clear()},r.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=ht(e).split(","),r=rt("audio",n);return n=rt("video",n),!(r&&n||r&&(r=ft(r),!np.includes(r))||n&&(r=ft(n),!rp.includes(r)))&&(t?Y(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Y(t)||Y(e)))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=ht(t).replace("mp4a.40.34","mp3"),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},r.getOrginalMimeType=function(){return this.j},r.transmux=function(e,t,n,r,i){this.i?this.i.clearData():this.i=new Pi,e=re(e);var o=this.i.parse(e);e=[];var a=o.md();try{if(n=null,"video"==i){if("avc"===a.video){for(var s=[],u=null,c=[],h=o.Jc(),d=0;d<h.length;d++){var p=h[d],g=void 0;d+1<h.length&&(g=h[d+1]);var m=o.Nd(p,g);c=c.concat(m);var y=Bd(m);y&&(null==u&&(u=p.dts),g=void 0,g=d+1<h.length?(h[d+1].dts||0)-(p.dts||0):(p.dts||0)-(h[d-1].dts||0),s.push({data:y.data,size:y.data.byteLength,duration:g,Ja:Math.round((p.pts||0)-(p.dts||0)),flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:y.ve?2:1,Qa:y.ve?0:1}}))}var v=function(e){if(!e.length)return null;var t=e.find((function(e){return 7==e.type}));if(e=e.find((function(e){return 8==e.type})),!t||!e)return null;var n=new li(t.data),r=di(n,8);if(di(n,8),di(n,8),gi(n),Ud.includes(r)&&(3===(r=mi(n))&&hi(n,1),gi(n),gi(n),hi(n,1),1===di(n,1))){r=3!==r?8:12;for(var i=0;i<r;i++)1===di(n,1)&&yi(n,6>i?16:64)}if(gi(n),0===(r=mi(n)))mi(n);else if(1===r)for(hi(n,1),gi(n),gi(n),r=mi(n),i=0;i<r;i++)gi(n);gi(n),hi(n,1),r=mi(n);var o=mi(n),a=di(n,1);0===a&&hi(n,1),hi(n,1);var s=i=0,u=0,c=0;return 1===di(n,1)&&(i=mi(n),s=mi(n),u=mi(n),c=mi(n)),n=(2-a)*(o+1)*16-2*u-2*c,r=16*(r+1)-2*i-2*s,i=[],t=t.La,i.push(t.byteLength>>>8&255),i.push(255&t.byteLength),i=i.concat.apply(i,f(t)),t=[],e=e.La,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,f(e)),{height:n,width:r,ga:e=new Uint8Array([1,i[3],i[4],i[5],255,225].concat(i,[1],t))}}(c);if(!v||null==u)throw new Ye(2,3,3018);t.height=v.height,t.width=v.width,n={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,xa:[],Y:new Uint8Array([]),ga:v.ga,data:{Ua:this.g,baseMediaDecodeTime:u,wa:s},stream:t}}n&&(e.push(n),n=null)}if("audio"==i){switch(a.audio){case"aac":for(var b,w=[],E=null,T=l(o.jb()),x=T.next();!x.done;x=T.next()){var A=x.value,S=A.data;if(S){if(!(b=Cd(S,o=0)))throw new Ye(2,3,3018);for(t.audioSamplingRate=b.sampleRate,t.channelsCount=b.channelCount,null==E&&null!==A.pts&&(E=A.pts);o<S.length;){var _=kd(S,o);if(_){var O=_.Lc+_.M;o+O<=S.length&&w.push({data:S.subarray(o+_.Lc,o+O),size:_.M,duration:1024,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=O}else o++}}}if(!b||null==E)throw new Ye(2,3,3018);var R=b.sampleRate;o=E/9e4*R,n={id:t.id,type:"audio",codecs:b.Bc,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:R,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:w},stream:t};break;case"ac3":E=[],b=0,w=new Uint8Array([]),R=null;for(var k=l(o.jb()),C=k.next();!C.done;C=k.next()){var N=C.value,I=N.data;for(null==R&&null!==N.pts&&(R=N.pts),o=0;o<I.length;){var P=Pd(I,o);P?(t.audioSamplingRate=P.sampleRate,t.channelsCount=P.channelCount,b=P.sampleRate,w=P.Y,E.push({data:I.subarray(o,o+P.M),size:P.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=P.M):o++}}if(0==b||0==w.byteLength||null==R)throw new Ye(2,3,3018);o=R/9e4*b,n={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:b,duration:r,xa:[],Y:w,ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:E},stream:t};break;case"ec3":w=[],b=0,E=new Uint8Array([]),R=null;for(var L=l(o.jb()),M=L.next();!M.done;M=L.next()){var j=M.value,D=j.data;for(null==R&&null!==j.pts&&(R=j.pts),o=0;o<D.length;){var B=jd(D,o);B?(t.audioSamplingRate=B.sampleRate,t.channelsCount=B.channelCount,b=B.sampleRate,E=B.Y,w.push({data:D.subarray(o,o+B.M),size:B.M,duration:1536,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=B.M):o++}}if(0==b||0==E.byteLength||null==R)throw new Ye(2,3,3018);o=R/9e4*b,n={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:b,duration:r,xa:[],Y:E,ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:w},stream:t};break;case"mp3":var U;w=[],E=null;for(var F=l(o.jb()),H=F.next();!H.done;H=F.next()){var V=H.value,G=V.data;if(G)for(null==E&&null!==V.pts&&(E=V.pts),o=0;o<G.length;){var q=Fd(G,o);q?(U||(U=q),o+q.M<=G.length&&w.push({data:G.subarray(o,o+q.M),size:q.M,duration:1152,Ja:0,flags:{Pa:0,Fa:0,Ea:0,Ba:0,Ca:2,Qa:0}}),o+=q.M):o++}}if(!U||null==E)throw new Ye(2,3,3018);var z=U.sampleRate;o=E/9e4*z,n={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:z,duration:r,xa:[],Y:new Uint8Array([]),ga:new Uint8Array([]),data:{Ua:this.g,baseMediaDecodeTime:o,wa:w},stream:t}}n&&e.push(n)}}catch(K){return Promise.reject(K)}return e.length?(e=new Sc(e),this.h.has(t.id)?r=this.h.get(t.id):(r=e.initSegment(),this.h.set(t.id,r)),t=kc(e),this.g++,t=Ii(r,t),Promise.resolve(t)):Promise.reject(new Ye(2,3,3018))},F("shaka.transmuxer.TsTransmuxer",Qd),Qd.prototype.transmux=Qd.prototype.transmux,Qd.prototype.getOrginalMimeType=Qd.prototype.getOrginalMimeType,Qd.prototype.convertCodecs=Qd.prototype.convertCodecs,Qd.prototype.isSupported=Qd.prototype.isSupported,Qd.prototype.destroy=Qd.prototype.destroy;var ep,tp,np=["aac","ac-3","ec-3","mp3"],rp=["avc"];function ip(){}function op(){ep?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(ep=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=ap):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function ap(e,t){var n,r=this;return I((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),E(i,ep.call(r,e,t),2)):mp(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=ep,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=sp,i.return(sp.call(r,e,t)))}))}function sp(e,t){var n,r,i,o,a,s,u,c,f,h,d=this;return I((function(p){if(1==p.g){for(console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess'),n=gp(e),r=[],i=l(t),o=i.next();!o.done;o=i.next())a=o.value,s=up(a.videoCapabilities,n),u=up(a.audioCapabilities,n),a.videoCapabilities&&a.videoCapabilities.length&&!s.length||a.audioCapabilities&&a.audioCapabilities.length&&!u.length||((c=Object.assign({},a)).videoCapabilities=s,c.audioCapabilities=u,r.push(c));if(!r.length)throw(f=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",f.code=DOMException.NOT_SUPPORTED_ERR,f;return E(p,ep.call(d,e,r),2)}return h=p.h,p.return(new pp(h,n))}))}function up(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function cp(){}function lp(){tp?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(tp=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=fp):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function fp(e){var t,n,r,i=this;return I((function(o){switch(o.g){case 1:return console.assert(i==navigator.mediaCapabilities,'bad "this" for decodingInfo'),E(o,tp.call(i,e),2);case 2:if(t=o.h,!e.keySystemConfiguration)return o.return(t);if((n=t.keySystemAccess)&&mp(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=tp,o.return(t);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=hp,n){o.B(3);break}return r=t,E(o,dp(e),4);case 4:return r.keySystemAccess=o.h,o.return(t);case 3:return o.return(hp.call(i,e))}}))}function hp(e){var t,n,r,i,o,a,s,u,c=this;return I((function(l){switch(l.g){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(n=e.keySystemConfiguration,r=n.keySystem,i=n.audio&&n.audio.encryptionScheme,o=n.video&&n.video.encryptionScheme,t=gp(r),a={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||o&&o!=t)?l.return(a):E(l,tp.call(c,e),2);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new pp(s.keySystemAccess,t),l.B(3);break}if(!e.keySystemConfiguration){l.B(3);break}return u=s,E(l,dp(e),5);case 5:u.keySystemAccess=l.h;case 3:return l.return(s)}}))}function dp(e){var t,n;return I((function(r){if(1==r.g){var i=e.keySystemConfiguration,o=[],a=[];return i.audio&&o.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType}),i.video&&a.push({robustness:i.video.robustness||"",contentType:e.video.contentType}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(i.audioCapabilities=o),a.length&&(i.videoCapabilities=a),t=i,E(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)}))}function pp(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}function gp(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function mp(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function yp(){}function vp(){op(),lp()}Oe("video/mp2t",(function(){return new Qd("video/mp2t")}),Ie),F("EmeEncryptionSchemePolyfill",ip),ip.install=op,F("McEncryptionSchemePolyfill",cp),cp.install=lp,pp.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=l(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(n=(t=l(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},pp.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},F("EncryptionSchemePolyfills",yp),yp.install=vp,void 0!==n&&n.exports&&(n.exports=yp)}.call(r,e,e,void 0),r.shaka)t[i]=r.shaka[i]}()},23278:(e,t,n)=>{"use strict";function r(e,t){var n=t&&t.cache?t.cache:l,r=t&&t.serializer?t.serializer:u;return(t&&t.strategy?t.strategy:s)(e,{cache:n,serializer:r})}function i(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(o);return void 0===a&&(a=e.call(this,r),t.set(o,a)),a}function o(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function a(e,t,n,r,i){return n.bind(t,e,r,i)}function s(e,t){return a(e,this,1===e.length?i:o,t.cache.create(),t.serializer)}n.d(t,{A:()=>f,H:()=>r});var u=function(){return JSON.stringify(arguments)};function c(){this.cache=Object.create(null)}c.prototype.get=function(e){return this.cache[e]},c.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new c}},f={variadic:function(e,t){return a(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return a(e,this,i,t.cache.create(),t.serializer)}}},748938:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(563817);function i(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if("j"===i){for(var a=0;r+1<e.length&&e.charAt(r+1)===i;)a++,r++;var s=1+(1&a),u=a<2?1:3+(a>>1),c=o(t);for("H"!=c&&"k"!=c||(u=0);u-- >0;)n+="a";for(;s-- >0;)n=c+n}else n+="J"===i?"H":i}return n}function o(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,i=e.language;return"root"!==i&&(n=e.maximize().region),(r._[n||""]||r._[i||""]||r._["".concat(i,"-001")]||r._["001"])[0]}},714861:(e,t,n)=>{"use strict";var r;n.d(t,{o:()=>r}),function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(r||(r={}))},659137:(e,t,n)=>{"use strict";n.d(t,{HI:()=>a.HI,Ii:()=>a.Ii,Jo:()=>a.Jo,O4:()=>a.O4,Qc:()=>u,VG:()=>a.VG,Wh:()=>a.Wh,Wi:()=>a.Wi,pe:()=>a.pe,rp:()=>a.rp,uf:()=>a.uf,yx:()=>a.yx});var r=n(240236),i=n(714861),o=n(648325),a=n(452546);function s(e){e.forEach((function(e){if(delete e.location,(0,a.Wi)(e)||(0,a.Jo)(e))for(var t in e.options)delete e.options[t].location,s(e.options[t].value);else(0,a.uf)(e)&&(0,a.Wh)(e.style)||((0,a.rp)(e)||(0,a.pe)(e))&&(0,a.Ii)(e.style)?delete e.style.location:(0,a.HI)(e)&&s(e.children)}))}function u(e,t){void 0===t&&(t={}),t=(0,r.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new o._(e,t).parse();if(n.err){var a=SyntaxError(i.o[n.err.kind]);throw a.location=n.err.location,a.originalMessage=n.err.message,a}return(null==t?void 0:t.captureLocation)||s(n.val),n.val}o._},648325:(e,t,n)=>{"use strict";n.d(t,{_:()=>N});var r,i=n(240236),o=n(714861),a=n(452546),s=n(307288),u=n(105462),c=n(874812),l=n(748938),f=new RegExp("^".concat(s.p.source,"*")),h=new RegExp("".concat(s.p.source,"*$"));function d(e,t){return{start:e,end:t}}var p=!!String.prototype.startsWith&&"_a".startsWith("a",1),g=!!String.fromCodePoint,m=!!Object.fromEntries,y=!!String.prototype.codePointAt,v=!!String.prototype.trimStart,b=!!String.prototype.trimEnd,w=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},E=!0;try{E="a"===(null===(r=k("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===r?void 0:r[0])}catch(M){E=!1}var T,x=p?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},A=g?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,o=0;i>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},S=m?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],a=i[1];t[o]=a}return t},_=y?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},O=v?function(e){return e.trimStart()}:function(e){return e.replace(f,"")},R=b?function(e){return e.trimEnd()}:function(e){return e.replace(h,"")};function k(e,t){return new RegExp(e,t)}if(E){var C=k("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");T=function(e,t){var n;return C.lastIndex=t,null!==(n=C.exec(e)[1])&&void 0!==n?n:""}}else T=function(e,t){for(var n=[];;){var r=_(e,t);if(void 0===r||P(r)||L(r))break;n.push(r),t+=r>=65536?2:1}return A.apply(void 0,n)};var N=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(o.o.UNMATCHED_CLOSING_TAG,d(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&I(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var u=this.clonePosition();this.bump(),r.push({type:a.wD.pound,location:d(u,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.wD.literal,value:"<".concat(r,"/>"),location:d(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!I(this.char()))return this.error(o.o.INVALID_TAG,d(u,this.clonePosition()));var c=this.clonePosition();return r!==this.parseTagName()?this.error(o.o.UNMATCHED_CLOSING_TAG,d(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.wD.tag,value:r,children:s,location:d(n,this.clonePosition())},err:null}:this.error(o.o.INVALID_TAG,d(u,this.clonePosition())))}return this.error(o.o.UNCLOSED_TAG,d(n,this.clonePosition()))}return this.error(o.o.INVALID_TAG,d(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var o=this.tryParseUnquoted(e,t);if(o)r+=o;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var u=d(n,this.clonePosition());return{val:{type:a.wD.literal,value:r,location:u},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(I(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return A.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),A(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(o.o.EMPTY_ARGUMENT,d(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(o.o.MALFORMED_ARGUMENT,d(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.wD.argument,value:r,location:d(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(o.o.MALFORMED_ARGUMENT,d(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=T(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:d(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var s,c=this.clonePosition(),f=this.parseIdentifierIfPossible().value,h=this.clonePosition();switch(f){case"":return this.error(o.o.EXPECT_ARGUMENT_TYPE,d(c,h));case"number":case"date":case"time":this.bumpSpace();var p=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition();if((A=this.parseSimpleArgStyleIfPossible()).err)return A;if(0===(b=R(A.val)).length)return this.error(o.o.EXPECT_ARGUMENT_STYLE,d(this.clonePosition(),this.clonePosition()));p={style:b,styleLocation:d(g,this.clonePosition())}}if((_=this.tryParseArgumentClose(r)).err)return _;var m=d(r,this.clonePosition());if(p&&x(null==p?void 0:p.style,"::",0)){var y=O(p.style.slice(2));if("number"===f)return(A=this.parseNumberSkeletonFromString(y,p.styleLocation)).err?A:{val:{type:a.wD.number,value:n,location:m,style:A.val},err:null};if(0===y.length)return this.error(o.o.EXPECT_DATE_TIME_SKELETON,m);var v=y;this.locale&&(v=(0,l.T)(y,this.locale));var b={type:a.aV.dateTime,pattern:v,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,u.T)(v):{}};return{val:{type:"date"===f?a.wD.date:a.wD.time,value:n,location:m,style:b},err:null}}return{val:{type:"number"===f?a.wD.number:"date"===f?a.wD.date:a.wD.time,value:n,location:m,style:null!==(s=null==p?void 0:p.style)&&void 0!==s?s:null},err:null};case"plural":case"selectordinal":case"select":var w=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(o.o.EXPECT_SELECT_ARGUMENT_OPTIONS,d(w,(0,i.pi)({},w)));this.bumpSpace();var E=this.parseIdentifierIfPossible(),T=0;if("select"!==f&&"offset"===E.value){if(!this.bumpIf(":"))return this.error(o.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,d(this.clonePosition(),this.clonePosition()));var A;if(this.bumpSpace(),(A=this.tryParseDecimalInteger(o.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,o.o.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return A;this.bumpSpace(),E=this.parseIdentifierIfPossible(),T=A.val}var _,k=this.tryParsePluralOrSelectOptions(e,f,t,E);if(k.err)return k;if((_=this.tryParseArgumentClose(r)).err)return _;var C=d(r,this.clonePosition());return"select"===f?{val:{type:a.wD.select,value:n,options:S(k.val),location:C},err:null}:{val:{type:a.wD.plural,value:n,options:S(k.val),offset:T,pluralType:"plural"===f?"cardinal":"ordinal",location:C},err:null};default:return this.error(o.o.INVALID_ARGUMENT_TYPE,d(c,h))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(o.o.EXPECT_ARGUMENT_CLOSING_BRACE,d(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(o.o.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,d(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,c.O)(e)}catch(r){return this.error(o.o.INVALID_NUMBER_SKELETON,t)}return{val:{type:a.aV.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,c.I)(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,a=!1,s=[],u=new Set,c=r.value,l=r.location;;){if(0===c.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(o.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,o.o.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;l=d(f,this.clonePosition()),c=this.message.slice(f.offset,this.offset())}if(u.has(c))return this.error("select"===t?o.o.DUPLICATE_SELECT_ARGUMENT_SELECTOR:o.o.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===c&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?o.o.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:o.o.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,d(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(e+1,t,n);if(g.err)return g;var m=this.tryParseArgumentClose(p);if(m.err)return m;s.push([c,{value:g.val,location:d(p,this.clonePosition())}]),u.add(c),this.bumpSpace(),c=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===s.length?this.error("select"===t?o.o.EXPECT_SELECT_ARGUMENT_SELECTOR:o.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,d(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(o.o.MISSING_OTHER_CLAUSE,d(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=d(r,this.clonePosition());return i?w(o*=n)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=_(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(x(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&P(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function I(e){return e>=97&&e<=122||e>=65&&e<=90}function P(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function L(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}},307288:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},563817:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]}},452546:(e,t,n)=>{"use strict";var r,i;function o(e){return e.type===r.literal}function a(e){return e.type===r.argument}function s(e){return e.type===r.number}function u(e){return e.type===r.date}function c(e){return e.type===r.time}function l(e){return e.type===r.select}function f(e){return e.type===r.plural}function h(e){return e.type===r.pound}function d(e){return e.type===r.tag}function p(e){return!(!e||"object"!=typeof e||e.type!==i.number)}function g(e){return!(!e||"object"!=typeof e||e.type!==i.dateTime)}n.d(t,{HI:()=>d,Ii:()=>g,Jo:()=>f,O4:()=>o,VG:()=>a,Wh:()=>p,Wi:()=>l,aV:()=>i,pe:()=>c,rp:()=>u,uf:()=>s,wD:()=>r,yx:()=>h}),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(r||(r={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(i||(i={}))},105462:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function i(e){var t={};return e.replace(r,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}},874812:(e,t,n)=>{"use strict";n.d(t,{I:()=>p,O:()=>o});var r=n(240236),i=n(684890);function o(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(i.r).filter((function(e){return e.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var a=o[0],s=o.slice(1),u=0,c=s;u<c.length;u++){if(0===c[u].length)throw new Error("Invalid number skeleton")}t.push({stem:a,options:s})}return t}var a=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,s=/^(@+)?(\+|#+)?[rs]?$/g,u=/(\*)(0+)|(#+)(0+)|(0+)/g,c=/^(0+)$/;function l(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(s,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function f(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function h(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!c.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function d(e){var t=f(e);return t||{}}function p(e){for(var t={},n=0,i=e;n<i.length;n++){var o=i[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,r.pi)((0,r.pi)((0,r.pi)({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return(0,r.pi)((0,r.pi)({},e),d(t))}),{}));continue;case"engineering":t=(0,r.pi)((0,r.pi)((0,r.pi)({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return(0,r.pi)((0,r.pi)({},e),d(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(u,(function(e,n,r,i,o,a){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(c.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(a.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(a,(function(e,n,r,i,o,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var p=o.options[0];"w"===p?t=(0,r.pi)((0,r.pi)({},t),{trailingZeroDisplay:"stripIfInteger"}):p&&(t=(0,r.pi)((0,r.pi)({},t),l(p)))}else if(s.test(o.stem))t=(0,r.pi)((0,r.pi)({},t),l(o.stem));else{var g=f(o.stem);g&&(t=(0,r.pi)((0,r.pi)({},t),g));var m=h(o.stem);m&&(t=(0,r.pi)((0,r.pi)({},t),m))}}return t}},684890:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i},358579:(e,t)=>{"use strict";t.Z=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?r(e[0],e[1])||null:e.slice(1).reduce((function(e,t){return r(e,t)}),e[0])||null};var n=new WeakMap;function r(e,t){if(e&&t){var r=n.get(e)||new WeakMap;n.set(e,r);var o=r.get(t)||function(n){i(e,n),i(t,n)};return r.set(t,o),o}return e||t}function i(e,t){"function"==typeof e?e(t):e.current=t}},741635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(512910);function i(e,t){e.classList?e.classList.add(t):(0,r.Z)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},512910:(e,t,n)=>{"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,{Z:()=>r})},139741:(e,t,n)=>{"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}n.d(t,{Z:()=>i})},172931:(e,t,n)=>{"use strict";n.d(t,{lX:()=>y});var r=n(110519),i=n(473124),o=(n(83780),n(196750));function a(e){return"/"===e.charAt(0)?e:"/"+e}function s(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function u(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function c(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function l(e,t,n,o){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=(0,r.Z)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.Z)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a}function f(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var h=!("undefined"==typeof window||!window.document||!window.document.createElement);function d(e,t){t(window.confirm(e))}var p="popstate",g="hashchange";function m(){try{return window.history.state||{}}catch(e){return{}}}function y(e){void 0===e&&(e={}),h||(0,o.Z)(!1);var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,y=!(-1===window.navigator.userAgent.indexOf("Trident")),v=e,b=v.forceRefresh,w=void 0!==b&&b,E=v.getUserConfirmation,T=void 0===E?d:E,x=v.keyLength,A=void 0===x?6:x,S=e.basename?u(a(e.basename)):"";function _(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&(o=s(o,S)),l(o,r,n)}function O(){return Math.random().toString(36).substr(2,A)}var R=f();function k(e){(0,r.Z)(H,e),H.length=n.length,R.notifyListeners(H.location,H.action)}function C(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||P(_(e.state))}function N(){P(_(m()))}var I=!1;function P(e){if(I)I=!1,k();else{R.confirmTransitionTo(e,"POP",T,(function(t){t?k({action:"POP",location:e}):function(e){var t=H.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,D(i))}(e)}))}}var L=_(m()),M=[L.key];function j(e){return S+c(e)}function D(e){n.go(e)}var B=0;function U(e){1===(B+=e)&&1===e?(window.addEventListener(p,C),y&&window.addEventListener(g,N)):0===B&&(window.removeEventListener(p,C),y&&window.removeEventListener(g,N))}var F=!1;var H={length:n.length,action:"POP",location:L,createHref:j,push:function(e,t){var r="PUSH",o=l(e,t,O(),H.location);R.confirmTransitionTo(o,r,T,(function(e){if(e){var t=j(o),a=o.key,s=o.state;if(i)if(n.pushState({key:a,state:s},null,t),w)window.location.href=t;else{var u=M.indexOf(H.location.key),c=M.slice(0,-1===u?0:u+1);c.push(o.key),M=c,k({action:r,location:o})}else window.location.href=t}}))},replace:function(e,t){var r="REPLACE",o=l(e,t,O(),H.location);R.confirmTransitionTo(o,r,T,(function(e){if(e){var t=j(o),a=o.key,s=o.state;if(i)if(n.replaceState({key:a,state:s},null,t),w)window.location.replace(t);else{var u=M.indexOf(H.location.key);-1!==u&&(M[u]=o.key),k({action:r,location:o})}else window.location.replace(t)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=R.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=R.appendListener(e);return U(1),function(){U(-1),t()}}};return H}},425568:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});const r=n(33976).C},33976:(e,t,n)=>{"use strict";n.d(t,{C:()=>c});var r=n(240236),i=n(659137),o=n(23278),a=n(15810);function s(e,t){return t?Object.keys(e).reduce((function(n,i){var o,a;return n[i]=(o=e[i],(a=t[i])?(0,r.pi)((0,r.pi)((0,r.pi)({},o||{}),a||{}),Object.keys(o).reduce((function(e,t){return e[t]=(0,r.pi)((0,r.pi)({},o[t]),a[t]||{}),e}),{})):o),n}),(0,r.pi)({},e)):e}function u(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var c=function(){function e(t,n,i,c){var l,f=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=f.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===a.du.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,a.FK)(f.ast,f.locales,f.formatters,f.formats,e,void 0,f.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=f.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(f.locales)[0]}},this.getAst=function(){return f.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var h=c||{},d=(h.formatters,(0,r._T)(h,["formatters"]));this.ast=e.__parse(t,(0,r.pi)((0,r.pi)({},d),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=s(e.formats,i),this.formatters=c&&c.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,o.H)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,r.ev)([void 0],t,!1)))}),{cache:u(l.number),strategy:o.A.variadic}),getDateTimeFormat:(0,o.H)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,r.ev)([void 0],t,!1)))}),{cache:u(l.dateTime),strategy:o.A.variadic}),getPluralRules:(0,o.H)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,r.ev)([void 0],t,!1)))}),{cache:u(l.pluralRules),strategy:o.A.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=i.Qc,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},953836:(e,t,n)=>{"use strict";n.d(t,{C8:()=>a,HR:()=>u,YR:()=>s,jK:()=>r,u_:()=>o});var r,i=n(240236);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(r||(r={}));var o=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return(0,i.ZT)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),a=function(e){function t(t,n,i,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),r.INVALID_VALUE,o)||this}return(0,i.ZT)(t,e),t}(o),s=function(e){function t(t,n,i){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),r.INVALID_VALUE,i)||this}return(0,i.ZT)(t,e),t}(o),u=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),r.MISSING_VALUE,n)||this}return(0,i.ZT)(t,e),t}(o)},15810:(e,t,n)=>{"use strict";n.d(t,{FK:()=>s,du:()=>r});var r,i=n(659137),o=n(953836);function a(e){return"function"==typeof e}function s(e,t,n,u,c,l,f){if(1===e.length&&(0,i.O4)(e[0]))return[{type:r.literal,value:e[0].value}];for(var h=[],d=0,p=e;d<p.length;d++){var g=p[d];if((0,i.O4)(g))h.push({type:r.literal,value:g.value});else if((0,i.yx)(g))"number"==typeof l&&h.push({type:r.literal,value:n.getNumberFormat(t).format(l)});else{var m=g.value;if(!c||!(m in c))throw new o.HR(m,f);var y=c[m];if((0,i.VG)(g))y&&"string"!=typeof y&&"number"!=typeof y||(y="string"==typeof y||"number"==typeof y?String(y):""),h.push({type:"string"==typeof y?r.literal:r.object,value:y});else if((0,i.rp)(g)){var v="string"==typeof g.style?u.date[g.style]:(0,i.Ii)(g.style)?g.style.parsedOptions:void 0;h.push({type:r.literal,value:n.getDateTimeFormat(t,v).format(y)})}else if((0,i.pe)(g)){v="string"==typeof g.style?u.time[g.style]:(0,i.Ii)(g.style)?g.style.parsedOptions:u.time.medium;h.push({type:r.literal,value:n.getDateTimeFormat(t,v).format(y)})}else if((0,i.uf)(g)){(v="string"==typeof g.style?u.number[g.style]:(0,i.Wh)(g.style)?g.style.parsedOptions:void 0)&&v.scale&&(y*=v.scale||1),h.push({type:r.literal,value:n.getNumberFormat(t,v).format(y)})}else{if((0,i.HI)(g)){var b=g.children,w=g.value,E=c[w];if(!a(E))throw new o.YR(w,"function",f);var T=E(s(b,t,n,u,c,l).map((function(e){return e.value})));Array.isArray(T)||(T=[T]),h.push.apply(h,T.map((function(e){return{type:"string"==typeof e?r.literal:r.object,value:e}})))}if((0,i.Wi)(g)){if(!(x=g.options[y]||g.options.other))throw new o.C8(g.value,y,Object.keys(g.options),f);h.push.apply(h,s(x.value,t,n,u,c))}else if((0,i.Jo)(g)){var x;if(!(x=g.options["=".concat(y)])){if(!Intl.PluralRules)throw new o.u_('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',o.jK.MISSING_INTL_API,f);var A=n.getPluralRules(t,{type:g.pluralType}).select(y-(g.offset||0));x=g.options[A]||g.options.other}if(!x)throw new o.C8(g.value,y,Object.keys(g.options),f);h.push.apply(h,s(x.value,t,n,u,c,y-(g.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===r.literal&&t.type===r.literal?n.value+=t.value:e.push(t),e}),[])}(h)}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(r||(r={}))},979498:e=>{"use strict";e.exports=e=>!(!e||e.length<3)&&(255===e[0]&&216===e[1]&&255===e[2])},385417:e=>{"use strict";e.exports=function(e){return!(!e||e.length<8)&&(137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]&&13===e[4]&&10===e[5]&&26===e[6]&&10===e[7])}},854928:(e,t,n)=>{"use strict";n.d(t,{$g:()=>b,K5:()=>g,Om:()=>I,YN:()=>T,kq:()=>S,p4:()=>h,zO:()=>E});var r=n(42782),i=function(){};function o(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var a=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(a(Object.getPrototypeOf(e))||[])},s=function(e){return function(e){var t=a(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},u="pending",c="fulfilled",l="rejected";function f(e){switch(this.state){case u:return e.pending&&e.pending(this.value);case l:return e.rejected&&e.rejected(this.value);case c:return e.fulfilled?e.fulfilled(this.value):this.value}}function h(e,t){if(o(arguments.length<=2,"fromPromise expects up to two arguments"),o("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then((0,r.aD)("observableFromPromise-resolve",(function(e){n.value=e,n.state=c})),(0,r.aD)("observableFromPromise-reject",(function(e){n.value=e,n.state=l}))),n.isPromiseBasedObservable=!0,n.case=f;var i=!t||t.state!==c&&t.state!==u?void 0:t.value;return(0,r.dw)(n,{value:i,state:u},{},{deep:!1}),n}!function(e){e.reject=(0,r.aD)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=l,n.value=t,n})),e.resolve=(0,r.aD)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=c,n.value=t,n}))}(h||(h={}));function d(e,t,n){void 0===t&&(t=i),void 0===n&&(n=void 0);var a=!1,s=!1,u=n,c=function(){a&&(a=!1,t())},l=(0,r.cp)("ResourceBasedObservable",(function(){o(!a&&!s),a=!0,e((function(e){(0,r.$$)(!0,(function(){u=e,l.reportChanged()}))}))}),c);return{current:function(){return o(!s,"subscribingObservable has already been disposed"),l.reportObserved()||a||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),u},dispose:function(){s=!0,c()},isAlive:function(){return a}}}var p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};function g(e,t){var n;void 0===t&&(t=!1);var i=(0,r.Fl)(e);return(n={subscribe:function(e){return"function"==typeof e?{unsubscribe:(0,r.N7)(i,(function(t){var n=t.newValue;return e(n)}),t)}:e&&"object"==typeof e&&e.next?{unsubscribe:(0,r.N7)(i,(function(t){var n=t.newValue;return e.next(n)}),t)}:{unsubscribe:function(){}}}})["function"==typeof Symbol&&Symbol.observable||"@@observable"]=function(){return this},n}!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,r.rC)(this),(0,r.z)((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),p([r.LO.ref],e.prototype,"current",void 0),p([r.aD.bound],e.prototype,"next",null),p([r.aD.bound],e.prototype,"complete",null),p([r.aD.bound],e.prototype,"error",null)}();var m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:r.LO.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:r.LO.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),(0,r.rC)(this),o((0,r.Pb)(e),"createViewModel expects an observable object");var n=s(this);s(e).forEach((function(i){var a;if(!n.includes(i)&&i!==r.so&&"__mobxDidRunLazyInitializers"!==i){if(o(-1===v.indexOf(i),"The propertyname "+i+" is reserved and cannot be used with viewModels"),(0,r.eJ)(e,i)){var s=(0,r.kS)(e,i),u=s.derivation.bind(t),c=null===(a=s.setter_)||void 0===a?void 0:a.bind(t);t.localComputedValues.set(i,(0,r.Fl)(u,{set:c}))}var l=Object.getOwnPropertyDescriptor(e,i),f=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,i,m(m({},f),{configurable:!0,get:function(){return(0,r.eJ)(e,i)?t.localComputedValues.get(i).get():t.isPropertyDirty(i)?t.localValues.get(i):t.model[i]},set:(0,r.aD)((function(n){(0,r.eJ)(e,i)?t.localComputedValues.get(i).set(n):n!==t.model[i]?t.localValues.set(i,n):t.localValues.delete(i)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(0,r.XP)(this.localValues).forEach((function(t){var n=e.localValues.get(t),i=e.model[t];(0,r.Ei)(i)?i.replace(n):(0,r.LJ)(i)?(i.clear(),i.merge(n)):(0,r.M5)(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),y([r.Fl],e.prototype,"isDirty",null),y([r.Fl],e.prototype,"changedValues",null),y([r.aD.bound],e.prototype,"submit",null),y([r.aD.bound],e.prototype,"reset",null),y([r.aD.bound],e.prototype,"resetProperty",null)}();function b(e,t){var n=(0,r.qp)(e,t);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return(0,r.N7)(n,(function(){}))}var w={};function E(e){return void 0===e&&(e=1e3),(0,r.SW)()?(w[e]||(w[e]="number"==typeof e?function(e){var t;return d((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):t=d((function(e){function n(){window.requestAnimationFrame((function(){e(Date.now()),t.isAlive()&&n()}))}e(Date.now()),n()}),(function(){}),Date.now())),w[e].current()):Date.now();var t}function T(e){return(0,r.SW)()||console.warn("'expr' should only be used inside other reactive functions."),(0,r.Fl)(e).get()}var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)},A=0;function S(e,t){o("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var n={},i=void 0,a=!1,s=void 0;"object"==typeof t?(i=t.onCleanup,a=void 0!==t.keepAlive&&t.keepAlive,s=t.debugNameGenerator):"function"==typeof t&&(i=t);var u=!1;return function(o){var c=function(e){var t=typeof e;if("string"===t)return"string:"+e;if("number"===t)return"number:"+e;if(null===e||"object"!==t&&"function"!==t)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var n=e.$transformId;void 0===n&&function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}(e,"$transformId",n="memoizationId:"+ ++A);return n}(o),l=n[c];if(l)return l.get();if(!a&&!(0,r.SW)()){u||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),u=!0);var f=e(o);return i&&i(f,o),f}return l=n[c]=function(o,u){var c,l={};"object"==typeof t?(i=t.onCleanup,s=t.debugNameGenerator,l=t):"function"==typeof t?i=t:(i=void 0,s=void 0);var f=s?s(u):"Transformer-"+e.name+"-"+o,h=(0,r.Fl)((function(){return c=e(u)}),x(x({},l),{name:f}));if(!a)var d=(0,r.pA)(h,(function(){delete n[o],d(),i&&i(c,u)}));return h}(c,o),l.get()}}var _,O=(_=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_(e,t)},function(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),R=(function(e){function t(t,n,i){var o=void 0===i?{}:i,a=o.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=o.keyToName,c=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;Object.defineProperty(l,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l._keyToName=c,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+s),l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=(0,r.N7)(l._base,(function(e){if("splice"===e.type)(0,r.PS)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];l._removeItem(r)}for(var i=0,o=e.added;i<o.length;i++){var a=o[i];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");(0,r.PS)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}O(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=(0,r.LO)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),i=this._getGroupArr(n),o={groupByValue:n,groupArrIndex:i.length,reaction:(0,r.U5)((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=t._getGroupArr(n),a=o.length;o.push(e),i.groupByValue=n,i.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),i.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(r.vP),function(){function e(e,t){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0}}),Object.defineProperty(e.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),e}()),k=function(){function e(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new R(this.store,e)}}),e}(),C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C.apply(this,arguments)},N=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function I(e,t){if(void 0===t&&(t=!1),(0,r.LG)(e))throw new Error("computedFn shouldn't be used on actions");var n=!1,i=0,o="boolean"==typeof t?{keepAlive:t}:t,a=new k;return function(){for(var t=this,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c,l=a.entry(s);if(l.exists())return l.get().get();if(!o.keepAlive&&!(0,r.SW)())return!n&&(0,r.pu)().computedRequiresReaction&&(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),n=!0),e.apply(this,s);var f=(0,r.Fl)((function(){return c=e.apply(t,s)}),C(C({},o),{name:"computedFn("+(o.name||e.name)+"#"+ ++i+")"}));return l.set(f),o.keepAlive||(0,r.pA)(f,(function(){a.entry(s).delete(),o.onCleanup&&o.onCleanup.apply(o,N([c],s)),c=void 0})),f.get()}}},859108:(e,t,n)=>{"use strict";n.d(t,{E1:()=>o,Tl:()=>a,Zy:()=>s});var r,i=!("undefined"==typeof window||!window.document||!window.document.createElement);function o(){if(r)return r;if(!i||!window.document.body)return"indeterminate";var e=window.document.createElement("div");return e.appendChild(document.createTextNode("ABCD")),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),r="reverse",e.scrollLeft>0?r="default":(e.scrollLeft=2,e.scrollLeft<2&&(r="negative")),document.body.removeChild(e),r}function a(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;var r=o();if("indeterminate"===r)return Number.NaN;switch(r){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n}return n}function s(e,t,n){if("rtl"===n){var r=o();if("indeterminate"!==r)switch(r){case"negative":e.scrollLeft=e.clientWidth-e.scrollWidth+t;break;case"reverse":e.scrollLeft=e.scrollWidth-e.clientWidth-t;break;default:e.scrollLeft=t}}else e.scrollLeft=t}},543501:(e,t,n)=>{"use strict";var r=n(338660);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},514993:(e,t,n)=>{e.exports=n(543501)()},338660:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},984956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g,x:()=>d});var r=n(110519),i=n(122293),o=n(982721),a=n(875604),s=n(514993),u=n.n(s),c=n(361443),l=["client","offset","scroll","bounds","margin"];function f(e){var t=[];return l.forEach((function(n){e[n]&&t.push(n)})),t}function h(e,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var r=e.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(t.indexOf("margin")>-1){var i=getComputedStyle(e);n.margin={top:i?parseInt(i.marginTop):0,right:i?parseInt(i.marginRight):0,bottom:i?parseInt(i.marginBottom):0,left:i?parseInt(i.marginLeft):0}}return n}function d(e){return function(t){var n,s;return s=n=function(n){function s(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},t._animationFrameID=null,t._resizeObserver=null,t._node=null,t._window=null,t.measure=function(n){var r=h(t._node,e||f(t.props));n&&(r.entry=n[0].contentRect),t._animationFrameID=t._window.requestAnimationFrame((function(){null!==t._resizeObserver&&(t.setState({contentRect:r}),"function"==typeof t.props.onResize&&t.props.onResize(r))}))},t._handleRef=function(e){var n;null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.unobserve(t._node),t._node=e,t._window=(n=t._node)&&n.ownerDocument&&n.ownerDocument.defaultView||window;var r=t.props.innerRef;r&&("function"==typeof r?r(t._node):r.current=t._node),null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.observe(t._node)},t}(0,o.Z)(s,n);var u=s.prototype;return u.componentDidMount=function(){this._resizeObserver=null!==this._window&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new c.Z(this.measure),null!==this._node&&(this._resizeObserver.observe(this._node),"function"==typeof this.props.onResize&&this.props.onResize(h(this._node,e||f(this.props))))},u.componentWillUnmount=function(){null!==this._window&&this._window.cancelAnimationFrame(this._animationFrameID),null!==this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},u.render=function(){var e=this.props,n=(e.innerRef,e.onResize,(0,i.Z)(e,["innerRef","onResize"]));return(0,a.createElement)(t,(0,r.Z)({},n,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},s}(a.Component),n.propTypes={client:u().bool,offset:u().bool,scroll:u().bool,bounds:u().bool,margin:u().bool,innerRef:u().oneOfType([u().object,u().func]),onResize:u().func},s}}var p=d()((function(e){var t=e.measure,n=e.measureRef,r=e.contentRect;return(0,e.children)({measure:t,measureRef:n,contentRect:r})}));p.displayName="Measure",p.propTypes.children=u().func;const g=p},489212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(110519),i=n(122293),o=n(982721),a=n(741635),s=n(139741),u=n(875604),c=n(92009),l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.Z)(e,t)}))},f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,o.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,a.Z)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&l(e,r),i&&l(e,i),o&&l(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return u.createElement(c.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.Component);f.defaultProps={classNames:""},f.propTypes={};const h=f},92009:(e,t,n)=>{"use strict";n.d(t,{$r:()=>c,Ix:()=>d,Wj:()=>l,ZP:()=>m,cn:()=>h,d0:()=>f});var r=n(122293),i=n(982721),o=n(875604),a=n(204358),s=n(237811),u=n(469939),c="unmounted",l="exited",f="entering",h="entered",d="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=l,r.appearStatus=f):i=h:i=t.unmountOnExit||t.mountOnEnter?c:l,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==h&&(t=f):n!==f&&n!==h||(t=d)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],u=i[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||s.Z.disabled?this.safeSetState({status:h},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:f},(function(){t.props.onEntering(o,u),t.onTransitionEnd(l,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(o,u)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!s.Z.disabled?(this.props.onExit(r),this.safeSetState({status:d},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:l},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:l},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(u.Z.Provider,{value:null},"function"==typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function g(){}p.contextType=u.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},p.UNMOUNTED=c,p.EXITED=l,p.ENTERING=f,p.ENTERED=h,p.EXITING=d;const m=p},262817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(122293),i=n(110519),o=n(302699),a=n(982721),s=n(875604),u=n(469939),c=n(585895),l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,o.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,c.Kg)(e,r):(0,c.Rp)(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=(0,c.n)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,i.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,r.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=l(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?s.createElement(u.Z.Provider,{value:o},a):s.createElement(u.Z.Provider,{value:o},s.createElement(t,i,a))},t}(s.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};const h=f},469939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(875604).createContext(null)},237811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={disabled:!1}},585895:(e,t,n)=>{"use strict";n.d(t,{Kg:()=>a,Rp:()=>s,n:()=>i});var r=n(875604);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}function a(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))}function s(e,t,n){var a=i(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,a);return Object.keys(s).forEach((function(i){var u=s[i];if((0,r.isValidElement)(u)){var c=i in t,l=i in a,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(s[i]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:f.props.in,exit:o(u,"exit",e),enter:o(u,"enter",e)})):s[i]=(0,r.cloneElement)(u,{in:!1}):s[i]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:o(u,"exit",e),enter:o(u,"enter",e)})}})),s}},361443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&u()}function s(){a(o)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=v(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function g(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=d(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=p(r,"left","right")+o),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return v(i.left,i.top,s,u)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):g(e):h}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n,r,i,o,a,s,u,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),l(u,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),u);l(this,{target:e,contentRect:c})},E=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),T="undefined"!=typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new E(t,n,this);T.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=T.get(this))[e].apply(t,arguments)}}));const A=void 0!==o.ResizeObserver?o.ResizeObserver:x},473124:(e,t,n)=>{"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,{Z:()=>o});const o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),u=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?i(o,h):".."===d?(i(o,h),f++):f&&(i(o,h),f--)}if(!u)for(;f--;f)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p}},733381:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(593787),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(881458).L)},487530:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});var r=n(579956),i=n(864955),o=n(137877),a=n(800336),s=n(536600),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=(0,i.Y)(e,t,n);if(r?r.call(o,this.source):o.add(this.source||s.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,a.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=s.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},483541:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(536600),i=n(384496),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},895804:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(593787),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(881458).L)},958766:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},17986:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>f});var r=n(593787),i=n(487530),o=n(881458),a=n(660934),s=n(846196),u=n(165165),c=n(480851),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.ZT(t,e),t}(o.L),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.ZT(t,e),t.prototype[c.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),a.w.EMPTY):this.isStopped?(e.complete(),a.w.EMPTY):(this.observers.push(e),new u.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.y),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.w.EMPTY},t}(f)},165165:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(593787),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(660934).w)},881458:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(593787),i=n(534721),o=n(483541),a=n(660934),s=n(480851),u=n(536600),c=n(384496),l=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.c;break;case 1:if(!n){a.destination=o.c;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,i)}return a}return r.ZT(t,e),t.prototype[s.b]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(a.w),f=function(e){function t(t,n,r,a){var s,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return(0,i.m)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.c&&(c=Object.create(n),(0,i.m)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),u.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!u.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return u.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},660934:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r=n(806242),i=n(423595),o=n(534721),a=n(471585),s=n(770557),u=n(542354),c=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,c=n._parent,f=n._parents,h=n._unsubscribe,d=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,g=f?f.length:0;c;)c.remove(this),c=++p<g&&f[p]||null;if((0,o.m)(h))(0,a.Y)(h).call(this)===s.T&&(t=!0,e=e||(s.T.e instanceof u.B?l(s.T.e.errors):[s.T.e]));if((0,r.k)(d))for(p=-1,g=d.length;++p<g;){var m=d[p];if((0,i.K)(m))if((0,a.Y)(m.unsubscribe).call(m)===s.T){t=!0,e=e||[];var y=s.T.e;y instanceof u.B?e=e.concat(l(y.errors)):e.push(y)}}if(t)throw new u.B(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u.B?t.errors:t)}),[])}},536600:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},91776:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(593787),i=n(17986),o=n(487530),a=n(881458),s=n(660934),u=n(605032),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.w).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=s.w.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return(0,u.x)()(this)},t}(o.y).prototype,l={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.Yc);a.L},332098:(e,t,n)=>{"use strict";n.d(t,{E_:()=>i,cS:()=>o});var r=n(487530),i=new r.y((function(e){return e.complete()}));function o(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},423713:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var r=n(487530),i=n(656159),o=n(741976),a=n(37159),s=n(356821),u=n(233771),c=n(343610),l=n(533083),f=n(671817),h=n(80506);function d(e,t){if(!t)return e instanceof r.y?e:new r.y((0,h.s)(e));if(null!=e){if((0,a.c)(e))return(0,f.u)(e,t);if((0,i.t)(e))return(0,c.p)(e,t);if((0,o.z)(e))return(0,u.n)(e,t);if((0,s.T)(e)||"string"==typeof e)return(0,l.E)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},233771:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r=n(487530),i=n(660934),o=n(152005);function a(e,t){return t?new r.y((function(n){var r=new i.w,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})):new r.y((0,o.V)(e))}},467989:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(487530),i=n(806242),o=n(534721),a=n(858800);Object.prototype.toString;function s(e,t,n,c){return(0,o.m)(n)&&(c=n,n=void 0),c?s(e,t,n).pipe((0,a.U)((function(e){return(0,i.k)(e)?c.apply(void 0,e):c(e)}))):new r.y((function(r){u(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function u(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),o=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)u(e[l],t,n,r,i)}r.add(o)}},533083:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(487530),i=n(660934),o=n(991441),a=n(269284);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new r.y((function(n){var r,a=new i.w;return a.add((function(){r&&"function"==typeof r.return&&r.return()})),a.add(t.schedule((function(){r=e[o.hZ](),a.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),a})):new r.y((0,a.u)(e))}},671817:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(487530),i=n(660934),o=n(137877),a=n(915024);function s(e,t){return t?new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){var i=e[o.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r})):new r.y((0,a.h)(e))}},343610:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(487530),i=n(660934),o=n(635378);function a(e,t){return t?new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r})):new r.y((0,o.A)(e))}},21103:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(487530),i=n(785789),o=n(444531),a=n(233771);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return(0,i.K)(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(n)((0,a.n)(e,s))}},127414:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(487530),i=n(900832),o=new r.y(i.Z)},980600:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(785789),i=n(233771),o=n(332098),a=n(829578);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch((0,r.K)(n)?e.pop():n=void 0,e.length){case 0:return(0,o.cS)(n);case 1:return n?(0,i.n)(e,n):(0,a.i)(e[0]);default:return(0,i.n)(e,n)}}},829578:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(487530);function i(e){var t=new r.y((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}},143206:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(593787),i=n(881458),o=n(934276);function a(e,t){return void 0===t&&(t=o.P),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.ZT(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.L);function c(e){e.debouncedNext()}},953116:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(593787),i=n(881458),o=n(471585),a=n(770557);function s(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.ZT(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=(0,o.Y)(this.keySelector)(e))===a.T)return this.destination.error(a.T.e);var n=!1;if(this.hasKey){if((n=(0,o.Y)(this.compare)(this.key,t))===a.T)return this.destination.error(a.T.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(i.L)},223897:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(593787),i=n(881458);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.L)},30240:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var r=n(593787),i=n(881458),o=n(660934);function a(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.callback))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o.w(n)),r}return r.ZT(t,e),t}(i.L)},858800:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(593787),i=n(881458);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.L)},444531:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(516555),i=n(470432);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.zg)(i.y,e)}},516555:(e,t,n)=>{"use strict";n.d(t,{zg:()=>c});var r=n(593787),i=n(251796),o=n(895804),a=n(733381),s=n(858800),u=n(423713);function c(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(c((function(n,r){return(0,u.D)(e(n,r)).pipe((0,s.U)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project,this.concurrent))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new a.d(this,void 0,void 0);this.destination.add(r),(0,i.D)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.L)},609917:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(91776);function i(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(i,t));var a=Object.create(n,r.N);return a.source=n,a.subjectFactory=i,a}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},605032:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=n(593787),i=n(881458);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.L)},562972:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(609917),i=n(605032),o=n(17986);function a(){return new o.xQ}function s(){return function(e){return(0,i.x)()((0,r.O)(a)(e))}}},97093:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r=n(593787),i=n(895804),o=n(733381),a=n(251796),s=n(858800),u=n(423713);function c(e,t){return"function"==typeof t?function(n){return n.pipe(c((function(n,r){return(0,u.D)(e(n,r)).pipe((0,s.U)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.d(this,void 0,void 0);this.destination.add(i),this.innerSubscription=(0,a.D)(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i.L)},227119:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r=n(593787),i=n(881458),o=n(941881),a=n(332098);function s(e){return function(t){return 0===e?(0,a.cS)():t.lift(new u(e))}}var u=function(){function e(e){if(this.total=e,this.total<0)throw new o.W}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.L)},915632:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(593787),i=n(881458);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.index=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):n.complete()},t}(i.L)},868203:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(593787),i=function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(660934).w)},352218:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(593787),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(868203).a)},565928:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(593787),i=n(958766),o=function(e){function t(n,r){void 0===r&&(r=i.b.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.b)},934276:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(352218),i=new(n(565928).v)(r.o)},991441:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});var i=r()},137877:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},480851:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},941881:(e,t,n)=>{"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(t,{W:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},846196:(e,t,n)=>{"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,{N:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},542354:(e,t,n)=>{"use strict";function r(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}n.d(t,{B:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},579956:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(881458);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.L?i:null}return!0}},770557:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r={e:{}}},384496:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}))}n.d(t,{z:()=>r})},470432:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},806242:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},741976:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},534721:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},37159:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(137877);function i(e){return e&&"function"==typeof e[r.L]}},356821:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(991441);function i(e){return e&&"function"==typeof e[r.hZ]}},423595:(e,t,n)=>{"use strict";function r(e){return null!=e&&"object"==typeof e}n.d(t,{K:()=>r})},656159:(e,t,n)=>{"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},785789:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},900832:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},800336:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(900832);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.Z}},80506:(e,t,n)=>{"use strict";n.d(t,{s:()=>d});var r=n(487530),i=n(152005),o=n(635378),a=n(269284),s=n(915024),u=n(741976),c=n(656159),l=n(423595),f=n(991441),h=n(137877),d=function(e){if(e instanceof r.y)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[h.L])return(0,s.h)(e);if((0,u.z)(e))return(0,i.V)(e);if((0,c.t)(e))return(0,o.A)(e);if(e&&"function"==typeof e[f.hZ])return(0,a.u)(e);var t=(0,l.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},152005:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},269284:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(991441),i=function(e){return function(t){for(var n=e[r.hZ]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},915024:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(137877),i=function(e){return function(t){var n=e[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},635378:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(384496),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.z),t}}},251796:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(733381),i=n(80506);function o(e,t,n,o,a){if(void 0===a&&(a=new r.d(e,n,o)),!a.closed)return(0,i.s)(t)(a)}},864955:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(881458),i=n(480851),o=n(483541);function a(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}},471585:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r,i=n(770557);function o(){try{return r.apply(this,arguments)}catch(e){return i.T.e=e,i.T}}function a(e){return r=e,o}},503216:(e,t,n)=>{var r=n(470977),i=n(81681),o=n(860389),a=n(653392),s=n(548087),u=n(716877),c=n(546580);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,e.exports=c},470977:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},716877:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},81681:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},548087:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},653392:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},860389:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},546580:function(e,t,n){var r;!function(i,o,a){var s,u=256,c=a.pow(u,6),l=a.pow(2,52),f=2*l,h=u-1;function d(e,t,n){var r=[],h=y(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,v(o)]}}():e,3),r),d=new p(r),b=function(){for(var e=d.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,y(v(d.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&g(r,d),e.state=function(){return g(d,{})}),n?(a.random=e,t):e})(b,h,"global"in t?t.global:this==a,t.state)}function p(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=h&o+e[i%n]+(t=a[i])],a[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=h&i+1],n=n*u+a[h&(a[i]=a[o=h&o+t])+(a[o]=t)];return r.i=i,r.j=o,n})(u)}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(m(e[n],t-1))}catch(o){}return r.length?r:"string"==i?e:e+"\0"}function y(e,t){for(var n,r=e+"",i=0;i<r.length;)t[h&i]=h&(n^=19*t[h&i])+r.charCodeAt(i++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(a.random(),o),e.exports){e.exports=d;try{s=n(935270)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},781820:(e,t,n)=>{"use strict";var r,i=n(631400);e=n.hmd(e),r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e;(0,i.Z)(r)},631400:(e,t,n)=>{"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,{Z:()=>r})},741137:(e,t,n)=>{"use strict";n.d(t,{Wq:()=>x,ht:()=>T});var r=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],i=r.join(","),o="undefined"==typeof Element,a=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,s=!o&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},u=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},c=function(e,t,n){if(u(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&a.call(e,i)&&r.unshift(e),r=r.filter(n)},l=function e(t,n,r){for(var o=[],s=Array.from(t);s.length;){var c=s.shift();if(!u(c,!1))if("SLOT"===c.tagName){var l=c.assignedElements(),f=e(l.length?l:c.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:c,candidates:f})}else{a.call(c,i)&&r.filter(c)&&(n||!t.includes(c))&&o.push(c);var h=c.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(c),d=!u(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(c));if(h&&d){var p=e(!0===h?c.children:h.children,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:c,candidates:p})}else s.unshift.apply(s,c.children)}}return o},f=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},h=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!f(e)?0:e.tabIndex},d=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},p=function(e){return"INPUT"===e.tagName},g=function(e){return function(e){return p(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||s(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},m=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},y=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=a.call(e,"details>summary:first-of-type")?e.parentElement:e;if(a.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return m(e)}else{if("function"==typeof r){for(var o=e;e;){var u=e.parentElement,c=s(e);if(u&&!u.shadowRoot&&!0===r(u))return m(e);e=e.assignedSlot?e.assignedSlot:u||c===e.ownerDocument?u:c.host}e=o}if(function(e){var t,n,r,i,o=e&&s(e),a=null===(t=o)||void 0===t?void 0:t.host,u=!1;if(o&&o!==e)for(u=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!u&&a;){var c,l,f;u=!(null===(l=a=null===(c=o=s(a))||void 0===c?void 0:c.host)||void 0===l||null===(f=l.ownerDocument)||void 0===f||!f.contains(a))}return u}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},v=function(e,t){return!(t.disabled||u(t)||function(e){return p(e)&&"hidden"===e.type}(t)||y(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!a.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},b=function(e,t){return!(g(t)||h(t)<0||!v(e,t))},w=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},E=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=function(e,t){var n=h(e);return n<0&&t&&!f(e)?0:n}(a,o),u=o?e(t.candidates):a;0===s?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:u})})),r.sort(d).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},T=function(e,t){var n;return n=(t=t||{}).getShadowRoot?l([e],t.includeContainer,{filter:b.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:w}):c(e,t.includeContainer,b.bind(null,t)),E(n)},x=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,i)&&b(t,e)}},196750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r="Invariant failed";const i=function(e,t){if(!e)throw new Error(r)}},593787:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},83780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const i=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));var i=void 0===t?"undefined":r(t);if(i!==(void 0===n?"undefined":r(n)))return!1;if("object"===i){var o=t.valueOf(),a=n.valueOf();if(o!==t||a!==n)return e(o,a);var s=Object.keys(t),u=Object.keys(n);return s.length===u.length&&s.every((function(r){return e(t[r],n[r])}))}return!1}},552170:(e,t,n)=>{var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function a(e,t,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var c=!!window.FontFace;function l(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function f(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(t[i]===r[a]){o=!0;break}o||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function g(e,t,n){function r(){s&&i&&o&&(s(a),s=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,o=!0,a=null,s=n||null;c?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),f(e,"head",t)}function m(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var o=l(e,"script",{src:t}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function y(){this.a=0,this.c=null}function v(e){return e.a++,function(){e.a--,w(e)}}function b(e,t){e.c=t,w(e)}function w(e){0==e.a&&e.c&&(e.c(),e.c=null)}function E(e){this.a=e||"-"}function T(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function x(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function A(e){return e.a+e.f}function S(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function _(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function O(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new E("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function R(e){if(e.g){var t=p(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),d(e.f,n,r)}k(e,"inactive")}function k(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,A(n)):e.h[t]())}function C(){this.c={}}function N(e,t){this.c=e,this.f=t,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function I(e){f(e.c,"body",e.a)}function P(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(e.c)+";font-style:"+S(e)+";font-weight:"+e.f+"00;"}function L(e,t,n,r,i,o){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function M(e,t,n,r,i,o,a){this.v=e,this.B=t,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),e=P(e=new T(this.a.c+",serif",A(this.a))),this.g.a.style.cssText=e,e=P(e=new T(this.a.c+",sans-serif",A(this.a))),this.h.a.style.cssText=e,e=P(e=new T("serif",A(this.a))),this.j.a.style.cssText=e,e=P(e=new T("sans-serif",A(this.a))),this.m.a.style.cssText=e,I(this.g),I(this.h),I(this.j),I(this.m)}E.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},L.prototype.start=function(){var e=this.c.o.document,t=this,n=s(),r=new Promise((function(r,i){!function o(){s()-n>=t.f?i():e.fonts.load(function(e){return S(e)+" "+e.f+"00 300px "+x(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(e,n){i=setTimeout(n,t.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var j={D:"serif",C:"sans-serif"},D=null;function B(){if(null===D){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return D}function U(e,t,n){for(var r in j)if(j.hasOwnProperty(r)&&t===e.f[j[r]]&&n===e.f[j[r]])return!0;return!1}function F(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=B()&&U(e,n,r)),t?s()-e.A>=e.w?B()&&U(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?H(e,e.v):H(e,e.B):function(e){setTimeout(a((function(){F(this)}),e),50)}(e):H(e,e.v)}function H(e,t){setTimeout(a((function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),t(this.a)}),e),0)}function V(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}M.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),F(this)};var G=null;function q(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&d(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),k(e,"active")):R(e.a))}function z(e){this.j=e,this.a=new C,this.h=0,this.f=this.g=!0}function K(e,t,n,r,i){var o=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,s=r||{};if(0===n.length&&o)R(t.a);else{t.f+=n.length,o&&(t.j=o);var u,c=[];for(u=0;u<n.length;u++){var l=n[u],f=s[l.c],h=t.a,p=l;if(h.g&&d(h.f,[h.a.c("wf",p.c,A(p).toString(),"loading")]),k(h,"fontloading",p),h=null,null===G)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);G=p?42<parseInt(p[1],10):!g}else G=!1;h=G?new L(a(t.g,t),a(t.h,t),t.c,l,t.s,f):new M(a(t.g,t),a(t.h,t),t.c,l,t.s,e,f),c.push(h)}for(u=0;u<c.length;u++)c[u].start()}}),0)}function W(e,t){this.c=e,this.a=t}function X(e,t){this.c=e,this.a=t}function Y(e,t){this.c=e||Z,this.a=[],this.f=[],this.g=t||""}V.prototype.g=function(e){var t=this.a;t.g&&d(t.f,[t.a.c("wf",e.c,A(e).toString(),"active")],[t.a.c("wf",e.c,A(e).toString(),"loading"),t.a.c("wf",e.c,A(e).toString(),"inactive")]),k(t,"fontactive",e),this.m=!0,q(this)},V.prototype.h=function(e){var t=this.a;if(t.g){var n=p(t.f,t.a.c("wf",e.c,A(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,A(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,A(e).toString(),"inactive")),d(t.f,r,i)}k(t,"fontinactive",e),q(this)},z.prototype.load=function(e){this.c=new u(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],i=n.timeout;!function(e){e.g&&d(e.f,[e.a.c("wf","loading")]),k(e,"loading")}(t);r=function(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var o=e.c[r];o&&i.push(o(t[r],n))}return i}(e.a,n,e.c);var o=new V(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){K(e,o,t,n,r)}))}(this,new O(this.c,e),e)},W.prototype.load=function(e){function t(){if(o["__mti_fntLst"+r]){var n,i=o["__mti_fntLst"+r](),a=[];if(i)for(var s=0;s<i.length;s++){var u=i[s].fontfamily;null!=i[s].fontStyle&&null!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,a.push(new T(u,n))):a.push(new T(u))}e(a)}else setTimeout((function(){t()}),50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var o=n.c.o;m(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),(function(i){i?e([]):(o["__MonotypeConfiguration__"+r]=function(){return n.a},t())})).id="__MonotypeAPIScript__"+r}else e([])},X.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new y;for(t=0,n=r.length;t<n;t++)g(this.c,r[t],v(a));var s=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var u=r[1].split(","),c=0;c<u.length;c+=1)s.push(new T(r[0],u[c]));else s.push(new T(r[0]));b(a,(function(){e(s,o)}))};var Z="https://fonts.googleapis.com/css";function $(e){this.f=e,this.a=[],this.c={}}var J={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function oe(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new y,n=this.c,r=new Y(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),e.a.push(i.join(o))}}(r,i);var o=new $(i);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(f=te.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":ee[l],null==(f=f[1])||""==f)f="4";else var f=Q[f]||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&a.push(l)}0<a.length&&(o=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=J[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=J[i])&&(e.c[i]=r),r=0;r<o.length;r+=1)e.a.push(new T(i,o[r]))}}(o),g(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),v(t)),b(t,(function(){e(o.a,o.c,re)}))},ie.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var o=t[i],a=t[i+1],s=0;s<a.length;s++)r.push(new T(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(u){}e(r)}}),2e3):e([])},oe.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new T(a.name,_("font-weight:"+a.weight+";font-style:"+a.style)))}e(r.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var ae=new z(window);ae.a.c.custom=function(e,t){return new X(t,e)},ae.a.c.fontdeck=function(e,t){return new oe(t,e)},ae.a.c.monotype=function(e,t){return new W(t,e)},ae.a.c.typekit=function(e,t){return new ie(t,e)},ae.a.c.google=function(e,t){return new ne(t,e)};var se={load:a(ae.load,ae)};void 0===(r=function(){return se}.call(t,n,t,e))||(e.exports=r)}()},935270:()=>{},993864:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},302699:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},110519:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},982721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(565482);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},122293:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},565482:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},474183:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>h,Qo:()=>p,RR:()=>c,US:()=>a,X5:()=>u,cv:()=>g,dp:()=>v,dr:()=>y,oo:()=>o,uY:()=>m,x7:()=>s});var r=n(573662);function i(e,t,n){let{reference:i,floating:o}=e;const a=(0,r.Qq)(t),s=(0,r.Wh)(t),u=(0,r.I4)(s),c=(0,r.k3)(t),l="y"===a,f=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,d=i[u]/2-o[u]/2;let p;switch(c){case"top":p={x:f,y:i.y-o.height};break;case"bottom":p={x:f,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-o.width,y:h};break;default:p={x:i.x,y:i.y}}switch((0,r.hp)(t)){case"start":p[s]-=d*(n&&l?-1:1);break;case"end":p[s]+=d*(n&&l?-1:1)}return p}const o=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,u=a.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:h}=i(l,r,c),d=r,p={},g=0;for(let m=0;m<u.length;m++){const{name:n,fn:a}=u[m],{x:y,y:v,data:b,reset:w}=await a({x:f,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:p,rects:l,platform:s,elements:{reference:e,floating:t}});f=null!=y?y:f,h=null!=v?v:h,p={...p,[n]:{...p[n],...b}},w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(l=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:f,y:h}=i(l,d,c))),m=-1)}return{x:f,y:h,placement:d,strategy:o,middlewareData:p}};async function a(e,t){var n;void 0===t&&(t={});const{x:i,y:o,platform:a,rects:s,elements:u,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=(0,r.ku)(t,e),g=(0,r.yd)(p),m=u[d?"floating"===h?"reference":"floating":h],y=(0,r.JB)(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(u.floating)),boundary:l,rootBoundary:f,strategy:c})),v="floating"===h?{x:i,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u.floating)),w=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},E=(0,r.JB)(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-E.top+g.top)/w.y,bottom:(E.bottom-y.bottom+g.bottom)/w.y,left:(y.left-E.left+g.left)/w.x,right:(E.right-y.right+g.right)/w.x}}const s=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:a,platform:s,elements:u,middlewareData:c}=t,{element:l,padding:f=0}=(0,r.ku)(e,t)||{};if(null==l)return{};const h=(0,r.yd)(f),d={x:n,y:i},p=(0,r.Wh)(o),g=(0,r.I4)(p),m=await s.getDimensions(l),y="y"===p,v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",E=a.reference[g]+a.reference[p]-d[p]-a.floating[g],T=d[p]-a.reference[p],x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l));let A=x?x[w]:0;A&&await(null==s.isElement?void 0:s.isElement(x))||(A=u.floating[w]||a.floating[g]);const S=E/2-T/2,_=A/2-m[g]/2-1,O=(0,r.VV)(h[v],_),R=(0,r.VV)(h[b],_),k=O,C=A-m[g]-R,N=A/2-m[g]/2+S,I=(0,r.uZ)(k,N,C),P=!c.arrow&&null!=(0,r.hp)(o)&&N!==I&&a.reference[g]/2-(N<k?O:R)-m[g]/2<0,L=P?N<k?N-k:N-C:0;return{[p]:d[p]+L,data:{[p]:I,centerOffset:N-I-L,...P&&{alignmentOffset:L}},reset:P}}});const u=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,o;const{rects:s,middlewareData:u,placement:c,platform:l,elements:f}=t,{crossAxis:h=!1,alignment:d,allowedPlacements:p=r.Ct,autoAlignment:g=!0,...m}=(0,r.ku)(e,t),y=void 0!==d||p===r.Ct?function(e,t,n){return(e?[...n.filter((t=>(0,r.hp)(t)===e)),...n.filter((t=>(0,r.hp)(t)!==e))]:n.filter((e=>(0,r.k3)(e)===e))).filter((n=>!e||(0,r.hp)(n)===e||!!t&&(0,r.Go)(n)!==n))}(d||null,g,p):p,v=await a(t,m),b=(null==(n=u.autoPlacement)?void 0:n.index)||0,w=y[b];if(null==w)return{};const E=(0,r.i8)(w,s,await(null==l.isRTL?void 0:l.isRTL(f.floating)));if(c!==w)return{reset:{placement:y[0]}};const T=[v[(0,r.k3)(w)],v[E[0]],v[E[1]]],x=[...(null==(i=u.autoPlacement)?void 0:i.overflows)||[],{placement:w,overflows:T}],A=y[b+1];if(A)return{data:{index:b+1,overflows:x},reset:{placement:A}};const S=x.map((e=>{const t=(0,r.hp)(e.placement);return[e.placement,t&&h?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),_=(null==(o=S.filter((e=>e[2].slice(0,(0,r.hp)(e[0])?2:3).every((e=>e<=0))))[0])?void 0:o[0])||S[0][0];return _!==c?{data:{index:b+1,overflows:x},reset:{placement:_}}:{}}}},c=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:s,rects:u,initialPlacement:c,platform:l,elements:f}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...v}=(0,r.ku)(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const b=(0,r.k3)(o),w=(0,r.k3)(c)===c,E=await(null==l.isRTL?void 0:l.isRTL(f.floating)),T=p||(w||!y?[(0,r.pw)(c)]:(0,r.gy)(c));p||"none"===m||T.push(...(0,r.KX)(c,y,m,E));const x=[c,...T],A=await a(t,v),S=[];let _=(null==(i=s.flip)?void 0:i.overflows)||[];if(h&&S.push(A[b]),d){const e=(0,r.i8)(o,u,E);S.push(A[e[0]],A[e[1]])}if(_=[..._,{placement:o,overflows:S}],!S.every((e=>e<=0))){var O,R;const e=((null==(O=s.flip)?void 0:O.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(R=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:R.placement;if(!n)switch(g){case"bestFit":{var k;const e=null==(k=_.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:k[0];e&&(n=e);break}case"initialPlacement":n=c}if(o!==n)return{reset:{placement:n}}}return{}}}};function l(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f(e){return r.mA.some((t=>e[t]>=0))}const h=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=(0,r.ku)(e,t);switch(i){case"referenceHidden":{const e=l(await a(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:f(e)}}}case"escaped":{const e=l(await a(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:f(e)}}}default:return{}}}}};function d(e){const t=(0,r.VV)(...e.map((e=>e.left))),n=(0,r.VV)(...e.map((e=>e.top)));return{x:t,y:n,width:(0,r.Fp)(...e.map((e=>e.right)))-t,height:(0,r.Fp)(...e.map((e=>e.bottom)))-n}}const p=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:i,rects:o,platform:a,strategy:s}=t,{padding:u=2,x:c,y:l}=(0,r.ku)(e,t),f=Array.from(await(null==a.getClientRects?void 0:a.getClientRects(i.reference))||[]),h=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let i=null;for(let r=0;r<t.length;r++){const e=t[r];!i||e.y-i.y>i.height/2?n.push([e]):n[n.length-1].push(e),i=e}return n.map((e=>(0,r.JB)(d(e))))}(f),p=(0,r.JB)(d(f)),g=(0,r.yd)(u);const m=await a.getElementRects({reference:{getBoundingClientRect:function(){if(2===h.length&&h[0].left>h[1].right&&null!=c&&null!=l)return h.find((e=>c>e.left-g.left&&c<e.right+g.right&&l>e.top-g.top&&l<e.bottom+g.bottom))||p;if(h.length>=2){if("y"===(0,r.Qq)(n)){const e=h[0],t=h[h.length-1],i="top"===(0,r.k3)(n),o=e.top,a=t.bottom,s=i?e.left:t.left,u=i?e.right:t.right;return{top:o,bottom:a,left:s,right:u,width:u-s,height:a-o,x:s,y:o}}const e="left"===(0,r.k3)(n),t=(0,r.Fp)(...h.map((e=>e.right))),i=(0,r.VV)(...h.map((e=>e.left))),o=h.filter((n=>e?n.left===i:n.right===t)),a=o[0].top,s=o[o.length-1].bottom;return{top:a,bottom:s,left:i,right:t,width:t-i,height:s-a,x:i,y:a}}return p}},floating:i.floating,strategy:s});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};const g=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:a,placement:s,middlewareData:u}=t,c=await async function(e,t){const{placement:n,platform:i,elements:o}=e,a=await(null==i.isRTL?void 0:i.isRTL(o.floating)),s=(0,r.k3)(n),u=(0,r.hp)(n),c="y"===(0,r.Qq)(n),l=["left","top"].includes(s)?-1:1,f=a&&c?-1:1,h=(0,r.ku)(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:g}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return u&&"number"==typeof g&&(p="end"===u?-1*g:g),c?{x:p*f,y:d*l}:{x:d*l,y:p*f}}(t,e);return s===(null==(n=u.offset)?void 0:n.placement)&&null!=(i=u.arrow)&&i.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:s}}}}},m=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:s=!0,crossAxis:u=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=(0,r.ku)(e,t),f={x:n,y:i},h=await a(t,l),d=(0,r.Qq)((0,r.k3)(o)),p=(0,r.Rn)(d);let g=f[p],m=f[d];if(s){const e="y"===p?"bottom":"right",t=g+h["y"===p?"top":"left"],n=g-h[e];g=(0,r.uZ)(t,g,n)}if(u){const e="y"===d?"bottom":"right",t=m+h["y"===d?"top":"left"],n=m-h[e];m=(0,r.uZ)(t,m,n)}const y=c.fn({...t,[p]:g,[d]:m});return{...y,data:{x:y.x-n,y:y.y-i}}}}},y=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:a,middlewareData:s}=t,{offset:u=0,mainAxis:c=!0,crossAxis:l=!0}=(0,r.ku)(e,t),f={x:n,y:i},h=(0,r.Qq)(o),d=(0,r.Rn)(h);let p=f[d],g=f[h];const m=(0,r.ku)(u,t),y="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const e="y"===d?"height":"width",t=a.reference[d]-a.floating[e]+y.mainAxis,n=a.reference[d]+a.reference[e]-y.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){var v,b;const e="y"===d?"width":"height",t=["top","left"].includes((0,r.k3)(o)),n=a.reference[h]-a.floating[e]+(t&&(null==(v=s.offset)?void 0:v[h])||0)+(t?0:y.crossAxis),i=a.reference[h]+a.reference[e]+(t?0:(null==(b=s.offset)?void 0:b[h])||0)-(t?y.crossAxis:0);g<n?g=n:g>i&&(g=i)}return{[d]:p,[h]:g}}}},v=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:s}=t,{apply:u=(()=>{}),...c}=(0,r.ku)(e,t),l=await a(t,c),f=(0,r.k3)(n),h=(0,r.hp)(n),d="y"===(0,r.Qq)(n),{width:p,height:g}=i.floating;let m,y;"top"===f||"bottom"===f?(m=f,y=h===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,m="end"===h?"top":"bottom");const v=g-l.top-l.bottom,b=p-l.left-l.right,w=(0,r.VV)(g-l[m],v),E=(0,r.VV)(p-l[y],b),T=!t.middlewareData.shift;let x=w,A=E;if(d?A=h||T?(0,r.VV)(E,b):b:x=h||T?(0,r.VV)(w,v):v,T&&!h){const e=(0,r.Fp)(l.left,0),t=(0,r.Fp)(l.right,0),n=(0,r.Fp)(l.top,0),i=(0,r.Fp)(l.bottom,0);d?A=p-2*(0!==e||0!==t?e+t:(0,r.Fp)(l.left,l.right)):x=g-2*(0!==n||0!==i?n+i:(0,r.Fp)(l.top,l.bottom))}await u({...t,availableWidth:A,availableHeight:x});const S=await o.getDimensions(s.floating);return p!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}}},84186:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>k,Jv:()=>E,Me:()=>T,Qo:()=>N,RR:()=>O,US:()=>x,X5:()=>S,cv:()=>A,dp:()=>R,dr:()=>I,oo:()=>P,uY:()=>_,x7:()=>C});var r=n(573662),i=n(474183),o=n(291477);function a(e){const t=(0,o.Dx)(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=(0,o.Re)(e),s=a?e.offsetWidth:n,u=a?e.offsetHeight:i,c=(0,r.NM)(n)!==s||(0,r.NM)(i)!==u;return c&&(n=s,i=u),{width:n,height:i,$:c}}function s(e){return(0,o.kK)(e)?e:e.contextElement}function u(e){const t=s(e);if(!(0,o.Re)(t))return(0,r.ze)(1);const n=t.getBoundingClientRect(),{width:i,height:u,$:c}=a(t);let l=(c?(0,r.NM)(n.width):n.width)/i,f=(c?(0,r.NM)(n.height):n.height)/u;return l&&Number.isFinite(l)||(l=1),f&&Number.isFinite(f)||(f=1),{x:l,y:f}}const c=(0,r.ze)(0);function l(e){const t=(0,o.Jj)(e);return(0,o.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:c}function f(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),c=s(e);let f=(0,r.ze)(1);t&&(i?(0,o.kK)(i)&&(f=u(i)):f=u(e));const h=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,o.Jj)(e))&&t}(c,n,i)?l(c):(0,r.ze)(0);let d=(a.left+h.x)/f.x,p=(a.top+h.y)/f.y,g=a.width/f.x,m=a.height/f.y;if(c){const e=(0,o.Jj)(c),t=i&&(0,o.kK)(i)?(0,o.Jj)(i):i;let n=e,r=n.frameElement;for(;r&&i&&t!==n;){const e=u(r),t=r.getBoundingClientRect(),i=(0,o.Dx)(r),a=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;d*=e.x,p*=e.y,g*=e.x,m*=e.y,d+=a,p+=s,n=(0,o.Jj)(r),r=n.frameElement}}return(0,r.JB)({width:g,height:m,x:d,y:p})}const h=[":popover-open",":modal"];function d(e){return h.some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function p(e){return f((0,o.tF)(e)).left+(0,o.Lw)(e).scrollLeft}function g(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=(0,o.Jj)(e),r=(0,o.tF)(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;const e=(0,o.Pf)();(!e||e&&"fixed"===t)&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:u,y:c}}(e,n);else if("document"===t)i=function(e){const t=(0,o.tF)(e),n=(0,o.Lw)(e),i=e.ownerDocument.body,a=(0,r.Fp)(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=(0,r.Fp)(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+p(e);const c=-n.scrollTop;return"rtl"===(0,o.Dx)(i).direction&&(u+=(0,r.Fp)(t.clientWidth,i.clientWidth)-a),{width:a,height:s,x:u,y:c}}((0,o.tF)(e));else if((0,o.kK)(t))i=function(e,t){const n=f(e,!0,"fixed"===t),i=n.top+e.clientTop,a=n.left+e.clientLeft,s=(0,o.Re)(e)?u(e):(0,r.ze)(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:i*s.y}}(t,n);else{const n=l(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return(0,r.JB)(i)}function m(e,t){const n=(0,o.Ow)(e);return!(n===t||!(0,o.kK)(n)||(0,o.Py)(n))&&("fixed"===(0,o.Dx)(n).position||m(n,t))}function y(e,t,n){const i=(0,o.Re)(t),a=(0,o.tF)(t),s="fixed"===n,u=f(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const l=(0,r.ze)(0);if(i||!i&&!s)if(("body"!==(0,o.wk)(t)||(0,o.ao)(a))&&(c=(0,o.Lw)(t)),i){const e=f(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&(l.x=p(a));return{x:u.left+c.scrollLeft-l.x,y:u.top+c.scrollTop-l.y,width:u.width,height:u.height}}function v(e){return"static"===(0,o.Dx)(e).position}function b(e,t){return(0,o.Re)(e)&&"fixed"!==(0,o.Dx)(e).position?t?t(e):e.offsetParent:null}function w(e,t){const n=(0,o.Jj)(e);if(d(e))return n;if(!(0,o.Re)(e)){let t=(0,o.Ow)(e);for(;t&&!(0,o.Py)(t);){if((0,o.kK)(t)&&!v(t))return t;t=(0,o.Ow)(t)}return n}let r=b(e,t);for(;r&&(0,o.Ze)(r)&&v(r);)r=b(r,t);return r&&(0,o.Py)(r)&&v(r)&&!(0,o.hT)(r)?n:r||(0,o.gQ)(e)||n}const E={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:a}=e;const s="fixed"===a,c=(0,o.tF)(i),l=!!t&&d(t.floating);if(i===c||l&&s)return n;let h={scrollLeft:0,scrollTop:0},p=(0,r.ze)(1);const g=(0,r.ze)(0),m=(0,o.Re)(i);if((m||!m&&!s)&&(("body"!==(0,o.wk)(i)||(0,o.ao)(c))&&(h=(0,o.Lw)(i)),(0,o.Re)(i))){const e=f(i);p=u(i),g.x=e.x+i.clientLeft,g.y=e.y+i.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x,y:n.y*p.y-h.scrollTop*p.y+g.y}},getDocumentElement:o.tF,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:a}=e;const s=[..."clippingAncestors"===n?d(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,o.Kx)(e,[],!1).filter((e=>(0,o.kK)(e)&&"body"!==(0,o.wk)(e))),i=null;const a="fixed"===(0,o.Dx)(e).position;let s=a?(0,o.Ow)(e):e;for(;(0,o.kK)(s)&&!(0,o.Py)(s);){const t=(0,o.Dx)(s),n=(0,o.hT)(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||(0,o.ao)(s)&&!n&&m(e,s))?r=r.filter((e=>e!==s)):i=t,s=(0,o.Ow)(s)}return t.set(e,r),r}(t,this._c):[].concat(n),i],u=s[0],c=s.reduce(((e,n)=>{const i=g(t,n,a);return e.top=(0,r.Fp)(i.top,e.top),e.right=(0,r.VV)(i.right,e.right),e.bottom=(0,r.VV)(i.bottom,e.bottom),e.left=(0,r.Fp)(i.left,e.left),e}),g(t,u,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:w,getElementRects:async function(e){const t=this.getOffsetParent||w,n=this.getDimensions,r=await n(e.floating);return{reference:y(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=a(e);return{width:t,height:n}},getScale:u,isElement:o.kK,isRTL:function(e){return"rtl"===(0,o.Dx)(e).direction}};function T(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:a=!0,ancestorResize:u=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:h=!1}=i,d=s(e),p=a||u?[...d?(0,o.Kx)(d):[],...(0,o.Kx)(t)]:[];p.forEach((e=>{a&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)}));const g=d&&l?function(e,t){let n,i=null;const a=(0,o.tF)(e);function s(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function o(u,c){void 0===u&&(u=!1),void 0===c&&(c=1),s();const{left:l,top:f,width:h,height:d}=e.getBoundingClientRect();if(u||t(),!h||!d)return;const p={rootMargin:-(0,r.GW)(f)+"px "+-(0,r.GW)(a.clientWidth-(l+h))+"px "+-(0,r.GW)(a.clientHeight-(f+d))+"px "+-(0,r.GW)(l)+"px",threshold:(0,r.Fp)(0,(0,r.VV)(1,c))||1};let g=!0;function m(e){const t=e[0].intersectionRatio;if(t!==c){if(!g)return o();t?o(!1,t):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}g=!1}try{i=new IntersectionObserver(m,{...p,root:a.ownerDocument})}catch(y){i=new IntersectionObserver(m,p)}i.observe(e)}(!0),s}(d,n):null;let m,y=-1,v=null;c&&(v=new ResizeObserver((e=>{let[r]=e;r&&r.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var e;null==(e=v)||e.observe(t)}))),n()})),d&&!h&&v.observe(d),v.observe(t));let b=h?f(e):null;return h&&function t(){const r=f(e);!b||r.x===b.x&&r.y===b.y&&r.width===b.width&&r.height===b.height||n();b=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;p.forEach((e=>{a&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)})),null==g||g(),null==(e=v)||e.disconnect(),v=null,h&&cancelAnimationFrame(m)}}const x=i.US,A=i.cv,S=i.X5,_=i.uY,O=i.RR,R=i.dp,k=i.Cp,C=i.x7,N=i.Qo,I=i.dr,P=(e,t,n)=>{const r=new Map,o={platform:E,...n},a={...o.platform,_c:r};return(0,i.oo)(e,t,{...o,platform:a})}},694788:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>m,RR:()=>g,YF:()=>f,cv:()=>d,uY:()=>p,x7:()=>y});var r=n(84186),i=n(875604),o=n(204358),a="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function s(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!s(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!s(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function u(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){const n=u(e);return Math.round(t*n)/n}function l(e){const t=i.useRef(e);return a((()=>{t.current=e})),t}function f(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:f=[],platform:h,elements:{reference:d,floating:p}={},transform:g=!0,whileElementsMounted:m,open:y}=e,[v,b]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,E]=i.useState(f);s(w,f)||E(f);const[T,x]=i.useState(null),[A,S]=i.useState(null),_=i.useCallback((e=>{e!==C.current&&(C.current=e,x(e))}),[]),O=i.useCallback((e=>{e!==N.current&&(N.current=e,S(e))}),[]),R=d||T,k=p||A,C=i.useRef(null),N=i.useRef(null),I=i.useRef(v),P=null!=m,L=l(m),M=l(h),j=i.useCallback((()=>{if(!C.current||!N.current)return;const e={placement:t,strategy:n,middleware:w};M.current&&(e.platform=M.current),(0,r.oo)(C.current,N.current,e).then((e=>{const t={...e,isPositioned:!0};D.current&&!s(I.current,t)&&(I.current=t,o.flushSync((()=>{b(t)})))}))}),[w,t,n,M]);a((()=>{!1===y&&I.current.isPositioned&&(I.current.isPositioned=!1,b((e=>({...e,isPositioned:!1}))))}),[y]);const D=i.useRef(!1);a((()=>(D.current=!0,()=>{D.current=!1})),[]),a((()=>{if(R&&(C.current=R),k&&(N.current=k),R&&k){if(L.current)return L.current(R,k,j);j()}}),[R,k,j,L,P]);const B=i.useMemo((()=>({reference:C,floating:N,setReference:_,setFloating:O})),[_,O]),U=i.useMemo((()=>({reference:R,floating:k})),[R,k]),F=i.useMemo((()=>{const e={position:n,left:0,top:0};if(!U.floating)return e;const t=c(U.floating,v.x),r=c(U.floating,v.y);return g?{...e,transform:"translate("+t+"px, "+r+"px)",...u(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,g,U.floating,v.x,v.y]);return i.useMemo((()=>({...v,update:j,refs:B,elements:U,floatingStyles:F})),[v,j,B,U,F])}const h=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:i}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?(0,r.x7)({element:n.current,padding:i}).fn(t):{}:n?(0,r.x7)({element:n,padding:i}).fn(t):{};var o}}),d=(e,t)=>({...(0,r.cv)(e),options:[e,t]}),p=(e,t)=>({...(0,r.uY)(e),options:[e,t]}),g=(e,t)=>({...(0,r.RR)(e),options:[e,t]}),m=(e,t)=>({...(0,r.Cp)(e),options:[e,t]}),y=(e,t)=>({...h(e),options:[e,t]})},725352:(e,t,n)=>{"use strict";var r;n.d(t,{YF:()=>_});var i=n(875604),o=(n(187128),n(573662),n(84186),n(291477)),a=n(694788);n(741137),n(204358);const s={...r||(r=n.t(i,2))},u=s.useInsertionEffect||(e=>e());function c(e){const t=i.useRef((()=>{0}));return u((()=>{t.current=e})),i.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const l="ArrowUp",f="ArrowDown",h="ArrowLeft",d="ArrowRight";var p="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;const g=[h,d],m=[l,f];let y=!1,v=0;const b=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+v++;const w=s.useId||function(){const[e,t]=i.useState((()=>y?b():void 0));return p((()=>{null==e&&t(b())}),[]),i.useEffect((()=>{y=!0}),[]),e};function E(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const T=i.createContext(null),x=i.createContext(null),A=()=>{var e;return(null==(e=i.useContext(T))?void 0:e.id)||null},S=()=>i.useContext(x);function _(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=w(),a=i.useRef({}),[s]=i.useState((()=>E())),u=null!=A(),[l,f]=i.useState(r.reference),h=c(((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:u}),null==n||n(e,t,r)})),d=i.useMemo((()=>({setPositionReference:f})),[]),p=i.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return i.useMemo((()=>({dataRef:a,open:t,onOpenChange:h,elements:p,events:s,floatingId:o,refs:d})),[t,h,p,s,o,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[u,l]=i.useState(null),[f,h]=i.useState(null),d=(null==s?void 0:s.reference)||u,g=i.useRef(null),m=S();p((()=>{d&&(g.current=d)}),[d]);const y=(0,a.YF)({...e,elements:{...s,...f&&{reference:f}}}),v=i.useCallback((e=>{const t=(0,o.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;h(t),y.refs.setReference(t)}),[y.refs]),b=i.useCallback((e=>{((0,o.kK)(e)||null===e)&&(g.current=e,l(e)),((0,o.kK)(y.refs.reference.current)||null===y.refs.reference.current||null!==e&&!(0,o.kK)(e))&&y.refs.setReference(e)}),[y.refs]),T=i.useMemo((()=>({...y.refs,setReference:b,setPositionReference:v,domReference:g})),[y.refs,b,v]),x=i.useMemo((()=>({...y.elements,domReference:d})),[y.elements,d]),_=i.useMemo((()=>({...y,...r,refs:T,elements:x,nodeId:t})),[y,T,x,t,r]);return p((()=>{r.dataRef.current.floatingContext=_;const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===t));e&&(e.context=_)})),i.useMemo((()=>({...y,context:_,refs:T,elements:x})),[y,T,x,_])}},187128:(e,t,n)=>{"use strict";n.d(t,{AW:()=>i,G6:()=>l,Ie:()=>T,MM:()=>p,Me:()=>m,Pe:()=>y,U9:()=>v,V5:()=>h,Xf:()=>a,Zj:()=>u,cr:()=>c,ex:()=>g,ij:()=>s,j7:()=>w,p7:()=>E,r:()=>d,r3:()=>o});var r=n(291477);function i(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function o(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function a(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function s(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function u(e){return!(0!==e.mozInputSource||!e.isTrusted)||(f()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function c(e){return!s().includes("jsdom/")&&(!f()&&0===e.width&&0===e.height||f()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function l(){return/apple/i.test(navigator.vendor)}function f(){const e=/android/i;return e.test(a())||e.test(s())}function h(){return a().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function d(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function p(e){return"nativeEvent"in e}function g(e){return e.matches("html,body")}function m(e){return(null==e?void 0:e.ownerDocument)||document}function y(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function v(e){return"composedPath"in e?e.composedPath()[0]:e.target}const b="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function w(e){return(0,r.Re)(e)&&e.matches(b)}function E(e){e.preventDefault(),e.stopPropagation()}function T(e){return!!e&&("combobox"===e.getAttribute("role")&&w(e))}},291477:(e,t,n)=>{"use strict";function r(e){return a(e)?(e.nodeName||"").toLowerCase():"#document"}function i(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function o(e){var t;return null==(t=(a(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function a(e){return e instanceof Node||e instanceof i(e).Node}function s(e){return e instanceof Element||e instanceof i(e).Element}function u(e){return e instanceof HTMLElement||e instanceof i(e).HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof i(e).ShadowRoot)}function l(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=m(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function f(e){return["table","td","th"].includes(r(e))}function h(e){const t=p(),n=m(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function d(e){let t=v(e);for(;u(t)&&!g(t);){if(h(t))return t;t=v(t)}return null}function p(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function g(e){return["html","body","#document"].includes(r(e))}function m(e){return i(e).getComputedStyle(e)}function y(e){return s(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function v(e){if("html"===r(e))return e;const t=e.assignedSlot||e.parentNode||c(e)&&e.host||o(e);return c(t)?t.host:t}function b(e){const t=v(e);return g(t)?e.ownerDocument?e.ownerDocument.body:e.body:u(t)&&l(t)?t:b(t)}function w(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=b(e),a=o===(null==(r=e.ownerDocument)?void 0:r.body),s=i(o);return a?t.concat(s,s.visualViewport||[],l(o)?o:[],s.frameElement&&n?w(s.frameElement):[]):t.concat(o,w(o,[],n))}n.d(t,{Dx:()=>m,Jj:()=>i,Kx:()=>w,Lw:()=>y,Ow:()=>v,Pf:()=>p,Py:()=>g,Re:()=>u,Ze:()=>f,Zq:()=>c,ao:()=>l,gQ:()=>d,hT:()=>h,kK:()=>s,tF:()=>o,wk:()=>r})},573662:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>o,Fp:()=>s,GW:()=>c,Go:()=>x,I4:()=>v,JB:()=>O,KX:()=>A,NM:()=>u,Qq:()=>b,Rn:()=>y,VV:()=>a,Wh:()=>w,gy:()=>T,hp:()=>m,i8:()=>E,k3:()=>g,ku:()=>p,mA:()=>r,pw:()=>S,uZ:()=>d,yd:()=>_,ze:()=>l});const r=["top","right","bottom","left"],i=["start","end"],o=r.reduce(((e,t)=>e.concat(t,t+"-"+i[0],t+"-"+i[1])),[]),a=Math.min,s=Math.max,u=Math.round,c=Math.floor,l=e=>({x:e,y:e}),f={left:"right",right:"left",bottom:"top",top:"bottom"},h={start:"end",end:"start"};function d(e,t,n){return s(e,a(t,n))}function p(e,t){return"function"==typeof e?e(t):e}function g(e){return e.split("-")[0]}function m(e){return e.split("-")[1]}function y(e){return"x"===e?"y":"x"}function v(e){return"y"===e?"height":"width"}function b(e){return["top","bottom"].includes(g(e))?"y":"x"}function w(e){return y(b(e))}function E(e,t,n){void 0===n&&(n=!1);const r=m(e),i=w(e),o=v(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=S(a)),[a,S(a)]}function T(e){const t=S(e);return[x(e),t,x(t)]}function x(e){return e.replace(/start|end/g,(e=>h[e]))}function A(e,t,n,r){const i=m(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}(g(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(x)))),o}function S(e){return e.replace(/left|right|bottom|top/g,(e=>f[e]))}function _(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function O(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}},300468:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function o(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,s(e,t,"get"))}function a(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,s(e,t,"set"),n),n}function s(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,{Z:()=>f});var c=function(e){if(!e)return[];Array.isArray(e)||(e=[e]);for(var t={},n=0;n<e.length;++n){var i,o=e[n];if(o&&"object"===r(o)&&(o=String(o)),"string"!=typeof o){var a="Locales should be strings, ".concat(JSON.stringify(o)," isn't.");throw new TypeError(a)}var s=o.split("-");if(!s.every((function(e){return/[a-z0-9]+/i.test(e)}))){var u=JSON.stringify(o),c="The locale ".concat(u," is not a structurally valid BCP 47 language tag.");throw new RangeError(c)}var l=s[0].toLowerCase();s[0]=null!==(i={in:"id",iw:"he",ji:"yi"}[l])&&void 0!==i?i:l,t[s.join("-")]=!0}return Object.keys(t)};function l(e){switch(r(e)){case"number":return e;case"bigint":throw new TypeError("Cannot convert a BigInt value to a number");default:return Number(e)}}function f(e,t,n,r){var s=function(e){do{if(t(e))return e;e=e.replace(/-?[^-]*$/,"")}while(e);return null},f=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,m=function(){function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,f,{writable:!0,value:void 0}),u(this,h,{writable:!0,value:void 0}),u(this,d,{writable:!0,value:void 0}),u(this,p,{writable:!0,value:void 0}),u(this,g,{writable:!0,value:void 0}),a(this,f,function(t){for(var n=c(t),r=0;r<n.length;++r){var i=s(n[r]);if(i)return i}var o=(new e).resolvedOptions().locale;return s(o)}(n)),a(this,d,t(o(this,f))),a(this,h,r(o(this,f))),a(this,p,function(e){var t=Object.prototype.hasOwnProperty.call(e,"type")&&e.type;if(!t)return"cardinal";if("cardinal"===t||"ordinal"===t)return t;throw new RangeError("Not a valid plural type: "+JSON.stringify(t))}(i)),a(this,g,new e("en",i))}var y,v,b;return y=m,b=[{key:"supportedLocalesOf",value:function(e){return c(e).filter(s)}}],(v=[{key:"resolvedOptions",value:function(){var e=o(this,g).resolvedOptions(),t=e.minimumIntegerDigits,r=e.minimumFractionDigits,i=e.maximumFractionDigits,a=e.minimumSignificantDigits,s=e.maximumSignificantDigits,u=e.roundingPriority,c={locale:o(this,f),type:o(this,p),minimumIntegerDigits:t,minimumFractionDigits:r,maximumFractionDigits:i};return"number"==typeof a&&(c.minimumSignificantDigits=a,c.maximumSignificantDigits=s),c.pluralCategories=n(o(this,f),"ordinal"===o(this,p)).slice(0),c.roundingPriority=u||"auto",c}},{key:"select",value:function(e){if(!(this instanceof m))throw new TypeError("select() called on incompatible ".concat(this));if("number"!=typeof e&&(e=Number(e)),!isFinite(e))return"other";var t=o(this,g).format(Math.abs(e));return o(this,d).call(this,t,"ordinal"===o(this,p))}},{key:"selectRange",value:function(e,t){if(!(this instanceof m))throw new TypeError("selectRange() called on incompatible ".concat(this));if(void 0===e)throw new TypeError("start is undefined");if(void 0===t)throw new TypeError("end is undefined");var n=l(e),r=l(t);if(!isFinite(n))throw new RangeError("start must be finite");if(!isFinite(r))throw new RangeError("end must be finite");return o(this,h).call(this,this.select(n),this.select(r))}}])&&i(y.prototype,v),b&&i(y,b),Object.defineProperty(y,"prototype",{writable:!1}),m}();return"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(m.prototype,Symbol.toStringTag,{value:"Intl.PluralRules",writable:!1,configurable:!0}),Object.defineProperty(m,"prototype",{writable:!1}),m}},949286:(e,t,n)=>{"use strict";n.d(t,{en:()=>s});const r="one",i="two",o="few",a="other",s={cardinal:[r,a],ordinal:[r,i,o,a]}},150268:(e,t,n)=>{"use strict";n.d(t,{en:()=>r});const r=(e,t)=>{const n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&r?"one":"other"}},391850:(e,t,n)=>{"use strict";n.d(t,{en:()=>i});const r=(e,t)=>"other",i=r},240236:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,_T:()=>a,ev:()=>u,gn:()=>s,pi:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}Object.create;function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=sourcemaps/b1eeac0bf5be0efc.vendor.js.map